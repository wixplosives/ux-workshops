(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[2616],{56639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o307",r={root:"s1431"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},45919:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o406",r={root:"s1429",icon:"s1430",title:"s1720",description:"s1721"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},83659:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o407",r={root:"s1722",fileTree:"s1723",fileTreeItem:"s1724",node:"s1725"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},45894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o308",r={root:"s1437"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},82500:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o483",r={root:"s1432",treeItemNode:"s1873",treeItemIcon:"s1435",treeIcon:"s1434",treeItemContent:"s1874",treeItemTitle:"s1875",treeItemText:"s1876",treeItemInput:"s1877",treeItemTextSearchHighlight:"s1436",decorationIcons:"s1878",expandIcon:"s1433"},a={},n={},o={indentValue:"--filetreeitem2848309116-indentValue",indent:"--filetreeitem2848309116-indent"},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},77102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o484",r={root:"s1879",input:"s1880",closeIcon:"s1881"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},43691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>l,keyframes:()=>a,namespace:()=>i,st:()=>d,stVars:()=>n,style:()=>c,vars:()=>o});const i="o485",r={root:"s1882",treeViewWrapper:"s1885",treeViewBackground:"s1883",treeViewSearchContainer:"s1884",fileTreeSearch:"s1886"},a={},n={},o={},l=s.stc.bind(null,i),c=s.sts.bind(null,i),d=c},75300:(e,t,s)=>{"use strict";function i(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function r(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function a(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var s=getComputedStyle(e,null);return r(s.overflowY,t)||r(s.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function n(e,t,s,i,r,a,n,o){return a<e&&n>t||a>e&&n<t?0:a<=e&&o<=s||n>=t&&o>=s?a-e-i:n>t&&o<s||a<e&&o>s?n-t+r:0}function o(e,t){var s=window,r=t.scrollMode,o=t.block,l=t.inline,c=t.boundary,d=t.skipOverflowHiddenElements,u="function"==typeof c?c:function(e){return e!==c};if(!i(e))throw new TypeError("Invalid target");for(var h=document.scrollingElement||document.documentElement,p=[],f=e;i(f)&&u(f);){if((f=f.parentElement)===h){p.push(f);break}null!=f&&f===document.body&&a(f)&&!a(document.documentElement)||null!=f&&a(f,d)&&p.push(f)}for(var m=s.visualViewport?s.visualViewport.width:innerWidth,y=s.visualViewport?s.visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,S=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),b=v.height,I=v.width,P=v.top,_=v.right,w=v.bottom,T=v.left,C="start"===o||"nearest"===o?P:"end"===o?w:P+b/2,E="center"===l?T+I/2:"end"===l?_:T,F=[],D=0;D<p.length;D++){var N=p[D],M=N.getBoundingClientRect(),x=M.height,O=M.width,k=M.top,R=M.right,L=M.bottom,V=M.left;if("if-needed"===r&&P>=0&&T>=0&&w<=y&&_<=m&&P>=k&&w<=L&&T>=V&&_<=R)return F;var A=getComputedStyle(N),j=parseInt(A.borderLeftWidth,10),W=parseInt(A.borderTopWidth,10),U=parseInt(A.borderRightWidth,10),B=parseInt(A.borderBottomWidth,10),H=0,$=0,K="offsetWidth"in N?N.offsetWidth-N.clientWidth-j-U:0,X="offsetHeight"in N?N.offsetHeight-N.clientHeight-W-B:0;if(h===N)H="start"===o?C:"end"===o?C-y:"nearest"===o?n(S,S+y,y,W,B,S+C,S+C+b,b):C-y/2,$="start"===l?E:"center"===l?E-m/2:"end"===l?E-m:n(g,g+m,m,j,U,g+E,g+E+I,I),H=Math.max(0,H+S),$=Math.max(0,$+g);else{H="start"===o?C-k-W:"end"===o?C-L+B+X:"nearest"===o?n(k,L,x,W,B+X,C,C+b,b):C-(k+x/2)+X/2,$="start"===l?E-V-j:"center"===l?E-(V+O/2)+K/2:"end"===l?E-R+U+K:n(V,R,O,j,U+K,E,E+I,I);var Y=N.scrollLeft,G=N.scrollTop;C+=G-(H=Math.max(0,Math.min(G+H,N.scrollHeight-x+X))),E+=Y-($=Math.max(0,Math.min(Y+$,N.scrollWidth-O+K)))}F.push({el:N,top:H,left:$})}return F}function l(e){return e===Object(e)&&0!==Object.keys(e).length}s.r(t),s.d(t,{default:()=>c});const c=function(e,t){var s=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(s?o(e,t):[]);if(s){var i=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var s="scrollBehavior"in document.body.style;e.forEach((function(e){var i=e.el,r=e.top,a=e.left;i.scroll&&s?i.scroll({top:r,left:a,behavior:t}):(i.scrollTop=r,i.scrollLeft=a)}))}(o(e,i),i.behavior)}}},46050:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundFallback=void 0;const i=s(5163).__importStar(s(87363)),r=s(69202),a=s(83135),n=s(45919);s(56639),t.NotFoundFallback=(0,i.memo)((({title:e,description:t,className:s})=>{const{track:o}=(0,i.useContext)(a.AnalyticsContext);return(0,i.useEffect)((()=>{o(e)}),[e,o]),i.default.createElement("div",{className:(0,n.style)(n.classes.root,s)},i.default.createElement(r.PreviewIcon,{className:n.classes.icon}),i.default.createElement("div",{className:n.classes.title},e),i.default.createElement("div",{className:n.classes.description},t))})),t.NotFoundFallback.displayName="NotFoundFallback"},12191:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileExplorer=void 0;const i=s(5163),r=i.__importStar(s(87363)),a=s(73654),n=i.__importDefault(s(72321)),o=s(69202),l=s(16042),c=s(83135),d=s(70268),u=s(69144),h=s(83659),p=s(24489);t.FileExplorer=(0,r.memo)((({className:e,onFileRename:t,getProjectName:s,slotsProcessor:i,onNodeMove:f,onSelect:m,copyPasteManager:y,fileTreeStore:g})=>{const S=(0,r.useRef)(null),v=(0,r.useRef)(null),b=(0,o.useAsync)(s,void 0,[s]),I=(0,r.useRef)(""),[P,_]=(0,r.useState)(!1),[w,T]=(0,r.useState)(g.fileSystemTree),[C,E]=(0,r.useState)(g.treeViewState);n.default.mark("file-explorer-render");const F=(0,l.useVisibility)(),D=(0,r.useRef)(),N=(0,r.useCallback)((e=>{D.current=e,F&&(T(e.fileSystemTree),E(e.treeViewState))}),[F]);(0,r.useEffect)((()=>{F&&D.current&&(T(D.current.fileSystemTree),E(D.current.treeViewState))}),[F]),(0,r.useEffect)((()=>(g.subscribe(N),()=>g.unsubscribe(N))),[g,N]);const{filePath:M}=(0,c.useQueryParams)(["filePath"]),x=(0,r.useCallback)((e=>{g.updateTreeViewState(e),E(g.treeViewState)}),[g]),O=(0,r.useCallback)((e=>{const t=new Set([a.sep,...g.treeViewState.toggledItemsIds,...(0,u.getPathsOfFilePath)(e,a.sep)]);x({toggledItemsIds:[...t],selectionStartId:e,currentNavigatableItemId:e,selectedIds:[e],disabledIds:null,typeAheadValue:""})}),[g.treeViewState.toggledItemsIds,x]);(0,r.useEffect)((()=>{"string"==typeof M&&I.current!==M&&(I.current=M,O(I.current))}),[M,O]);const k=(0,r.useCallback)((async(e,t,s=!1)=>{const i=(0,o.isCtrlKeyPressed)(e);switch(!0){case"Enter"===e.key&&!s:m(t);break;case"c"===e.key&&i:y.setCopyPath(t);break;case"v"===e.key&&i:await y.pasteCopied(t)}}),[y,m]),R=(0,r.useCallback)((e=>{_(void 0===e?!P:e)}),[P]),L=(0,r.useCallback)((async e=>{await g.loadDirectory(e)}),[g]);return r.default.createElement("div",{className:(0,h.style)(h.classes.root,e),ref:S},r.default.createElement(p.FileTree,{projectName:b,selectedFilePath:"string"==typeof M?M:"",onFileRename:t,slotsProcessor:i,className:h.classes.fileTree,fileTreeItemClassName:h.classes.fileTreeItem,tree:w,getFileStyle:i.getFileStyle,getDecorationIcons:i.getDecorationIcons,fileIconRenderer:i.fileIconRenderer,handleNodeMove:f,onFileClick:m,onItemKeyDown:k,updateTreeViewState:x,treeViewState:C,showSearch:!1,toggleSearch:R,onLoadDirectory:L,rootElementRef:v}),r.default.createElement(d.ScrollBar,{orientation:d.Orientation.Vertical,scrollViewRef:v}))})),t.FileExplorer.displayName="FileExplorer"},1412:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileTreeItem=void 0;const i=s(5163),r=i.__importStar(s(87363)),a=i.__importDefault(s(75300)),n=s(30896),o=s(81177),l=s(69202),c=s(15707),d=s(70268),u=s(32623),h=s(6045),p=s(82500);s(45894);const f=e=>e.stopPropagation(),m=e=>e.preventDefault(),y=(0,c.dropPanelOpenerCreateContextMenuBehaviours)();t.FileTreeItem=function(e){const{dataItemId:t,dataItem:s,isSelected:i,isCurrent:c,level:g,isExpanded:S,className:v,onFileDrop:b,fileActions:I=[],getFileStyle:P,fileIconRenderer:_,getDecorationIcons:w,onFileRename:T,cancelRename:C,onKeyDown:E,onFileClick:F,isRenaming:D,searchString:N,treeView:M,onLoadDirectory:x,hasChildren:O,relativePath:k}=e,[R,L]=(0,r.useState)(s.label),V=(0,r.useRef)(null),A=(0,r.useRef)(null);(0,r.useEffect)((()=>{L(s.label)}),[s.label]),(0,r.useEffect)((()=>{D&&V.current&&V.current.select()}),[D]),(0,r.useEffect)((()=>{i&&A.current&&(0,a.default)(A.current,{scrollMode:"if-needed",block:"center"})}),[i]);const j=(0,r.useCallback)((({data:{action:e}})=>{e&&e(s.path)}),[s.path]),W=(0,r.useCallback)((e=>{e!==s.label&&e?(L(e),T(s.path,e)):C()}),[s.label,s.path,T,C]),U=(0,r.useCallback)((e=>W(e.target.value)),[W]),B=(0,r.useCallback)((e=>{const{value:t}=e.target;switch(e.key){case"Enter":e.stopPropagation(),W(t);break;case"Escape":C()}}),[W,C]),H=(0,r.useMemo)((()=>{if(D)return r.default.createElement("input",{onBlur:U,ref:V,className:p.classes.treeItemInput,type:"text",defaultValue:R,onClick:f,onKeyDown:B});if(N.length){const e=R.toLowerCase().indexOf(N.toLowerCase());if(-1!==e){const t=R.substr(e,N.length);return r.default.createElement("span",null,R.substr(0,e),r.default.createElement("span",{className:p.classes.treeItemTextSearchHighlight},t),R.substr(e+t.length))}}return r.default.createElement("span",{className:p.classes.treeItemText},R)}),[N,D,R,U,B]),$=(0,r.useMemo)((()=>{switch(s.status){case h.LoadingStatus.loading:return"*";case h.LoadingStatus.unloadable:return"";default:return r.default.createElement(l.ChevronDownWixUiIcon,{className:(0,p.style)(p.classes.expandIcon,{expanded:S})})}}),[s.status,S]),K=(0,r.useCallback)((()=>{M.updateState((e=>{e.toggleExpanded(t)}))}),[M,t]),X=(0,r.useCallback)((e=>{E&&E(e,s.path,(0,u.isDir)(s))}),[E,s]),Y=(0,r.useCallback)((()=>{s.status!==h.LoadingStatus.loaded&&(0,u.isDir)(s)&&x(s.path),K()}),[s,x,K]),G=(0,r.useCallback)((()=>{(0,u.isDir)(s)?K():(0,u.isFile)(s)?F?F(s.path):O&&K():s.action&&s.action()}),[s,K,F,O]),z=(0,r.useCallback)((e=>{(0,u.isFsNode)(s)?e.dataTransfer.setData("text/plain",s.path):e.preventDefault()}),[s]),Q=(0,r.useMemo)((()=>{const e=[(0,p.style)(p.classes.treeItemIcon,{hasChildren:O})];return s.status===h.LoadingStatus.loaded&&e.push("loaded"),e.join(" ")}),[O,s.status]),q=(0,r.useMemo)((()=>({[p.vars.indent]:g+1})),[g]),J=(0,r.useMemo)((()=>_({...s,expanded:S})),[_,s,S]),Z=(0,r.useMemo)((()=>P(s)),[P,s]),ee=(0,r.useMemo)((()=>w(s).join(",")),[w,s]);return r.default.createElement(n.TreeViewItemRoot,{className:(0,p.style)(p.classes.root,{selected:i,current:c,expanded:S,loaded:s.status===h.LoadingStatus.loaded},v),onKeyDown:X,style:q,draggable:!0,onDragStart:z,onDragOver:m,onDrop:b,"data-file-path":s.path},r.default.createElement(d.Tooltip,{content:k(s.path)},r.default.createElement(d.ActionMenu,{onItemSelect:j,behaviours:y,positioningOptions:{boundary:(0,o.positioningAreaShrink)("window",{top:10,bottom:10,left:10,right:10}),sourceAnchor:o.PositioningAnchor.TopLeft,targetAnchor:o.PositioningAnchor.BottomRight,flipOnVerticalOverflow:!0},menuItems:I},r.default.createElement("div",{onClick:G,className:p.classes.treeItemNode,ref:A},r.default.createElement("i",{className:Q,"aria-expanded":S,onClick:Y},$),r.default.createElement("div",{className:p.classes.treeItemContent,style:Z,"data-hook":"item-content"},r.default.createElement("div",{className:p.classes.treeItemTitle},r.default.createElement("span",{className:p.classes.treeIcon},J),H),r.default.createElement("div",{className:p.classes.decorationIcons},ee))))))}},17247:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileTreeSearch=void 0;const i=s(5163).__importStar(s(87363)),r=s(38819),a=s(77102),n=s(69202);t.FileTreeSearch=function(e){const{treeViewRef:t,treeViewSearchText:s,onChange:o,className:l}=e,c=(0,i.useRef)(null),d=(0,i.useCallback)((()=>{const e=c.current;e&&e.focus()}),[]),u=(0,i.useCallback)((()=>{o(""),d()}),[o,d]),h=(0,i.useCallback)((e=>{o(e.target.value)}),[o]),p=(0,i.useCallback)((()=>t),[t]);return i.default.createElement("div",{className:(0,a.style)(a.classes.root,l)},i.default.createElement(r.ListViewNavigationInputBehaviour,{listViewSelector:p},i.default.createElement("input",{placeholder:"search",ref:c,autoFocus:!0,type:"text",value:s,onChange:h,className:(0,a.style)(a.classes.input,{error:!1})})),i.default.createElement(n.XIcon,{onClick:u,className:a.classes.closeIcon}))}},24489:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileTree=void 0;const i=s(5163).__importStar(s(87363)),r=s(73654),a=s(7268),n=s(81177),o=s(30896),l=s(38819),c=s(69202),d=s(91570),u=s(32623),h=s(17247),p=s(1412),f=s(43691),m=s(83135),y=s(70268),g=s(15707),S=s(6045),v=(0,g.dropPanelOpenerCreateContextMenuBehaviours)();function b(e,t){return!!e.length&&t.dataItem.treeNodeDataItem.label.toLowerCase().includes(e.toLowerCase())}function I(e){e.preventDefault()}function P(e,t){return(0,u.isDir)(e.dataItem)&&(0,u.isFile)(t.dataItem)?-1:(0,u.isFile)(e.dataItem)&&(0,u.isDir)(t.dataItem)||e.dataItem.path>=t.dataItem.path?1:-1}function _(e=new Map){return[...e.values()].map((e=>{const{dataItem:t}=e;return{id:t.path,dataItem:t,isSelectable:!0,typeAheadText:t.label,children:_(e.children)}})).sort(P)}t.FileTree=function(e){const{fileTreeItemClassName:t,projectName:s,tree:u,getFileStyle:g,getDecorationIcons:P,fileIconRenderer:w,onFileClick:T,showSearch:C,className:E,onItemKeyDown:F,onLoadDirectory:D,rootElementRef:N={current:null},selectedFilePath:M,slotsProcessor:x,toggleSearch:O,handleNodeMove:k,treeViewState:R,updateTreeViewState:L,onFileRename:V}=e,[A,j]=(0,i.useState)(""),[W,U]=(0,i.useState)(""),B=(0,i.useMemo)((()=>function(e,t){if(void 0!==t){const s=new Map;return e.dataItem.label=t||"/",s.set(t,e),_(s)}return[]}(u,s)),[u,s]),H=u.dataItem.path,{relative:$,sep:K}=(0,d.isWindowsStyleAbsolutePath)(H)?r.win32:r.posix,X=e=>$(H,e)||K,{track:Y}=(0,i.useContext)(m.AnalyticsContext),G=(0,i.useCallback)((e=>{(0,d.isTypeScriptFile)(e)?Y("opened file node - ts/tsx"):Y("opened file node - not code"),T&&T(e)}),[Y,T]),z=(0,i.useCallback)(((e,t)=>{U(""),t&&V&&V(e,t)}),[V]),Q=(0,i.useCallback)((()=>U("")),[]),q=o.TreeViewSlots.renderItem().provide(p.FileTreeItem,{props:e=>({...e,isSelected:M===e.dataItem.path,fileActions:se(e.dataItem),isRenaming:e.dataItem.path===W,className:t,searchString:A,getFileStyle:g,getDecorationIcons:P,onFileRename:z,fileIconRenderer:w,onFileDrop:te,onFileClick:G,onKeyDown:F,onLoadDirectory:D,cancelRename:Q,relativePath:X})}),J=(0,i.useCallback)((({data:{action:e}})=>{e&&e(u.dataItem.path)}),[u.dataItem.path]),Z=(0,i.useCallback)((e=>{if(!e.length){const e=ae.current;O(!1),e&&e.focus()}j(e)}),[O]),ee=(0,i.useCallback)((e=>{0===A.length?1===e.key.length&&O(!0):"Escape"===e.key&&Z("")}),[A,O,Z]),te=(0,i.useCallback)((async e=>{const t=e.dataTransfer.getData("text"),s=e.target.closest("[data-file-path]");if(t&&s){const e=s.dataset.filePath||"/";await k(t,e)}}),[k]),se=(0,i.useCallback)((e=>{const t={id:"rename",section:S.ContextMenuSections.Main,icon:i.default.createElement(c.RenameSmallIcon,null),label:S.fileActions.rename,action:e=>U(e),test:()=>!0},s={data:{item:"divider",divider:!0},preventMenuDismissing:d.noop},r=[...x.getContextActions(e),t].sort(((e,t)=>{const{section:s=S.ContextMenuSections.Main}=e,{section:i=S.ContextMenuSections.Main}=t;return s-i}));return r.reduce(((e,t,i)=>{e.push({data:{item:t.label,action:t.action,dataId:t.id,icon:t.icon},preventMenuDismissing:d.noop});const a=r[i+1];return a&&a.section!==t.section&&e.push(s),e}),[])}),[x]),ie=(0,i.useMemo)((()=>se(u.dataItem)),[u.dataItem,se]),re=(0,i.useRef)(null),ae=(0,i.useRef)(null),ne=[ae,N];return i.default.createElement("div",{tabIndex:1,ref:(0,a.createRefsUnion)(ne),onKeyDown:ee,className:(0,f.style)(f.classes.root,E)},i.default.createElement("div",{className:f.classes.treeViewWrapper},C?i.default.createElement("div",{className:f.classes.treeViewSearchContainer},i.default.createElement(h.FileTreeSearch,{className:f.classes.fileTreeSearch,treeViewRef:re,treeViewSearchText:A,onChange:Z})):null,i.default.createElement(o.TreeView,{navigationScopeReducingBySearchStrategy:l.NavigationScopeReducingBySearchStrategy.ReduceOnlyWhenHasMultipleMatches,ref:re,treeViewState:R,renderItem:q,onChange:L,selectionType:l.ListViewSelectionType.Multiple,typeAheadStrategy:l.DefaultTypeAheadStrategy,searchText:A,searchMatchingFunction:b,toggledTreeViewItemState:o.ToggledTreeViewItemState.Expanded},B)),i.default.createElement(y.ActionMenu,{className:f.classes.treeViewBackground,behaviours:v,menuItems:ie,positioningOptions:{boundary:(0,n.positioningAreaShrink)("window",{top:10,bottom:10,left:10,right:10}),sourceAnchor:n.PositioningAnchor.TopLeft,targetAnchor:n.PositioningAnchor.BottomRight,flipOnVerticalOverflow:!0},onItemSelect:J},i.default.createElement("div",{onDrop:te,onDragOver:I,"data-file-path":""})))}},88706:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5163);i.__exportStar(s(12191),t),i.__exportStar(s(24489),t),i.__exportStar(s(1412),t),i.__exportStar(s(17247),t),i.__exportStar(s(46050),t)},48264:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useOpenFile=t.useProjectPath=t.useFileContent=void 0;const i=s(87363),r=s(16042),a=s(9029),n=s(27941),o=s(69202),l=s(67079);t.useFileContent=function(e,t){const s=(0,r.useVisibility)();return(0,n.useResourceValue)({resourceManager:e,resourceId:t,enabled:s})},t.useProjectPath=function(){const{project:{projectService:e}}=(0,a.useMainContext)();return(0,o.useAsync)((()=>e.getProjectPath()),void 0,[e])},t.useOpenFile=()=>{const{projectUI:{openFileSlot:e}}=(0,a.useMainContext)();return(0,i.useMemo)((()=>(0,l.createOpenFile)(e)),[e])}},82616:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5163);i.__exportStar(s(48264),t),i.__exportStar(s(88706),t),i.__exportStar(s(52398),t),i.__exportStar(s(56404),t),i.__exportStar(s(43271),t),i.__exportStar(s(32623),t),i.__exportStar(s(97908),t)},32229:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDefaultIconPlugin=t.DEFAULT_ICON_NAME=void 0;const i=s(5163).__importStar(s(87363)),r=s(69202),a=s(46313),n=s(32623);t.DEFAULT_ICON_NAME="default",t.initDefaultIconPlugin=()=>({name:t.DEFAULT_ICON_NAME,render:function(e){const t=(0,i.useContext)(a.FileIconContext);if((0,n.isFile)(e)){const s=t(e.path);return s?i.default.createElement(s,null):i.default.createElement(r.DefaultIcon,null)}return(0,n.isDir)(e)?i.default.createElement(r.FolderSmallIcon,null):null}})},52398:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5163);i.__exportStar(s(613),t),i.__exportStar(s(25945),t),i.__exportStar(s(32229),t),i.__exportStar(s(21344),t)},613:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initModifiedIconPlugin=t.MODIFIED_ICON_NAME=void 0;const i=s(21344),r=s(32623);t.MODIFIED_ICON_NAME="modified",t.initModifiedIconPlugin=e=>({name:t.MODIFIED_ICON_NAME,render:t=>(0,r.isFile)(t)&&(0,i.isChanged)(e,t.path)?"M":null})},25945:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initModifiedStylePlugin=t.MODIFIED_STYLER_NAME=void 0;const i=s(21344),r=s(32623);t.MODIFIED_STYLER_NAME="modified",t.initModifiedStylePlugin=e=>({name:t.MODIFIED_STYLER_NAME,getStyle:t=>(0,r.isFile)(t)&&(0,i.isChanged)(e,t.path)?{color:"#E2C08D"}:{}})},21344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChanged=void 0,t.isChanged=(e,t)=>!!e.isOpen(t)&&e.get(t).isChanged()},52680:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPasteManager=void 0;const i=s(73654),r=s(91570);t.CopyPasteManager=class{constructor(e){this.projectService=e,this.copySource={path:"",cut:!1}}setCopyPath(e,t){this.copySource={path:e,cut:!!t}}isPasteAvailable(){return""!==this.copySource.path}async pasteCopied(e){if(!this.copySource||!await this.projectService.entityExists(this.copySource.path))return;const t=i.win32.basename(this.copySource.path),s=await this.projectService.isDirectory(e)?e:i.win32.dirname(e),a=(0,r.isWindowsStyleAbsolutePath)(s)?i.win32.join(s,t):i.posix.join(s,t);return this.copySource.cut?this.projectService.moveEntity(this.copySource.path,i.win32.dirname(a)):this.projectService.copy(this.copySource.path,a)}}},46313:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileIconContext=void 0;const i=s(5163).__importDefault(s(87363)),r=s(91570);t.FileIconContext=i.default.createContext(r.noop)},56404:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5163);i.__exportStar(s(52680),t),i.__exportStar(s(95596),t),i.__exportStar(s(51007),t)},95596:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenFilesService=void 0;const i=s(5163).__importDefault(s(87363)),r=s(73654),a=s(91570);t.OpenFilesService=class{constructor(e,t,s){this.targetAreaGroup=e,this.gui=t,this.FileIconService=s,this.onGuiChange=e=>{const t=e.changeLog;for(const e of t)switch(e.type){case"openPanel":case"closePanel":case"setActiveTab":case"moveToArea":this.onPanelChangeMng.notify(e)}};const{subscribe:i,unsubscribe:r,internals:n}=(0,a.setupSubscribers)();this.onPanelChangeMng=n,this.onPanelChange={subscribe:i,unsubscribe:r},this.gui.subscribe(this.onGuiChange)}destroy(){this.gui.unsubscribe(this.onGuiChange)}openFile({props:e,panelFactoryType:t}){this.openPanel(this.getPanelId(e.filePath,t),e,t)}renameFileTab({oldFileName:e,props:t,panelFactoryType:s}){var a;const n=this.getPanelId(e,s),o=this.getPanelId(t.filePath,s),l=null===(a=this.FileIconService)||void 0===a?void 0:a.getFileIconByFilePath(t.filePath),c={id:o,title:r.win32.basename(t.filePath),icon:l&&i.default.createElement(l,null),panelProps:{filePath:t.filePath}};this.gui.getOpenPanels().find((e=>e.id===n))&&this.gui.replacePanel({oldPanelId:n,newPanelConfig:c})}getPanelId(e,t){const s=this.getExistingIds(e,t);return s.length?s[0]:this.getNewId(e,t,s)}openFileInNewPanel({props:e,panelFactoryType:t}){const s=this.getExistingIds(e.filePath,t),i=this.getNewId(e.filePath,t,s);this.openPanel(i,e,t)}openPanel(e,t,s){var a;const n=null===(a=this.FileIconService)||void 0===a?void 0:a.getFileIconByFilePath(t.filePath);this.gui.openPanel(e,{icon:n&&i.default.createElement(n,null),title:r.win32.basename(t.filePath),panelType:s,panelProps:t},this.targetAreaGroup)}generatePanelId(e,t,s){return`file://${t}@${e}#${s}`}getNewId(e,t,s){let i=0,r=this.generatePanelId(e,t,i);for(;s.includes(r);)i++,r=this.generatePanelId(e,t,i);return r}getExistingIds(e,t){const{openPanels:s}=this.gui.getState();return s.filter((({panelType:s,panelProps:i})=>{const r=i.filePath;return s===t&&r===e})).map((({id:e})=>e))}}},51007:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlotsProcessor=void 0;const i=s(5163).__importDefault(s(87363)),r=s(69144),a=s(83135),n=s(32623);t.SlotsProcessor=class{constructor(e,t,s,r,a){this.contextSlotEntries=e,this.openFileSlotEntries=t,this.fileStylingSlot=s,this.decorationIconsSlot=r,this.FileIconService=a,this.getFileStyle=e=>{if((0,n.isFsNode)(e))try{return[...this.fileStylingSlot].reduce(((t,s)=>({...t,...s.getStyle(e)})),{})}catch(t){return console.warn(`File Style Slot error for ${e.path}`,t),[]}return{}},this.getDecorationIcons=e=>{if((0,n.isFsNode)(e))try{return[...this.decorationIconsSlot].map((t=>t.render(e))).filter((e=>!!e))}catch(t){return console.warn(`Decoration Icon Slot error for ${e.path}`,t),[]}return[]},this.fileIconRenderer=e=>{var t;if((0,n.isFsNode)(e)){const s=null===(t=this.FileIconService)||void 0===t?void 0:t.getFileIconByTreeItem(e);if(s)return i.default.createElement(s,null)}return null}}getContextActions(e){const t=[],s=e.path,i=e.type===r.NodeType.directory,n=e.type===r.NodeType.file;if(n)for(const[e,{label:i,panelFactoryType:r,test:n,removeFromContextMenu:o,actionIcon:l}]of this.openFileSlotEntries)n(s)&&!o&&t.push({id:e,icon:l,label:i,action:()=>(0,a.navigateToPanel)({type:r,props:{filePath:s}})});for(const{id:e,test:r,label:a,action:o,icon:l,section:c}of this.contextSlotEntries)r(s,i,n)&&t.push({id:e,label:a,section:c,action:()=>o(s),icon:l});return t}}},29682:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileTreeStore=t.MAX_FOLDER_DEPTH=void 0;const i=s(5163),r=s(73654),a=s(91570),n=s(30896),o=s(69144),l=s(6045),c=i.__importStar(s(22633));t.MAX_FOLDER_DEPTH=200,t.FileTreeStore=class{constructor(e,t,s,i=[]){this.directoryManager=e,this.fileChildrenFactories=t,this.getRootPath=s,this.toggledItemsIds=i,this.isPreloading=!1,this.onDirectoryChanged=async e=>{for(const t of e){const e=t.getId(),s=this.subPath(e),i=this.fileSystemTree.get((0,o.getTreeNodePath)(s,this.path.sep));if(!i)continue;const r=new Map(Array.from(t.getLatest()).map((e=>[e.name,e.stats])));for(const[t,s]of r)if(!i.children.has(t)){const i=this.path.join(e,t);this.createNode(i,s.isDirectory),s.isDirectory&&await this.preload(i)}for(const[t]of i.children)r.has(t)||this.removeNode(this.path.join(e,t))}};const{subscribe:c,unsubscribe:d,internals:u}=(0,a.setupSubscribers)();this.pubSubInternals=u,this.subscribe=c,this.unsubscribe=d;const h=r.posix.sep;this.path=r.posix,e.subscribeToAny(this.onDirectoryChanged),this.treeViewState={...n.TreeViewDefaultState,toggledItemsIds:[h,...i]},this.rootPathDepth=(0,o.getTreeNodePath)(h,r.posix.sep).length,this.fileSystemTree=new l.ScalableTree("root",{label:h,path:h,type:o.NodeType.directory,status:l.LoadingStatus.notLoaded})}async init(){this.rootPath=await this.getRootPath(),this.path=(0,a.isWindowsStyleAbsolutePath)(this.rootPath)?r.win32:r.posix,this.treeViewState={...n.TreeViewDefaultState,toggledItemsIds:[this.path.sep,...this.toggledItemsIds]},this.rootPathDepth=(0,o.getTreeNodePath)(this.rootPath,this.path.sep).length,this.fileSystemTree=new l.ScalableTree("root",{label:this.rootPath,path:this.rootPath,type:o.NodeType.directory,status:l.LoadingStatus.notLoaded}),this.isPreloading=!0,this.preload(this.rootPath).then((()=>{this.isPreloading=!1,this.notify({path:this.rootPath,type:o.FsEventType.LOAD,fileSystemTree:this.fileSystemTree,treeViewState:this.treeViewState})})).catch((()=>{this.isPreloading=!1}))}destroy(){this.directoryManager.unsubscribeFromAny(this.onDirectoryChanged)}updateTreeViewState(e){this.treeViewState=e}async loadDirectory(e){await this.preload(e)}notify(e){this.isPreloading||this.pubSubInternals.notify(e)}createNode(e,t){const s=this.makeNode(e,this.path.basename(e),t?o.NodeType.directory:o.NodeType.file);if(this.addNodes(this.path.dirname(e),[s]),s.dataItem.status===l.LoadingStatus.notLoaded)try{this.loadFileChildren(e)}catch(t){throw new Error(`something went frong loading file children for ${e}\n${t}`)}}removeNode(e){const t=this.subPath(e),s=(0,o.getTreeNodePath)(t,this.path.sep);if(this.fileSystemTree.get(s)){const t=this.fileSystemTree.removeNode(s);if(t)return this.fileSystemTree=t,this.notify({path:e,type:o.FsEventType.DELETE,fileSystemTree:this.fileSystemTree,treeViewState:this.treeViewState}),!0}return!1}loadFileChildren(e){const t=[];for(const s of this.fileChildrenFactories)if(s.isApplicable(e)){const i=s.getChildren(e);for(const r of i){const i=`${e}#${r.id}`,a=this.makeNode(i,r.label,o.NodeType.virtual,s.groupingRoot);a.dataItem.action=r.action,t.push(a)}}this.addNodes(e,t);const s=t.length>0?l.LoadingStatus.loaded:l.LoadingStatus.unloadable;this.updateDataItem(e,"status",s)}async readDirectory(e){const s=this.subPath(e);if((0,o.getTreeNodePath)(s,this.path.sep).length-this.rootPathDepth>t.MAX_FOLDER_DEPTH)throw new Error("Max folder depth exceeded");return(await this.directoryManager.getReady(e,this)).getLatest().map((t=>this.makeNode(this.path.join(e,t.name),t.name,t.stats.isDirectory?o.NodeType.directory:o.NodeType.file)))}makeNode(e,t,s,i){let r;return r=s===o.NodeType.directory||Array.from(this.fileChildrenFactories).some((t=>t.isApplicable(e)))?l.LoadingStatus.notLoaded:l.LoadingStatus.unloadable,new l.ScalableTree(t,{label:t,path:e,type:s,status:r,groupingRoot:i})}updateDataItem(e,t,s){const i=this.subPath(e),r=(0,o.getTreeNodePath)(i,this.path.sep),a=this.fileSystemTree.get(r);if(a){const i={...a.dataItem,[t]:s},n=this.fileSystemTree.updateDataItem(r,i);if(!n)return!1;this.fileSystemTree=n,this.notify({path:e,type:o.FsEventType.LOAD,fileSystemTree:this.fileSystemTree,treeViewState:this.treeViewState})}return!0}addNodes(e,t){const s=this.subPath(e),i=(0,o.getTreeNodePath)(s,this.path.sep),r=this.fileSystemTree.setChildren(i,t);return!!r&&(this.fileSystemTree=r,this.notify({path:e,type:o.FsEventType.CREATE,fileSystemTree:this.fileSystemTree,treeViewState:this.treeViewState}),!0)}async preload(e){this.updateDataItem(e,"status",l.LoadingStatus.loading);const t=await this.readDirectory(e),s=this.subPath(e),i=(0,o.getTreeNodePath)(s,this.path.sep),r=this.fileSystemTree.get(i);if(!r)return;const a=this.fileSystemTree.replace(i,new l.ScalableTree(r.id,{...r.dataItem,status:l.LoadingStatus.loaded},t.reduce(((e,t)=>e.set(t.id,t)),new Map)));a&&(this.fileSystemTree=a,t&&await Promise.all(Array.from(t).map((e=>{if(e.dataItem.status!==l.LoadingStatus.unloadable){if(c.isDir(e.dataItem))return this.preload(e.dataItem.path);if(c.isFile(e.dataItem))return this.updateDataItem(e.dataItem.path,"status",l.LoadingStatus.loading),this.loadFileChildren(e.dataItem.path)}return Promise.resolve()}))),this.updateDataItem(e,"status",l.LoadingStatus.loaded))}subPath(e){return this.path.sep+this.path.relative(this.rootPath,e)}}},43271:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s(5163).__exportStar(s(29682),t)},97908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67079:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOpenFile=void 0;const i=s(83135);t.createOpenFile=e=>t=>{for(const{test:s,panelFactoryType:r}of e.values())if(s(t)){(0,i.navigateToPanel)({type:r,props:{filePath:t}});break}}},22633:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVirtual=t.isFsNode=t.isFile=t.isDir=void 0;const i=s(69144);t.isDir=function(e){return e.type===i.NodeType.directory},t.isFile=function(e){return e.type===i.NodeType.file},t.isFsNode=function(e){return e.type===i.NodeType.file||e.type===i.NodeType.directory},t.isVirtual=function(e){return e.type===i.NodeType.virtual}},32623:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s(5163).__exportStar(s(22633),t)},42341:(e,t)=>{"use strict";var s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingStatus=t.ContextMenuSections=t.getPanelId=t.UNDO_REDO_BUTTONS_ID=t.FILE_EXPLORER_TYPE=void 0,t.FILE_EXPLORER_TYPE="FileExplorerPanel",t.UNDO_REDO_BUTTONS_ID="undo-redo-buttons",t.getPanelId=function(e,t){return`file://${t}@${e}`},(i=t.ContextMenuSections||(t.ContextMenuSections={}))[i.Main=0]="Main",i[i.New=1]="New",i[i.Clipboard=2]="Clipboard",i[i.Delete=3]="Delete",(s=t.LoadingStatus||(t.LoadingStatus={}))[s.loading=0]="loading",s[s.loaded=1]="loaded",s[s.notLoaded=2]="notLoaded",s[s.unloadable=3]="unloadable"},35875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=t.tooltips=t.dialogs=t.fileActions=void 0,t.fileActions={copy:"Copy",cut:"Cut",paste:"Paste",rename:"Rename",delete:"Delete",copyAbsolutePath:"Copy Absolute Path",copyRelativePath:"Copy Relative Path",newFile:"New File",newFolder:"New Folder"},t.dialogs={newFile:{title:"Enter new file name",error:e=>`Couldn't create file ${e}`},newFolder:{title:"Enter new folder name",error:e=>`Couldn't create folder ${e}`},delete:{title:"Delete",content:e=>`Are you sure you want to delete '${e}'?`,error:e=>`Couldn't delete ${e}`}},t.tooltips={undo:"Undo",redo:"Redo"},t.notifications={externalUndo:"The action you reverted was made outside of WCS."}},6045:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.content=void 0;const i=s(5163);t.content=i.__importStar(s(35875)),i.__exportStar(s(35875),t),i.__exportStar(s(42341),t),i.__exportStar(s(24584),t)},24584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScalableTree=void 0;class s{constructor(e,t,s=new Map){this.id=e,this.dataItem=t,this.children=s}forEach(e){e(this),this.children&&this.children.forEach((t=>t.forEach(e)))}get(e){const[t,...s]=e;if(!t)return this;{const e=this.children&&this.children.get(t);if(e)return e.get(s)}return null}replace(e,t){const[i,...r]=e;if(!i)return t;{const e=this.children&&this.children.get(i),a=e&&e.replace(r,t);if(e&&a){const t=this.updateChildren({filterIds:[e.id],oldChildren:this.children,newChildren:[a]});return new s(this.id,this.dataItem,t)}}return null}removeNode(e){if(e.length>0){const t=e[e.length-1],i=e.slice(0,e.length-1),r=this.get(i),a=r&&r.get([t]);if(r&&a)return this.replace(i,new s(r.id,r.dataItem,this.updateChildren({filterIds:[a.id],oldChildren:r.children})))}return null}setChildren(e,t){const i=this.get(e);return i?this.replace(e,new s(i.id,i.dataItem,this.updateChildren({oldChildren:i.children,newChildren:t}))):null}updateDataItem(e,t){const i=this.get(e);if(i){const r=new s(i.id,t,i.children);return this.replace(e,r)}return null}updateChildren(e){const{filterIds:t=[],oldChildren:s,newChildren:i}=e,r=new Map;if(s&&s.forEach(((e,s)=>{t.includes(s)||r.set(s,e)})),i)for(const e of i)r.set(e.id,e);return r.size>0?r:new Map}}t.ScalableTree=s},98180:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.directoryManipulator=t.directoryReducer=t.DirectoryChangeKind=void 0,function(e){e.FULL="full",e.ADD="add",e.REMOVE="remove"}(s=t.DirectoryChangeKind||(t.DirectoryChangeKind={})),t.directoryReducer=(e,t)=>{switch(t.kind){case s.FULL:return{value:t.value,invertingChanges:[{kind:s.FULL,value:e}]};case s.ADD:return{value:[...e,t.node],invertingChanges:[{kind:s.FULL,value:e}]};case s.REMOVE:return{value:e.filter((e=>e.name!==t.name)),invertingChanges:[{kind:s.FULL,value:e}]};default:return{value:e,invertingChanges:[{kind:s.FULL,value:e}]}}},t.directoryManipulator={reducer:t.directoryReducer}},61276:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileScannerComputeHandler=t.getDirectoryEntities=t.traverseFs=void 0;const i=s(93849),r=s(98180);t.traverseFs=function e({directoryPath:t,fs:s,filterFile:r=i.returnsTrue,filterDirectory:a=i.returnsTrue,directories:n=[],files:o=[]}){const{readdirSync:l}=s;n.push({path:t,name:s.basename(t)});for(const i of l(t,{withFileTypes:!0})){const l=i.name,c=s.join(t,l);i.isDirectory()&&a(c,l)?e({directoryPath:c,fs:s,filterFile:r,filterDirectory:a,directories:n,files:o}):i.isFile()&&r(c,l)&&o.push({path:c,name:l})}return{directories:n,files:o}},t.getDirectoryEntities=function({directoryPath:e,fs:t}){const{readdirSync:s}=t,i={directories:[],files:[]};for(const r of s(e,{withFileTypes:!0})){const s=r.name,a=t.join(e,s);r.isDirectory()?i.directories.push({path:a,name:s}):r.isFile()&&i.files.push({path:a,name:s})}return i},t.FileScannerComputeHandler=class{constructor(e,t,s,i,r){this.controller=e,this.manipulator=t,this.fs=s,this.pathPredicate=i,this.directoryManager=r}compute(e){let t=this.controller.getEmptyValue();const{changes:s,dependencies:i}=this.addDirectory(e,t);for(const e of s)t=this.manipulator.reducer(t,e).value;return{value:t,dependencies:i,status:{valid:!0}}}recompute(e,t,s,i){const r=e.getLatest(),a=[];let n=new Set(i);for(const e of s){if(!e.isValid())continue;const s=e.getType(),{changes:i,dependencies:o}=this.getDirectoryRelatedUpdates(e,t[s][e.getSerializedId()],r,n);a.push(...i),n=o}const o=Array.from(i).filter((e=>!e.isValid()));return{dependencies:new Set([...n].filter((e=>!o.includes(e)))),changes:a,status:{valid:!0}}}addDirectory(e,t){const s=new Set,{files:i,directoryResources:r}=this.addDirRecurse(e),a=[],n=this.controller.onFilesAdded(t,i.map((({path:e})=>e)));return r.forEach((e=>s.add(e))),a.push(...n.changes),{changes:a,dependencies:s}}addDirRecurse(e,t=[],s=[],i=[]){const r=this.directoryManager.get(e);i.push(r);const a=r.getLatest();for(const r of a){const a={name:r.name,path:this.fs.join(e,r.name)};this.pathPredicate(a.path)&&(r.stats.isDirectory?(t.push(a),this.addDirRecurse(a.path,t,s,i)):r.stats.isFile&&this.controller.predicate(a.path)&&s.push(a))}return{files:s,directories:t,directoryResources:i}}getDirectoryRelatedUpdates(e,t,s,i){if(t.isDisposed())return{changes:[],dependencies:i};const a=[],n=new Set(i),o=e.getChangesFromVersion(t),l=e.getId();return o.forEach((e=>{if(e.kind===r.DirectoryChangeKind.ADD){const t=this.fs.join(l,e.node.name);if(e.node.stats.isDirectory){if(this.pathPredicate(t)){const{changes:e,dependencies:i}=this.addDirectory(t,s);for(const e of i)n.add(e);a.push(...e)}}else if(this.pathPredicate(t)&&this.controller.predicate(t)){const{changes:e}=this.controller.onFilesAdded(s,[t]);a.push(...e)}}else if(e.kind===r.DirectoryChangeKind.REMOVE){const t=this.fs.join(l,e.name);a.push(...this.controller.onRemoved(s,t))}})),{changes:a,dependencies:n}}}},33506:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removePrefixPath=t.createPathPredicate=t.directoryDeepChildren=t.getPathsOfFilePath=t.getTreeNodePath=void 0;const i=s(71876),r=s(73654),a=s(91570);function n(e,t){return e.split(t).filter((e=>!!e))}function o(){return!0}t.getTreeNodePath=n,t.getPathsOfFilePath=function(e,t){var s;const i=e?n(e,t):[],r=[];for(let e=0;e<i.length;e++)r.push((null!==(s=r[e-1])&&void 0!==s?s:"")+t+i[e]);return r},t.directoryDeepChildren=async function*e(t,s,i=o,r=s){for(const a of await t.promises.readdir(s,{withFileTypes:!0})){const n=a.name,o=t.join(s,n),l=t.relative(r,o);if(a.isFile()){const e={type:"file",path:o,name:n,relativePath:l};i(e)&&(yield e)}else if(a.isDirectory()){const s={type:"directory",path:o,name:n,relativePath:l};i(s)&&(yield s,yield*e(t,o,i,r))}}},t.createPathPredicate=function(e,t,s){const r=s.map((e=>(0,i.makeRe)(e)));return s=>{const i=e.relative(t,s);return!r.some((e=>e.test(i)))}},t.removePrefixPath=(e,t)=>e?(0,a.replaceWinSlashes)(r.win32.relative(e,t)):(0,a.replaceWinSlashes)(t)},18012:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5163);i.__exportStar(s(78204),t),i.__exportStar(s(98180),t),i.__exportStar(s(33506),t),i.__exportStar(s(98073),t),i.__exportStar(s(61276),t)},98073:(e,t)=>{"use strict";var s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=t.FsEventType=void 0,(i=t.FsEventType||(t.FsEventType={}))[i.CREATE=0]="CREATE",i[i.LOAD=1]="LOAD",i[i.UPDATE=2]="UPDATE",i[i.DELETE=3]="DELETE",(s=t.NodeType||(t.NodeType={}))[s.directory=0]="directory",s[s.file=1]="file",s[s.virtual=2]="virtual",s[s.none=3]="none"},69144:(e,t,s)=>{e.exports=s(18012)}}]);