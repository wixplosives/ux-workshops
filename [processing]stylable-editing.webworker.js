(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[180],{81713:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163),r=s(93849),i=a.__importDefault(s(51009)),l=a.__importDefault(s(2206)),o=s(30383),n=a.__importDefault(s(94400));t.default=new r.Feature({id:"stylable-editing",dependencies:[i.default.asEntity,l.default.asEntity,o.StylableLanguageService.asEntity,n.default.asEntity,o.StylableCompiler.asEntity],api:{}})},50614:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163),r=s(2206),i=a.__importDefault(s(81713)),l=s(23173),o=s(83413),n=s(96764);i.default.setup(r.processingEnv,(({},{project:{fileManager:e},StylePanel:{styleEditingSlot:t,classNamesPlugins:s},stylableLanguageService:{stylable:a},simpleAST:{idService:r,sourceIdResource:i},stylableCompiler:{onProcessSlot:c}})=>{const d=r.getLanguage(".st.css");if(!d)throw new Error("Language plugin for Stylable not found");c.register({editing:!0,process:(0,l.getAdderOfCustomPropertyIdsToMetaAst)(i,d)}),c.register({editing:!0,process:n.forceStylableNativeStates});const u=new l.StylableEditing(e,a,r);s.register(new o.StylableClassNamesPlugin(u)),t.register({libraryName:"stylable",isApplicable:e=>e.endsWith(".st.css"),service:u})}))},96764:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceStylableNativeStates=void 0;const a=s(52151),r=(0,s(26034).forceNativeStatesFactory)(a.overrideStatePrefix);t.forceStylableNativeStates=function(e,t){return r(e.ast),e}},83413:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylableClassNamesPlugin=void 0;const a=s(9240),r=s(86577),i=s(26034);t.StylableClassNamesPlugin=class{constructor(e){this.editing=e,this.pluginName="stylable-style"}parse(e,t,s){if("string"==typeof e||!(0,a.isNodeOfKind)("call",e))return null;const l=e.method;if(!(0,a.isSimpleFileReferenceNode)(l)||!l.targetFile.endsWith(".st.css")||"style"!==l.targetExport&&"st"!==l.targetExport)return null;let o;return e.args.flatMap((e=>(0,a.isNodeOfKind)("string",e)?(0,i.parseString)(e.value):o&&(0,a.isNodeOfKind)("object",e)?e.properties.flatMap((e=>(0,a.isNodeOfKind)("property",e)?(0,a.isNodeOfKind)("string",e.name)?(0,i.parseString)(e.name.value).map((t=>(0,r.isImportedClassUsage)(o)?(0,r.conditionlClassUsage)({cls:(0,r.stringClassUsage)({id:t.id,className:t.className,targetClassName:this.editing.nameSpaceState(o.importedFrom,t.className)}),title:t.className,description:(0,r.isImportedClassUsage)(o)?o.title+":"+t+" from "+o.importedFrom:void 0,id:o.id+":"+t.id,condition:{ast:e.initializer,code:s(e.initializer)}}):(0,r.unknownClassUsage)({ast:e.name,code:"unsupported state for non stylable class"}))):(0,r.unknownClassUsage)({ast:e.name,code:"unsupported dynamic state name"}):t(e))):(o=t(e),[o])))}setClasses(e,t,s,i){const o=e.find((e=>(0,r.isImportedClassUsage)(e)&&e.importedFrom.endsWith(".st.css")));if(e.length<2||!o)return null;const n=e.reduce(((e,t)=>{if((0,r.isConditionalClassUsage)(t)){const s=e[e.length-1];Array.isArray(s)?s.push(t):e.push([t])}else e.push(t);return e}),[]);return(0,a.createCallNode)({astNodeId:t(),method:(0,a.createFileReferenceNode)({astNodeId:t(),targetExport:"st",targetFile:i(o.importedFrom)}),args:n.map((e=>Array.isArray(e)?(0,a.createObjectNode)({astNodeId:t(),properties:e.map((e=>(0,a.createPropertyNode)({astNodeId:t(),name:l(e.cls,t,s),initializer:e.condition.ast})))}):l(e,t,s)))})}};const l=(e,t,s)=>(0,r.isStringClassUsage)(e)?(0,a.createStringNode)({astNodeId:t(),value:e.className}):(0,r.isUnknownClassUsage)(e)?e.ast:s(e)},23173:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdderOfCustomPropertyIdsToMetaAst=t.StylableEditing=void 0;const a=s(26034),r=s(86577),i=s(9240),l=s(98300);class o extends a.CSSEditing{constructor(e,t,s){super(e,"Stylable",s),this.fileManager=e,this.stylable=t,this.parseDeclarationValuePart=(e,t)=>{const s=this.stylable.process(t),a=n([e],s,this.stylable.transform(s),t,this.stylable.resolver)[0];return(0,r.isDeclarationExpressionItem)(a)?a:null}}shouldImportNewClasses(){return!0}getRuleReadableNames(e){const t=this.idService.getFileAPI(e);if(null!==t.getParsingErrors())throw new Error(t.getParsingErrors());const s=t.getSourceFile(),a={};return s.walkRules((e=>{const s=e.parent;s&&"atrule"===s.type&&"scope"===s.name?a[t.getNodeID(e)]=s.params+" "+e.selector:a[t.getNodeID(e)]=e.selector})),a}nameSpaceClass(e,t){return`${this.stylable.process(e).namespace}__${t}`}nameSpaceState(e,t){return`${this.stylable.process(e).namespace}--${t}`}getDefinedClasses(e){const t=this.stylable.process(e);return Object.entries(t.getAllClasses()).flatMap((([s,a])=>{const i=[(0,r.importedClassUsage)({className:s,importedFrom:e,targetClassName:`${t.namespace}__${s}`})],l=a["-st-states"];if(l)for(const[a,o]of Object.entries(l))null===o?i.push((0,r.stateDefinedClass)({className:s+":"+a,importedFrom:e,targetClassName:t.namespace+"--"+a})):i.push((0,r.stateDefinedClass)({className:s+":"+a,importedFrom:e,targetClassName:t.namespace+"---"+a+"-",isDynamicClassName:!0}));return i}))}parseJSClassImport(e,t){if(!(0,i.isNodeOfKind)("property-access",e))return null;if(!(0,i.isNodeOfKind)("ref",e.reference)||"classes"!==e.reference.targetExport)return null;if(1!==e.accessPath.length)return null;const s=e.accessPath[0];if(!(0,i.isNodeOfKind)("property-access-index",s))return null;const a=s.accessKey.toString(),l=t(e.reference.targetFile),o=this.stylable.process(l);return(0,r.importedClassUsage)({className:a,importedFrom:l,targetClassName:`${o.namespace}__${a}`})}writeJSClassImport(e,t){return(0,i.createPropertyAccessNode)({astNodeId:t.generateId(),reference:(0,i.createFileReferenceNode)({astNodeId:t.generateId(),targetExport:"classes",targetFile:t.toLocalPath(e.importedFrom)}),accessPath:[(0,i.createPropertyAccessIndexNode)({astNodeId:t.generateId(),accessKey:e.className})]})}getAvailableVariablesForFile(e){const t=this.stylable.process(e),{exports:s}=this.stylable.transform(t),a=[],i=Object.entries(s.vars);return i.length&&a.push({preprocessorId:"native",filePath:e,variables:i.map((([e,t])=>(0,r.cssNativeVar)({sourceName:"--"+e,targetName:t})))}),Object.entries(s.stVars).length&&a.push({preprocessorId:"stylable",filePath:e,variables:c(e,s.stVars)}),a}}function n(e,t,s,a,i,o=new Map){const c=a+"#"+e.map(r.getFullText).join("");let d=o.get(c);if(d)return d;d=[],o.set(c,d);for(const c of e)if("call"===c.type&&"var"===c.name){const e=c.args.find((e=>"text"===e.type));e&&d.push((0,r.cssNativeVar)({sourceName:e.text,targetName:s.exports.vars[e.text.slice(2)]}))}else if("call"===c.type&&"value"===c.name){const e=c.args.find((e=>"text"===e.type));if(e){const u=t.getSymbol(e.text);if("var"===(null==u?void 0:u._kind)){const e=u.name;d.push((0,r.cssBuildVar)({definitionFile:a,id:a+"#"+e,sourceName:e,code:(0,r.getFullText)(c),value:n((0,l.createCssValueAST)(u.text),t,s,a,i,o)}))}else if("import"===(null==u?void 0:u._kind)){const e=i.deepResolve(u);if(e&&"css"===e._kind&&"var"===e.symbol._kind){const t=e.meta.source,a=e.symbol.name;d.push((0,r.cssBuildVar)({definitionFile:t,id:t+"#"+a,sourceName:a,code:(0,r.getFullText)(c),value:n((0,l.createCssValueAST)(e.symbol.text),e.meta,s,t,i,o)}))}}}}else d.push(c);return d}function c(e,t,s="",a=[]){const i=[];if("string"==typeof t)i.push((0,r.cssBuildVar)({definitionFile:e,id:e+"#"+s,sourceName:null!=s?s:"",code:"value("+a.join(", ")+")",value:(0,l.createCssValueAST)(t)}));else for(const[r,l]of Object.entries(t))i.push(...c(e,l,s?Array.isArray(t)?`${s}[${r}]`:`${s}.${r}`:r,[...a,r]));return i}t.StylableEditing=o,t.getAdderOfCustomPropertyIdsToMetaAst=function(e,t){return s=>{const r=(0,a.getAdderOfCustomPropertyIds)(e,t)(s.ast);return s.ast=r,s}}},72334:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylableCompiler=t.StylableLanguageService=t.default=void 0;const a=s(5163);var r=s(70286);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.__importDefault(r).default}});var i=s(13427);Object.defineProperty(t,"StylableLanguageService",{enumerable:!0,get:function(){return a.__importDefault(i).default}}),a.__exportStar(s(70286),t);var l=s(84081);Object.defineProperty(t,"StylableCompiler",{enumerable:!0,get:function(){return a.__importDefault(l).default}})},84081:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163),r=s(93849),i=s(2206),l=a.__importDefault(s(25447)),o=a.__importDefault(s(93104)),n=a.__importDefault(s(70286));t.default=new r.Feature({id:"stylableCompiler",dependencies:[n.default.asEntity,l.default.asEntity,o.default.asEntity],api:{onProcessSlot:r.Slot.withType().defineEntity(i.processingEnv)}})},13427:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163),r=s(93849),i=a.__importStar(s(2206)),l=a.__importDefault(s(83341)),o=a.__importDefault(s(70286));t.default=new r.Feature({id:"stylableLanguageService",dependencies:[i.default.asEntity,l.default.asEntity,o.default.asEntity],api:{stylable:r.Service.withType().defineEntity(i.processingEnv)}})},70286:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163).__importStar(s(2206)),r=s(93849);t.default=new r.Feature({id:"stylable",dependencies:[a.default.asEntity],api:{createStylable:r.Service.withType().defineEntity(a.processingEnv),createCalcDepthContext:r.Service.withType().defineEntity(a.processingEnv)}})},30383:(e,t,s)=>{e.exports=s(72334)},54621:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=s(5163);var r=s(13111);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.__importDefault(r).default}}),a.__exportStar(s(13111),t)},1180:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163);a.__exportStar(s(58270),t),a.__exportStar(s(40787),t),a.__exportStar(s(67623),t),a.__exportStar(s(79133),t),a.__exportStar(s(73974),t),a.__exportStar(s(35423),t),a.__exportStar(s(72251),t),a.__exportStar(s(34997),t),a.__exportStar(s(57759),t),a.__exportStar(s(7401),t),a.__exportStar(s(79169),t),a.__exportStar(s(20251),t),a.__exportStar(s(92160),t),a.__exportStar(s(94845),t),a.__exportStar(s(639),t),a.__exportStar(s(58851),t),a.__exportStar(s(63489),t),a.__exportStar(s(384),t)},51009:(e,t,s)=>{e.exports=s(54621)},26034:(e,t,s)=>{e.exports=s(1180)},86577:(e,t,s)=>{e.exports=s(68855)}}]);