(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[5930],{99917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o200",i={root:"s1129"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},36016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o223",i={root:"s1127",header:"s1128",panel:"s1221",resizer:"s1222",tabs:"s1227",minimize:"s1223",toggleFullscreen:"s1224",chevronIcon:"s1225",content:"s1226"},n={},o={},r={headerHeight:"--drawerpanel1123011697-headerHeight",panelHeight:"--drawerpanel1123011697-panelHeight"},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},25889:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o488",i={root:"s1893"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},96993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o311",i={root:"s1449"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},89646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o240",i={root:"s1300",tab:"s1301"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},48746:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o177",i={root:"s1060"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},50935:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o201",i={root:"s1057",errorContainer:"s1131",middle:"s1132",bottom:"s1133",icon:"s1059",title:"s1134",content:"s1137",stackTitle:"s1135",stack:"s1136",showDetails:"s1058"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},31827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o410",i={root:"s1450",container:"s1731",icon:"s1451",title:"s1732",description:"s1733",actionButtons:"s1734",createSimulation:"s1735"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},4596:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o312",i={root:"s1452"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},45114:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o49",i={root:"s467"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},48406:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o314",i={root:"s1456"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},46588:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o412",i={root:"s1455",spinner:"s1742",title:"s1743"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},55393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o34",i={root:"s368",previewContainer:"s369",stage:"s370",stageHeader:"s373",simulationWindow:"s374",sideBar:"s375",rightBar:"s371",leftBar:"s372"},n={},o={},r={leftBarWidth:"--simulationpreview1407207412-leftBarWidth",stageMinWidth:"--simulationpreview1407207412-stageMinWidth",rightBarWidth:"--simulationpreview1407207412-rightBarWidth"},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},1922:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o126",i={root:"s853"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},58968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o92",i={root:"s700",simulationPanelViews:"s701",collapseButton:"s704",collapseButtonContainer:"s702",resizer:"s703"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},10770:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o93",i={root:"s710"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},14538:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o113",i={root:"s705",rightSide:"s779",backButton:"s780",leftSide:"s781",componentName:"s706",breadcrumbsSeparator:"s782",simulationName:"s783",spacer:"s784",rightBarActions:"s785",actionButton:"s707",leftDivider:"s708",divider:"s709",zoom:"s788",windowViewOptions:"s789",chevronDownIcon:"s786",windowInputs:"s790",reload:"s787"},n={spin:"simulationtopbar3217436929__spin"},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},70393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o127",i={root:"s854",input:"s855",x:"s856",displayOptions:"s857"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},44283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o315",i={root:"s1457",item:"s968",resolution:"s969"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},72075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o156",i={root:"s965",displayIcon:"s966",chevronDownIcon:"s967",item:"s968",itemTitle:"s971",resolution:"s969",xIcon:"s970"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},8146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o225",i={root:"s1233",icon:"s1232",iconButton:"s1234"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},59571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o157",i={root:"s972",iconButton:"s973",zoomValue:"s975"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},89892:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o94",i={root:"s711",canvasRulerContainer:"s712",canvasRuler:"s475",canvasRulerSeparator:"s713",canvasRulerLabel:"s476",canvasRulerSizeIndicator:"s714",canvasRulerMarginIndicator:"s715",canvasRulerMarks:"s477",resizer:"s478",resizerIndication:"s716"},n={},o={},r={canvasWidthRulerOffset:"--canvasruler1382756734-canvasWidthRulerOffset",canvasHeightRulerOffset:"--canvasruler1382756734-canvasHeightRulerOffset",canvasWidthIndicatorOffset:"--canvasruler1382756734-canvasWidthIndicatorOffset",canvasHeightIndicatorOffset:"--canvasruler1382756734-canvasHeightIndicatorOffset",canvasWidth:"--canvasruler1382756734-canvasWidth",canvasHeight:"--canvasruler1382756734-canvasHeight",canvasMarginTop:"--canvasruler1382756734-canvasMarginTop",canvasMarginLeft:"--canvasruler1382756734-canvasMarginLeft",canvasMarginRight:"--canvasruler1382756734-canvasMarginRight",canvasMarginBottom:"--canvasruler1382756734-canvasMarginBottom",windowHeight:"--canvasruler1382756734-windowHeight",windowWidth:"--canvasruler1382756734-windowWidth",windowZoom:"--canvasruler1382756734-windowZoom"},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},19526:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o316",i={root:"s1458"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},36973:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o50",i={root:"s468",windowContainer:"s469",iframeWrapper:"s470",iframe:"s471",resizer:"s472",canvasRuler:"s474",windowRulerSeparator:"s479",stageScrollBar:"s480",windowScrollBar:"s487",browserMock:"s481",browserButton:"s482",windowOverlay:"s483",stageHeaderLeft:"s484",stageHeaderRight:"s485",fixedStageOverlays:"s486"},n={},o={},r={"resizer-length-long":"--windowresizers3567247356-resizer-length-long","resizer-length-short":"--windowresizers3567247356-resizer-length-short",windowZoom:"--canvasruler1382756734-windowZoom",zoom:"--simulationwindow3063855277-zoom",rulerSize:"--simulationwindow3063855277-rulerSize",windowWidth:"--simulationwindow3063855277-windowWidth",windowHeight:"--simulationwindow3063855277-windowHeight",browserMockHeight:"--simulationwindow3063855277-browserMockHeight"},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},21682:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o95",i={root:"s717",resizerIcon:"s473"},n={},o={},r={"resizer-length-long":"--windowresizers3567247356-resizer-length-long","resizer-length-short":"--windowresizers3567247356-resizer-length-short"},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},97225:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o489",i={root:"s1894",actionsDropdown:"s1895"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},32512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>i,cssStates:()=>l,keyframes:()=>n,namespace:()=>a,st:()=>u,stVars:()=>o,style:()=>c,vars:()=>r});const a="o431",i={root:"s1792",largeSpinner:"s1791"},n={},o={},r={},l=s.stc.bind(null,a),c=s.sts.bind(null,a),u=c},78435:e=>{var t="undefined"!=typeof Element,s="function"==typeof Map,a="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function n(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var r,l,c,u;if(Array.isArray(e)){if((r=e.length)!=o.length)return!1;for(l=r;0!=l--;)if(!n(e[l],o[l]))return!1;return!0}if(s&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!n(l.value[1],o.get(l.value[0])))return!1;return!0}if(a&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((r=e.length)!=o.length)return!1;for(l=r;0!=l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((r=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=r;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=r;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!n(e[c[l]],o[c[l]]))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return n(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},16545:(e,t,s)=>{e.exports=s(28659)},98066:(e,t,s)=>{e.exports=s(3092)},60423:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163),i=a.__importDefault(s(73654)),n=s(91570),o=s(69202),r=s(5689),l=a.__importDefault(s(87363)),c=s(84653),u=s(1259),d=s(54231),m=a.__importDefault(s(23252));s(45114);const p=s(15701),f=s(2206),h=s(3467),v=s(8596),w=s(59264),g=s(88230);m.default.setup(r.mainEnv,(({simulationConfig:e,rightBarSlot:t,rightBarSlotOrder:s,rightPanelOrderConfig:a,drawerPanelSlot:r,drawerPanelOrderConfig:m,leftBarSlot:S,leftBarSlotOrdering:E,leftPanelOrderConfig:y,simulationData:b,simulationTabContextSlot:N,simulationMenuItemsSlot:M,previewScrollPositionManager:C,previewScrollPositionResource:R},{componentTab:{sectionSlot:z},fileComponents:{componentsManagerMain:P},gui:{overlayPanelFactory:_,panelStore:O},project:{projectService:I,pluggableProjectConfigMain:W},simulationCapabilities:{simulationService:k},analytics:{analyticsService:{track:x}}})=>{var T;N.definitionSlot.init(l.default);const B=new d.SimulationPopupController(O),V=new d.SimulationDrawerController(O,e.defaultDrawerProperties);M.register({item:p.content.boardActions.duplicate,role:"duplicate",icon:l.default.createElement(o.DuplicateSmallIcon,null),dataId:"simulation-actions-duplicate",action:({simulationId:e,simList:t,simulationName:s})=>{e&&(x("simulation actions - duplicate"),B.open(c.NEW_SIMULATION_POPUP_ID,"NewSimulation",{componentRef:e.componentTypeRef,activeSimulationName:s,simList:t,duplicate:!0}))},shortcut:{command:w.shortcuts.duplicateSimulation}}),M.register({item:p.content.boardActions.rename,role:"rename",icon:l.default.createElement(o.RenameSmallIcon,null),dataId:"simulation-actions-rename-sim",action:({simulationId:e,simList:t,simulationName:s})=>{e&&B.open(c.RENAME_SIMULATION_ID,"RenameSimulation",{componentRef:e.componentTypeRef,activeSimulationName:s,simList:t})}}),M.register({item:p.content.boardActions.removeBoard,role:"remove",icon:l.default.createElement(o.DeleteSmallIcon,null),dataId:"simulation-actions-remove-sim",action:({simulationId:e,simulationName:t})=>{if(e){if(!t)return;x("simulation actions - delete"),B.open(c.DELETE_SIMULATION_ID,"DeleteSimulation",{componentRef:e.componentTypeRef,activeSimulationName:t,redirectToNextAfterDelete:!0})}}});const D=new v.StageEventService;r.setSortingOrder(m),b.init((e=>({value:e})));const H=W.get(f.PROJECT_CONFIG_NAME);null===(T=H.ready)||void 0===T||T.then((()=>{const e=H.isValid()&&H.get(a),i=H.isValid()&&H.get(y);if(e&&e.length>0){const s=e.map((e=>["sectionId",[e]]));t.setSortingOrder(s)}else t.setSortingOrder(s);if(i&&i.length>0){const e=i.map((e=>["sectionId",[e]]));S.setSortingOrder(e)}else S.setSortingOrder(E)})).catch(n.reportError),z.register({id:u.COMPONENT_SECTION_SIMULATIONS,title:p.content.tooltips.boards,icon:l.default.createElement(o.CollectionsIcon,null),component:g.SimulationPreviewWrapper});const L=async e=>{const t=await I.findClosestPackage(i.default.win32.dirname(e));return null!=t?t:I.getProjectPath()};return _.register({id:"NewSimulation",factory:t=>l.default.createElement(c.NewSimulationView,{...t,componentManager:P,timeout:e.createSimulationPopupTimeout,handleOnClose:B.close,simulationService:k,getPackagePath:L,projectService:I})}),_.register({id:"DeleteSimulation",factory:e=>l.default.createElement(c.DeleteSimulationView,{...e,handleOnClose:B.close,closeTab:O.closePanel,simulationService:k})}),_.register({id:"RenameSimulation",factory:e=>l.default.createElement(c.RenameSimulationView,{...e,handleOnClose:B.close,simulationService:k})}),_.register({id:"RevertProps",factory:e=>l.default.createElement(c.RevertPropsView,{...e,handleOnClose:B.close,simulationService:k})}),e.leftBarMainView&&S.register({sectionId:"main",Component:h.SimulationSideBarMainViewContainer,icon:o.LayersIcon,tooltip:p.content.tooltips.boards}),R.init((({previewId:e})=>{const t=C.consume({},{id:e}),s={},a=t.get({},s);return{value:a,dispose:()=>a.release(s)}})),{simulationPopupController:B,simulationDrawerController:V,stageEventService:D}}))},2178:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerPanel=t.PanelHeightMode=void 0;const a=s(5163),i=a.__importStar(s(87363)),n=s(70268),o=s(83135),r=s(16042),l=s(69202),c=a.__importDefault(s(72321)),u=s(75994),d=s(54917),m=s(58229),p=s(72489),f=s(17078),h=s(36016);s(99917);const v=s(83737),w=s(15701);var g;!function(e){e[e.Custom=0]="Custom",e[e.Maximized=1]="Maximized",e[e.Minimized=2]="Minimized",e[e.Default=3]="Default"}(g=t.PanelHeightMode||(t.PanelHeightMode={}));function S(e){return e.getBoundingClientRect().height-42}t.DrawerPanel=(0,i.memo)((({drawerPanelSlot:e,simManager:t,simulationDrawerController:s,containerRef:a})=>{var E;const{track:y}=(0,i.useContext)(o.AnalyticsContext);c.default.mark("drawer-render");const b=(0,o.useSlot)(e),{simulation:{simulationData:{simulationFilePath:N}}}=(0,w.useSimulationTabContext)(),M=N,[{activeTab:C},R]=(0,i.useState)(s.getState(M)),[{panelHeight:z,setPanelHeight:P},{panelHeightMode:_,setPanelHeightMode:O}]=function(e,t,s){const{sessionStorageService:a}=(0,i.useContext)(u.StorageContext),[n,o]=(0,u.useStorage)({featureName:f.SIMULATION_FEATURE_ID,key:"simulation_drawer_height",defaultValue:0,storageService:a}),r=(0,i.useRef)(0),[l,c]=(0,i.useState)(g.Minimized);(0,i.useEffect)((()=>{e.current&&n&&l===g.Minimized&&(n===S(e.current)?c(g.Maximized):c(g.Default))}),[e,n,l]);const d=(0,i.useCallback)((e=>{r.current=e,o(e)}),[o]),m=(0,i.useCallback)((a=>{switch(a){case g.Maximized:e.current&&o(S(e.current));break;case g.Minimized:o(0),t.close(s);break;case g.Default:d(r.current||250)}c(a)}),[e,d,s,o,t]);return[{panelHeight:n,setPanelHeight:d},{panelHeightMode:l,setPanelHeightMode:m}]}(a,s,M),I=null===(E=b[0])||void 0===E?void 0:E.id,W=(0,i.useCallback)((()=>{R(s.getState(M))}),[M,s]);(0,i.useEffect)((()=>(s.subscribe(M,W),()=>{s.unsubscribe(M)})),[M,W,s]),(0,i.useEffect)((()=>{const e=0===z&&_===g.Minimized,t=z>0&&_!==g.Minimized;0===z&&_!==g.Minimized?O(g.Minimized):!C&&t?s.open(M,I):C&&e&&O(g.Default)}),[C,M,I,z,_,O,s]);const{open:k,close:x}=(0,o.useResizerCurtain)(),T=(0,i.useCallback)(((e,{deltaY:t})=>{if(a.current){const e=a.current.getBoundingClientRect().height,i=z+t;i+42>=e?O(g.Maximized):i<0?(O(g.Minimized),s.close(M)):(O(g.Custom),P(i))}}),[a,z,O,s,M,P]),B=(0,i.useCallback)((e=>{y(`clicked on drawer '${e}' tab`),e===C&&_!==g.Minimized?(s.close(M),O(g.Minimized)):(s.open(M,e),_&&_!==g.Minimized||O(g.Default))}),[y,C,_,s,M,O]),V=(0,r.useVisibility)(),D=(0,i.useCallback)((()=>{_===g.Minimized?(s.open(M,C||I),O(g.Default)):(s.close(M),O(g.Minimized))}),[C,M,I,_,O,s]),H=(0,i.useCallback)((e=>{e?(s.open(M,C||I),O(g.Default)):(s.close(M),O(g.Minimized))}),[C,M,I,O,s]),L=(0,i.useCallback)((e=>{V&&(e.preventDefault(),D())}),[D,V]);return(0,o.useOnAllPanelsToggle)(H),(0,d.useShortcut)(v.shortcuts.toggleCodeDrawer,L),b.length?i.default.createElement("div",{style:{[h.vars.headerHeight]:"42px"},className:(0,h.style)(h.classes.root)},i.default.createElement("div",{className:(0,h.style)(h.classes.header,{maximized:_===g.Maximized})},i.default.createElement(p.DrawerTabs,{tabs:b,activeTab:C,className:h.classes.tabs,onTabSelect:B}),i.default.createElement(n.Resizer,{openCurtain:k,closeCurtain:x,onResize:T,className:(0,h.style)(h.classes.resizer)}),i.default.createElement(n.Tooltip,{content:_===g.Maximized?m.content.tooltips.restore:m.content.tooltips.expandToFullScreen},i.default.createElement(n.IconButton,{onClick:()=>{_===g.Maximized?O(g.Default):(s.open(M,C||I),O(g.Maximized))},className:h.classes.toggleFullscreen},_===g.Maximized?i.default.createElement(l.CompressIcon,null):i.default.createElement(l.ExpandIcon,null))),i.default.createElement(n.Tooltip,{content:_!==g.Minimized?m.content.tooltips.minimize:m.content.tooltips.expand},i.default.createElement(n.IconButton,{onClick:D,className:h.classes.minimize},i.default.createElement(l.ChevronDownWixUiIcon,{className:(0,h.style)(h.classes.chevronIcon,{collapsed:_===g.Minimized})})))),i.default.createElement("div",{className:h.classes.panel,style:{[h.vars.panelHeight]:z+"px"}},b.map((({factory:e,id:s})=>i.default.createElement("div",{className:h.classes.content,key:s,hidden:s!==C},i.default.createElement(r.VisibilityContext.Provider,{value:V&&s===C},i.default.createElement(e,{simManager:t}))))))):null})),t.DrawerPanel.displayName="DrawerPanel"},25609:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerTab=void 0;const a=s(5163).__importDefault(s(87363)),i=s(25889);t.DrawerTab=({id:e,isActive:t,onSelect:s,children:n,className:o})=>a.default.createElement("div",{"data-drawer-panel-tab":e,className:(0,i.style)(i.classes.root,{active:t},o),key:e,onClick:()=>s(e)},n),t.DrawerTab.displayName="DrawerTab"},72489:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerTabs=void 0;const a=s(5163).__importStar(s(87363)),i=s(25609),n=s(89646);s(96993),t.DrawerTabs=(0,a.memo)((({tabs:e,className:t,activeTab:s,onTabSelect:o})=>a.default.createElement("div",{className:(0,n.style)(n.classes.root,t)},e.map((({label:e,id:t})=>a.default.createElement(i.DrawerTab,{className:n.classes.tab,id:t,key:t,onSelect:o,isActive:t===s},a.default.createElement(e,null))))))),t.DrawerTabs.displayName="DrawerTabs"},79361:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorView=void 0;const a=s(5163).__importStar(s(87363)),i=s(15701),n=s(69202),o=s(98066),r=s(70268),l=s(50935);s(48746);const c="Module parse failed";t.ErrorView=(0,a.memo)((({errors:e,className:t})=>{const[s,u]=(0,a.useState)(!1),d=(0,o.getTypeOfMostSevereDemoError)(e);if(void 0===d)throw new Error("ErrorView rendered with no error to show");const m=e[d]||"",[p,...f]=function(e,t){if(e===o.DemoErrorType.CompilationError){if(t.includes(c))return t.substr(t.indexOf(c));if(t.includes("Module Error"))return t.split("\n").slice(2).join("\n")}return t}(d,m).split("\n"),h=f.length>0,v=(0,a.useCallback)((()=>u(!s)),[s]),w=f.map(((e,t)=>a.default.createElement("div",{key:t},e)));return a.default.createElement(r.VerticalScrollView,{className:(0,l.style)(l.classes.root,t)},a.default.createElement("div",{className:l.classes.errorContainer},a.default.createElement("div",{className:l.classes.middle},a.default.createElement(n.BlockIcon,{className:l.classes.icon}),a.default.createElement("div",{className:l.classes.title},function(e,t){return e===o.DemoErrorType.FormatError?i.content.errors.badFormatErrorTitle:i.content.errors.errorViewTitle}(d)),a.default.createElement("div",{className:l.classes.content},p),h&&a.default.createElement("div",{className:l.classes.showDetails,onClick:v},s?i.content.errors.hideErrorDetails:i.content.errors.showErrorDetails)),a.default.createElement("div",{className:l.classes.bottom},s&&a.default.createElement("div",{className:l.classes.stack},a.default.createElement("div",{className:l.classes.stackTitle},"Error Stack"),w))))})),t.ErrorView.displayName="ErrorView"},16066:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimNotFoundFallback=void 0;const a=s(5163).__importStar(s(87363)),i=s(70268),n=s(63372),o=s(69202),r=s(31827),l=s(15701),c=s(83135);s(4596),t.SimNotFoundFallback=(0,a.memo)((({requestedSimulationFilePath:e,onNewSimulation:t,className:s})=>{const{track:u}=(0,a.useContext)(c.AnalyticsContext);return(0,a.useEffect)((()=>{u("simulation not found")}),[u]),a.default.createElement("div",{className:(0,r.style)(r.classes.root,s)},a.default.createElement("div",{className:r.classes.container},a.default.createElement(o.PreviewIcon,{className:r.classes.icon}),a.default.createElement("div",{className:r.classes.title},l.content.fallbacks.boardNotFound.title),a.default.createElement("div",{className:r.classes.description},l.content.fallbacks.boardNotFound.description(e)),a.default.createElement("div",{className:r.classes.actionButtons},a.default.createElement(i.Button,{className:r.classes.createSimulation+" "+n.classes.linkButton,onClick:t},"＋ ",l.content.boardActions.createBoard))))})),t.SimNotFoundFallback.displayName="SimNotFoundFallback"},56543:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewLoading=void 0;const a=s(5163).__importDefault(s(87363)),i=s(46588),n=s(70268),o=s(32512),r=s(15701);s(48406),t.PreviewLoading=()=>a.default.createElement("div",{className:i.classes.root},a.default.createElement(n.Spinner,{className:i.classes.spinner+" "+o.classes.largeSpinner}),a.default.createElement("div",{className:i.classes.title},r.content.loadingBoardPreview))},88230:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationPreviewWrapper=void 0;const a=s(5163),i=s(16042),n=s(9029),o=a.__importStar(s(87363)),r=s(15701),l=s(12659),c=s(6492),u=s(97032);t.SimulationPreviewWrapper=({componentFilePath:e,componentExportName:t,toggleComponentLeftBar:s})=>{const{project:{undoRedoService:a}}=(0,n.useMainContext)(),d=(0,l.useDemoList)({componentFilePath:e,componentExportName:t}),{simulation:m}=(0,c.useSimulationsPanelQueryParams)({componentFilePath:e,componentExportName:t}),p=(0,i.useVisibility)();return(0,o.useEffect)((()=>{if(p){const{type:s,...i}=(0,r.createSimulationEditorQueryParams)(e,t,m);a.setScope({type:s,props:i,keepExistingParams:!0}).catch(reportError)}}),[p,t,e,m,a]),(0,o.useLayoutEffect)((()=>{p&&s(!1)}),[s,p]),void 0===d?null:o.default.createElement(u.SimulationPreview,{componentFilePath:e,componentExportName:t,boardFilePath:m,demoList:d})}},97032:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationPreview=t.SIMULATION_SIDE_BARS_SIZE_STORAGE_KEY=t.SIMULATION_WINDOW_VIEW_STORAGE_KEY=void 0;const a=s(5163),i=a.__importStar(s(87363)),n=s(91570),o=s(69202),r=s(27941),l=s(83135),c=s(98066),u=s(16545),d=s(86695),m=a.__importStar(s(17078)),p=s(58229),f=s(2178),h=s(79361),v=s(55473),w=s(16066),g=s(84653),S=s(56543),E=s(54469),y=s(67850),b=s(97828),N=s(6680),M=s(56504),C=s(75994),R=s(55393),z=s(54917),P=s(83737),_=s(16042),O=s(9029),I=s(93849);t.SIMULATION_WINDOW_VIEW_STORAGE_KEY="window-view-options",t.SIMULATION_SIDE_BARS_SIZE_STORAGE_KEY="sizebars-size";const W={errors:{}},k=[];t.SimulationPreview=i.default.memo((({componentFilePath:e,componentExportName:t,boardFilePath:s,demoList:a})=>{var x,T;const{sessionStorageService:B}=(0,i.useContext)(C.StorageContext),{track:V}=(0,i.useContext)(l.AnalyticsContext),[D,H]=(0,i.useState)(!1),L=(0,i.useRef)(null),A=(0,i.useRef)(null),F=(0,c.getComponentRef)(e,t),j=(0,_.useVisibility)(),{fileComponents:{componentsManagerMain:U},simulationCapabilities:{demoErrorManagerMain:Z,simulationService:K},simulationPreview:{consoleResourceManager:G},simulation:{simulationDrawerController:Y,simulationConfig:X,leftBarSlot:$,drawerPanelSlot:J,simulationContextSlot:q,windowOverlaySlot:Q,fixedStageOverlaysSlot:ee,rightBarSlot:te,simulationTabContextSlot:se,simulationMenuItemsSlot:ae,simulationPopupController:ie},project:{fileManagerMain:ne,undoRedoService:oe}}=(0,O.useMainContext)(),re=(0,l.useSlot)(ae),le=(0,i.useMemo)((()=>[...re].map((e=>({data:e})))),[re]),[ce,ue]=(0,C.useStorage)({storageService:B,featureName:m.SIMULATION_FEATURE_ID,key:m.SIMULATION_WINDOW_VIEW_STORAGE_KEY,defaultValue:X.defaultWindowViewOptions}),[de,me]=(0,C.useStorage)({storageService:B,featureName:m.SIMULATION_FEATURE_ID,key:m.SIMULATION_SIDE_BARS_SIZE_STORAGE_KEY,defaultValue:X.defaultSideBarsSize}),pe=(0,i.useMemo)((()=>({filePath:e,exportName:t})),[e,t]),fe=(0,u.useSimulationIdFromList)(a,s),he=(0,r.useResourceValidity)({resourceManager:ne,resourceId:s,enabled:j}),ve=!0===he&&void 0!==a&&!fe,we=(0,u.useSimManager)(K,fe),{previewFrameManager:ge,renderComplete:Se,reloadPreview:Ee,PreviewFrame:ye,iframeRef:be}=(0,d.usePreviewFrame)(fe);(0,i.useEffect)((()=>{(Se||0===(null==a?void 0:a.length)&&!D)&&H(!0)}),[D,Se,null==a?void 0:a.length]),(0,z.useShortcut)(P.shortcuts.reload,Ee);const Ne=null!==(T=null===(x=(0,r.useResourceValue)({resourceManager:U,resourceId:pe,enabled:j}))||void 0===x?void 0:x.name)&&void 0!==T?T:t,{errors:Me}=(0,r.useResourceValue)({resourceManager:Z,resourceId:fe,defaultValue:W,enabled:j}),Ce=void 0===a||0===a.length||!1===he||ve||(0,n.getObjectKeys)(Me).some((e=>e!==c.DemoErrorType.RuntimeError)),Re=(0,i.useCallback)((()=>{ue({...ce,showSimulationList:!ce.showSimulationList}),ce.showSimulationList?V("clicked show simulations list"):V("clicked hide simulations list")}),[ue,ce,V]),ze=(0,i.useCallback)((e=>{e===ce.showSimulationList&&e===ce.showPropertiesPanel||ue({...ce,showSimulationList:e,showPropertiesPanel:e})}),[ue,ce]);(0,l.useOnAllPanelsToggle)(ze);const Pe=(0,i.useCallback)((()=>{ue({...ce,showPropertiesPanel:!ce.showPropertiesPanel}),ce.showPropertiesPanel?V("clicked show props panel"):V("clicked hide props panel")}),[ue,ce,V]),_e=(0,i.useCallback)((()=>{ie.open(g.NEW_SIMULATION_POPUP_ID,"NewSimulation",{componentRef:F,simList:a})}),[ie,F,a]),Oe=null==ge?void 0:ge.envInstanceId;(0,i.useEffect)((()=>{if(Oe){const e={},t=G.get(Oe,e);return()=>t.release(e)}}),[G,Oe]);const Ie=null==we?void 0:we.getSimulationName(),We=(0,i.useCallback)((()=>{var e,t,s;return null!==(s=null===(t=null===(e=be.current)||void 0===e?void 0:e.contentWindow)||void 0===t?void 0:t.location.href)&&void 0!==s?s:null}),[be]),ke=null==ge?void 0:ge.windowController,xe=(0,d.usePreviewCanvasIsEmpty)(ke),Te=(0,i.useMemo)((()=>new I.EventEmitter),[]),Be=(0,i.useMemo)((()=>({compFilePath:e,compExportName:t,simulationId:fe,simulationName:Ie,simulationFilePath:s,simulationConfig:X,previewId:Oe,getPreviewHref:We,windowController:ke,eventEmitter:Te})),[e,t,fe,Ie,s,X,Oe,We,ke,Te]),Ve=(0,i.useCallback)(((e,{deltaX:t})=>{const s=A.current.clientWidth,a=de.leftSideBarWidth-t,i=s-210-de.rightSideBarWidth,n=Math.max(100,Math.min(a,i));me({...de,leftSideBarWidth:n})}),[me,de]),De=(0,i.useCallback)(((e,{deltaX:t})=>{const s=A.current.clientWidth,a=de.rightSideBarWidth+t,i=s-210-de.leftSideBarWidth,n=Math.max(328,Math.min(a,i));me({...de,rightSideBarWidth:n})}),[me,de]),He=(0,l.useSlot)(q),Le=(0,i.useMemo)((()=>(0,o.composeProviders)(...He)),[He]);return i.default.createElement("div",{ref:A,className:(0,R.style)(R.classes.root,{hidden:!j}),style:{[R.vars.stageMinWidth]:"210px",[R.vars.leftBarWidth]:ce.showSimulationList?de.leftSideBarWidth+"px":"min-content",[R.vars.rightBarWidth]:ce.showPropertiesPanel?de.rightSideBarWidth+"px":"min-content"}},i.default.createElement(se.Provider,{params:Be},i.default.createElement(Le,null,i.default.createElement(E.SimulationDisplayProvider,{setWindowViewOptions:ue,windowViewOptions:ce},i.default.createElement(y.SimulationSideBarContext.Provider,{value:(0,i.useMemo)((()=>({sideBarSize:de})),[de])},i.default.createElement(N.SimulationTopBar,{isPreviewLoading:!Se,reloadPreview:Ee,simManager:we,componentFilePath:e,componentExportName:t,componentName:Ne,simulationService:K,simulationPopupController:ie,simList:null!=a?a:k,undoRedoService:oe,menuItems:le}),i.default.createElement(b.SimulationSideBar,{label:p.content.panelLabels.boardList,previewEnvId:null==ge?void 0:ge.envInstanceId,className:(0,R.style)(R.classes.leftBar,R.classes.sideBar),simManager:we,dir:"left",isLoading:!D,sectionViewSlot:$,onResize:Ve,collapsed:!ce.showSimulationList,onCollapse:Re,componentRef:F,boardFilePath:s,simList:null!=a?a:k}),i.default.createElement("div",{ref:L,className:R.classes.previewContainer},i.default.createElement("div",{className:R.classes.stage},void 0===s&&a&&0===a.length?i.default.createElement(v.NoSimulationsFallback,{onNewSimulation:_e,componentName:Ne}):!1===he?i.default.createElement(w.SimNotFoundFallback,{onNewSimulation:_e,requestedSimulationFilePath:s}):i.default.createElement(i.default.Fragment,null,i.default.createElement(M.SimulationWindow,{componentFilePath:e,componentExportName:t,componentRef:F,windowViewOptions:ce,previewEnvId:null==ge?void 0:ge.envInstanceId,className:R.classes.simulationWindow,simManager:we,PreviewFrame:ye,iframeRef:be,overlaySlot:Q,fixedStageOverlaysSlot:ee}),(0,n.getObjectKeys)(Me).length&&xe?i.default.createElement(h.ErrorView,{errors:Me}):ve?i.default.createElement(h.ErrorView,{errors:{[c.DemoErrorType.FormatError]:p.content.errors.badFormatErrorMessage}}):Se?null:i.default.createElement(S.PreviewLoading,null))),i.default.createElement(f.DrawerPanel,{containerRef:L,drawerPanelSlot:J,simManager:we,simulationDrawerController:Y})),i.default.createElement(b.SimulationSideBar,{label:p.content.panelLabels.propertyPanel,previewEnvId:null==ge?void 0:ge.envInstanceId,className:(0,R.style)(R.classes.rightBar,R.classes.sideBar),simManager:we,dir:"right",onResize:De,isLoading:!D,sectionViewSlot:te,collapsed:!ce.showPropertiesPanel,onCollapse:Pe,componentRef:F,boardFilePath:s,simList:null!=a?a:k,disabled:Ce}))))))})),t.SimulationPreview.displayName="SimulationPreview"},3467:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationSideBarMainViewContainer=void 0;const a=s(5163),i=s(83135),n=s(9029),o=a.__importStar(s(87363));t.SimulationSideBarMainViewContainer=(0,o.memo)((({simList:e,simManager:t,componentRef:s,previewEnvId:a,boardFilePath:r})=>{const{simulation:{leftBarMainViewSlot:l}}=(0,n.useMainContext)(),c=(0,i.useSlot)(l);return o.default.createElement(o.default.Fragment,null,c.map((({id:i,Header:n,Content:l})=>o.default.createElement("div",{key:i},o.default.createElement(n,{boardFilePath:r,simManager:t,simList:e,componentRef:s,previewEnvId:a}),o.default.createElement(l,{boardFilePath:r,simManager:t,simList:e,componentRef:s,previewEnvId:a})))))})),t.SimulationSideBarMainViewContainer.displayName="SimulationSideBarMainViewContainer"},97828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationSideBar=void 0;const a=s(5163).__importStar(s(87363)),i=s(83135),n=s(69202),o=s(70268),r=s(15701),l=s(2560),c=s(58968);s(1922),t.SimulationSideBar=(0,a.memo)((({simManager:e,className:t,isLoading:s,sectionViewSlot:u,disabled:d,collapsed:m,onCollapse:p,label:f,componentRef:h,boardFilePath:v,simList:w,dir:g,onResize:S,previewEnvId:E})=>{const y=(0,a.useRef)(null),b=m?function(e){return"left"===e?"right":"left"}(g):g,{open:N,close:M}=(0,i.useResizerCurtain)();return a.default.createElement("div",{ref:y,className:(0,c.style)(c.classes.root,{dir:g},t)},a.default.createElement(l.SideBarViews,{previewEnvId:E,simManager:e,isLoading:s,sectionViewSlot:u,disabled:d,className:c.classes.simulationPanelViews,componentRef:h,boardFilePath:v,simList:w,dir:g,collapsed:m,onCollapse:p}),!m&&a.default.createElement(o.Resizer,{openCurtain:N,closeCurtain:M,onResize:S,className:c.classes.resizer}),"left"===g&&a.default.createElement("div",{className:c.classes.collapseButtonContainer},a.default.createElement(o.Tooltip,{content:r.content.tooltips.collapseSidePanel(f)},a.default.createElement(o.IconButton,{onClick:p,className:c.classes.collapseButton},"left"===b?a.default.createElement(n.ChevronLeftWixUiIcon,null):a.default.createElement(n.ChevronRightWixUiIcon,null)))))})),t.SimulationSideBar.displayName="PropsPanel"},6680:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationTopBar=void 0;const a=s(5163).__importStar(s(87363)),i=s(70268),n=s(98066),o=s(92449),r=s(84653),l=s(83135),c=s(16042),u=s(63372),d=s(69202),m=s(26752),p=s(21879),f=s(54469),h=s(68018),v=s(14538),w=s(16545);s(10770);const g=s(54917),S=s(83737),E=s(15701),y=s(66775);t.SimulationTopBar=(0,a.memo)((({simList:e,simulationPopupController:t,reloadPreview:s,simManager:b,componentFilePath:N,componentExportName:M,isPreviewLoading:C=!0,menuItems:R})=>{const{track:z}=(0,a.useContext)(l.AnalyticsContext),{setWindowViewOptions:P,windowViewOptions:_,setWindowZoom:O}=(0,a.useContext)(f.SimulationDisplayContext),{simulation:{simulationData:{previewId:I,simulationName:W},simulationTopBarSlot:k,simulationConfig:{simulationBreadcrumbs:x,newSimulationButton:T}}}=(0,E.useSimulationTabContext)(),B=(0,l.useSlot)(k),V=(0,n.getComponentRef)(N,M),{width:D,height:H}=(0,w.useSimWindowSize)(b),L=(0,c.useVisibility)(),A=(0,a.useCallback)((()=>{t.open(r.NEW_SIMULATION_POPUP_ID,"NewSimulation",{componentRef:V,activeSimulationName:W,simList:e})}),[t,V,e,W]),F=e.find((e=>e.name===W)),j=(0,a.useCallback)((()=>{z("comp top bar create simulation (button)"),A()}),[A,z]),U=(0,a.useCallback)((({data:{value:e,heading:t,disabled:s}})=>{t||s||O(e)}),[O]),Z=(0,a.useCallback)((({data:e})=>{switch(e.item){case E.content.windowOptions.showRulers:P({..._,showRulers:!_.showRulers});break;case E.content.windowOptions.showGuidelines:P({..._,showGuidelines:!_.showGuidelines});break;case E.content.windowOptions.showPropertiesPanel:P({..._,showPropertiesPanel:!_.showPropertiesPanel});break;case E.content.windowOptions.showBoardList:P({..._,showSimulationList:!_.showSimulationList})}}),[P,_]),K=(0,a.useCallback)((e=>null==b?void 0:b.patchEnvProps(e)),[b]),G=!F,Y=(null==F?void 0:F.isModified)||!1,X=(null==F?void 0:F.errors)||[],$=X&&X.length>0,J=E.content.tooltips.boardErrorIcon((X||[]).length),q=(0,a.useCallback)((e=>{L&&(e.preventDefault(),A())}),[A,L]);return(0,g.useShortcut)(S.shortcuts.newSimulation,q),(0,y.useBoardShortcuts)(R.filter((e=>void 0!==e.data))),a.default.createElement("div",{className:(0,v.style)(v.classes.root,{disabled:G})},a.default.createElement("div",{className:v.classes.leftSide},!(!B.length||!I)&&B.map(((e,t)=>a.default.createElement(e,{key:t,previewId:I}))),x&&W&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:v.classes.breadcrumbsSeparator},"/"),a.default.createElement(i.LabelWithStatus,{className:v.classes.simulationName,label:W,hasError:$,modified:Y,errorMessage:J}))),a.default.createElement("div",{className:v.classes.rightSide},a.default.createElement(i.Tooltip,{content:E.content.boardActions.reload},a.default.createElement(i.IconButton,{className:(0,v.style)(v.classes.reload,{loading:C&&!G}),disabled:G||!s||C,onClick:s},a.default.createElement(d.RefreshCw,null))),a.default.createElement("div",{className:v.classes.divider}),a.default.createElement(h.WindowViewOptions,{disabled:G,className:v.classes.windowViewOptions,onChange:Z}),a.default.createElement("div",{className:v.classes.divider}),a.default.createElement(p.WindowZoomSelect,{className:v.classes.zoom,disabled:G,onChange:U,windowWidth:D,windowHeight:H}),a.default.createElement("div",{className:v.classes.divider}),a.default.createElement(m.TopBarWindowInputs,{disabled:G,onChange:K,width:D,height:H}),a.default.createElement("div",{className:v.classes.divider}),a.default.createElement(o.SimulationOptions,{disabled:G,menuItems:R}),T&&a.default.createElement(i.Button,{className:v.classes.actionButton+" "+u.classes.primaryButton,onClick:j},E.content.buttons.newButton)))})),t.SimulationTopBar.displayName="SimulationTopBar"},26752:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopBarWindowInputs=void 0;const a=s(5163).__importStar(s(87363)),i=s(69202),n=s(22114),o=s(70268),r=s(15701),l=s(70393);t.TopBarWindowInputs=(0,a.memo)((({className:e,disabled:t=!1,onChange:s,width:c=0,height:u=0})=>{const{simulation:{simulationConfig:{defaultSizeLimits:{windowMinHeight:d,windowMinWidth:m}}}}=(0,r.useSimulationTabContext)(),[{windowWidth:p,windowHeight:f},h]=(0,a.useState)({windowHeight:u||0,windowWidth:c||0}),[v,w]=(0,a.useState)(!1),g=(0,a.useRef)(),S=(0,a.useCallback)((({data:{item:e}})=>{const{width:t,height:a}=r.displayResolutions[e].resolution;h({windowWidth:t,windowHeight:a}),s({windowWidth:t,windowHeight:a}),w(!1)}),[s]);(0,a.useEffect)((()=>{"width"!==g.current&&c!==p&&h({windowWidth:c,windowHeight:f}),"height"!==g.current&&u!==f&&h({windowHeight:u,windowWidth:p})}),[u,c,f,p]);const E=(0,a.useCallback)((e=>t=>{const a=Number(t.target.value);w(!0),"height"===e?(s({windowHeight:a}),h({windowHeight:a,windowWidth:p})):(s({windowWidth:a}),h({windowWidth:a,windowHeight:f}))}),[s,f,p]),y=(0,a.useCallback)((e=>t=>{g.current?g.current=void 0:(g.current=e,t.target.select())}),[g]);return a.default.createElement("div",{className:(0,l.style)(l.classes.root,e)},a.default.createElement(n.WindowDisplayOptions,{disabled:t,onChange:S,className:l.classes.displayOptions,showSelected:!v}),a.default.createElement(o.ThrottledInput,{disabled:t,onFocus:y("width"),onBlur:y("width"),onChange:E("width"),value:p,min:m,type:"number",className:l.classes.input,error:p<m}),a.default.createElement(i.XIcon,{className:l.classes.x}),a.default.createElement(o.ThrottledInput,{disabled:t,onFocus:y("height"),onBlur:y("height"),onChange:E("height"),value:f,min:d,type:"number",className:l.classes.input,error:f<d}))})),t.TopBarWindowInputs.displayName="TopBarWindowInputs"},22114:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowDisplayOptions=void 0;const a=s(5163).__importStar(s(87363)),i=s(70268),n=s(69202),o=s(72075),r=s(15701);s(44283);const l=(0,a.memo)((({item:e,heading:t,selected:s=!1})=>{const{resolution:i,title:l}=r.displayResolutions[e]||{resolution:"",title:""};return a.default.createElement("div",{className:(0,o.style)(o.classes.item,{heading:!!t,selected:s}),"data-resolution-item-id":e},!t&&a.default.createElement("span",{className:o.classes.itemTitle},l),t||a.default.createElement("span",{className:o.classes.resolution},i.width,a.default.createElement(n.XIcon,{className:o.classes.xIcon}),i.height))}));l.displayName="WindowDisplayOptionItem";const c=[{data:{item:"label",heading:r.content.tooltips.windowSize}},...Object.keys(r.displayResolutions).map((e=>({data:{item:e,dataId:e}})))];t.WindowDisplayOptions=(0,a.memo)((({className:e,disabled:t=!1,onChange:s,showSelected:u=!1})=>{const[d,m]=(0,a.useState)(null),p=(0,a.useCallback)((e=>{e.data.disabled||e.data.heading||(m(e.data.item),s(e))}),[s]),f=(0,a.useMemo)((()=>({dataItem:{data:{item:e,heading:t}}})=>a.default.createElement(l,{heading:t,item:e,selected:u&&e===d})),[d,u]);return a.default.createElement(i.Tooltip,{content:r.content.tooltips.windowSize},a.default.createElement(i.ActionMenu,{onAction:p,className:(0,o.style)(o.classes.root,e),menuItems:c,itemRenderer:f,dropPanelMaxHeight:400},a.default.createElement(i.IconButton,{disabled:t,dropdown:!0},a.default.createElement(n.DisplayIcon,{className:o.classes.displayIcon}))))})),t.WindowDisplayOptions.displayName="WindowDisplayOptions"},68018:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowViewOptions=void 0;const a=s(5163).__importStar(s(87363)),i=s(70268),n=s(8146),o=s(15701),r=s(69202),l=s(54469);function c(e){return[{data:{item:"",heading:o.content.windowOptions.title}},{data:{item:o.content.windowOptions.showRulers,selected:e.showRulers}},{data:{item:o.content.windowOptions.showGuidelines,selected:e.showGuidelines}},{data:{item:o.content.windowOptions.showPropertiesPanel,selected:e.showPropertiesPanel}},{data:{item:o.content.windowOptions.showBoardList,selected:e.showSimulationList}}]}t.WindowViewOptions=(0,a.memo)((({className:e,onChange:t,disabled:s=!1})=>{const{windowViewOptions:u}=(0,a.useContext)(l.SimulationDisplayContext),d=(0,a.useCallback)((e=>{e.data.disabled||e.data.heading||(t(e),e.preventMenuDismissing())}),[t]);return a.default.createElement(i.Tooltip,{content:o.content.windowOptions.title},a.default.createElement(i.ActionMenu,{onAction:d,className:(0,n.style)(n.classes.root,e),menuItems:c(u)},a.default.createElement(i.IconButton,{dropdown:!0,className:n.classes.iconButton,disabled:s},a.default.createElement(r.ViewIcon,{className:n.classes.icon}))))})),t.WindowViewOptions.displayName="WindowViewOptions"},21879:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowZoomSelect=void 0;const a=s(5163).__importStar(s(87363)),i=s(70268),n=s(59571),o=s(15701),r=s(54469),l=s(54917),c=s(83737),u=s(17078);function d(e){return Math.round(100*e)+"%"}function m(e,t,s,a){a(e<=t?{data:{item:"",value:t},preventMenuDismissing:()=>{}}:e>=s?{data:{item:"",value:s},preventMenuDismissing:()=>{}}:{data:{item:"",value:e},preventMenuDismissing:()=>{}})}t.WindowZoomSelect=(0,a.memo)((({onChange:e,disabled:t=!1,className:s,windowWidth:p,windowHeight:f})=>{const{windowContainerRef:h,windowZoom:v}=(0,a.useContext)(r.SimulationDisplayContext),w=(0,r.useScaleToFitZoom)(h,p,f),g=d(v),S=(0,a.useMemo)((()=>({data:{item:g}})),[g]),E=(0,a.useMemo)((()=>function(e,t){return[{data:{item:"",heading:o.content.tooltips.zoom}},{data:{item:d(.5),value:.5,selected:.5===e}},{data:{item:d(.75),value:.75,selected:.75===e}},{data:{item:d(1),value:1,selected:1===e}},{data:{item:d(2),value:2,selected:2===e}},{data:{item:"",divider:!0}},{data:{item:`${o.content.boardActions.scaleWindowToFit} (${d(t)})`,value:t,selected:t===e}}]}(v,w)),[w,v]),y=(0,a.useCallback)((t=>{t.preventDefault(),m(v-u.zoom.zoomStep,u.zoom.minZoom,u.zoom.maxZoom,e)}),[e,v]),b=(0,a.useCallback)((t=>{t.preventDefault(),m(v+u.zoom.zoomStep,u.zoom.minZoom,u.zoom.maxZoom,e)}),[e,v]),N=(0,a.useCallback)((()=>{e({data:{item:"",value:1},preventMenuDismissing:()=>{}})}),[e]);return(0,l.useShortcut)(c.shortcuts.zoomIn,b),(0,l.useShortcut)(c.shortcuts.shiftZoomIn,b),(0,l.useShortcut)(c.shortcuts.zoomOut,y),(0,l.useShortcut)(c.shortcuts.shiftZoomOut,y),(0,l.useShortcut)(c.shortcuts.zoomDefault,N),a.default.createElement(i.ActionMenu,{onAction:e,activeItem:S,menuItems:E},a.default.createElement(i.Tooltip,{content:o.content.tooltips.zoom},a.default.createElement("div",{className:(0,n.style)(n.classes.root,s)},a.default.createElement(i.IconButton,{disabled:t,className:n.classes.iconButton,dropdown:!0},a.default.createElement("span",{className:n.classes.zoomValue},g)))))})),t.WindowZoomSelect.displayName="WindowZoomSelect"},83864:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRuler=void 0;const a=s(5163).__importStar(s(87363)),i=s(89892),n=s(83135),o=s(70268);t.CanvasRuler=(0,a.memo)((({className:e,margin:t,canvasSize:s,label:r,type:l,style:c,windowSize:u,onResize:d,rulerOffset:m,onResizeEnd:p})=>{const f=(0,a.useRef)({canvasHeight:s.height.value,canvasWidth:s.width.value}),h=(0,a.useMemo)((()=>({first:"number"==typeof t.top||"number"==typeof t.bottom?1:2,second:"number"==typeof t.left||"number"==typeof t.right?1:2})),[t]),[v,w]=(0,a.useState)(null),g=(0,a.useRef)(!1),S=(e,a)=>(i,{deltaX:n,deltaY:r})=>{g.current=!0;const l=s.height.value-r*h.first,c=s.width.value-n*h.second;if("number"==typeof t[a]){const e={canvasMargin:{...t,[a]:"left"===a||"right"===a?t[a]+n>=0?t[a]+n:0:t[a]+r>=0?t[a]+r:0}};d(e),f.current=e}else switch(e){case o.ResizerType.Width:{const e={canvasWidth:c>=s.minWidth?c:s.minWidth};d(e),f.current=e;break}case o.ResizerType.Height:{const e={canvasHeight:l>=s.minHeight?l:s.minHeight};d(e),f.current=e;break}}},E=e=>()=>w(e),y=e=>{g.current&&(null==p||p(e,f.current)),g.current=!1,w(null)},b=(0,a.useMemo)((()=>({first:"height"===l?"top":"left",second:"height"===l?"bottom":"right"})),[l]),N=(0,a.useMemo)((()=>({first:"height"===l?t.top:t.left,second:"height"===l?t.bottom:t.right})),[t,l]),M=(0,a.useMemo)((()=>"width"===l?o.ResizerType.Width:o.ResizerType.Height),[l]),C=(0,a.useMemo)((()=>({first:"height"===l?"down":"left",second:"height"===l?"up":"right"})),[l]),{open:R,close:z}=(0,n.useResizerCurtain)();return a.default.createElement("div",{className:(0,i.st)(i.classes.root,{type:l},e),style:{...c,[i.vars.windowHeight]:u.height+"px",[i.vars.windowWidth]:u.width+"px",[i.vars.canvasWidthRulerOffset]:m.width+"px",[i.vars.canvasHeightRulerOffset]:m.height+"px"}},a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerContainer,{type:l})},a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRuler,{type:l})},a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerMarginIndicator,{type:b.first,auto:!!N.first})},a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerLabel,{type:l})},N.first?N.first+"px":"")),a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerMarks,{type:l})}),a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerSizeIndicator,{type:l})},a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerLabel,{type:l})},r),a.default.createElement(o.Resizer,{openCurtain:R,closeCurtain:z,direction:C.first,className:(0,i.st)(i.classes.resizer,{type:l,direction:b.first,resizing:v===b.first,dirty:"number"==typeof N.first}),resizeFactor:h.first,onResizeStart:E(b.first),onResizeEnd:y,onResize:S(M,b.first)},a.default.createElement("div",{className:(0,i.st)(i.classes.resizerIndication,{type:l,resizing:v===b.first,direction:b.first})})),a.default.createElement(o.Resizer,{openCurtain:R,closeCurtain:z,direction:C.second,className:(0,i.st)(i.classes.resizer,{type:l,resizing:v===b.second,direction:b.second,dirty:"number"==typeof N.second}),resizeFactor:h.second,onResizeStart:E(b.second),onResizeEnd:y,onResize:S(M,b.second)},a.default.createElement("div",{className:(0,i.st)(i.classes.resizerIndication,{type:l,resizing:v===b.second,direction:b.second})}))),a.default.createElement("div",{className:(0,i.st)(i.classes.canvasRulerMarginIndicator,{type:b.second,auto:!!N.second})},a.default.createElement("span",{className:(0,i.st)(i.classes.canvasRulerLabel,{type:l})},N.second?N.second+"px":"")))))})),t.CanvasRuler.displayName="CanvasRuler"},41528:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRulers=void 0;const a=s(5163).__importStar(s(87363)),i=s(83864),n=s(83135),o=s(15701);t.CanvasRulers=(0,a.memo)((({windowSize:e,widthVars:t,heightVars:s,className:r,simManager:l,rulersOffset:c,canvasSize:u,margin:d})=>{const{track:m}=(0,a.useContext)(n.AnalyticsContext),{simulation:{simulationData:{windowController:p}}}=(0,o.useSimulationTabContext)(),f=(0,a.useCallback)((async({canvasMargin:e,canvasHeight:t,canvasWidth:s})=>{if(p){const a={},i=[];"number"==typeof t&&(a.canvasHeight=t,i.push(p.updateEnvironmentProperties({canvasHeight:t},["canvasHeight"]))),"number"==typeof s&&(a.canvasWidth=s,i.push(p.updateEnvironmentProperties({canvasWidth:s},["canvasWidth"]))),e&&i.push(p.updateEnvironmentProperties({canvasMargin:e},["canvasMargin"])),await Promise.all(i)}}),[p]),h=(0,a.useCallback)(((e,t)=>{l&&(m("resized canvas"),l.patchEnvProps(t))}),[l,m]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.CanvasRuler,{windowSize:e,canvasSize:u,margin:d,style:s,className:r,label:u.height.auto?`auto (${u.height.value}px)`:u.height.value+"px",type:"height",rulerOffset:c,onResize:f,onResizeEnd:h}),a.default.createElement(i.CanvasRuler,{windowSize:e,canvasSize:u,style:t,className:r,margin:d,label:u.width.auto?`auto (${u.width.value}px)`:u.width.value+"px",type:"width",rulerOffset:c,onResize:f,onResizeEnd:h}))})),t.CanvasRulers.displayName="CanvasRulers"},56504:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationWindow=void 0;const a=s(5163),i=a.__importStar(s(87363)),n=a.__importDefault(s(78435)),o=s(10192),r=s(50210),l=s(91570),c=s(83135),u=s(70268),d=s(54231),m=s(54469),p=s(41528),f=s(94467),h=s(89892),v=s(36973);s(19526);const w=s(9029);t.SimulationWindow=(0,i.memo)((({className:e,simManager:t,onFrameReady:s,overlaySlot:a,fixedStageOverlaysSlot:g,previewEnvId:S,windowViewOptions:E,componentRef:y,componentExportName:b,componentFilePath:N,PreviewFrame:M,iframeRef:C})=>{var R,z,P,_;const{windowContainerRef:O,windowZoom:I}=(0,i.useContext)(m.SimulationDisplayContext),{simulation:{stageHeaderSlot:W,stageEventService:k,simulationConfig:{defaultSizeLimits:{canvasMinWidth:x,canvasMinHeight:T,windowMinHeight:B,windowMinWidth:V}}}}=(0,w.useMainContext)(),{track:D}=(0,i.useContext)(c.AnalyticsContext),H=(0,i.useRef)(null),L=(0,i.useRef)(null),A=(0,i.useRef)(null),F=(0,c.useSlot)(W),[j,U]=(0,i.useState)({});(0,i.useEffect)((()=>(null==t||t.subscribeToEnvProps(U),()=>null==t?void 0:t.unsubscribeFromEnvProps(U))),[t]);const[Z,K]=(0,i.useState)({height:0,width:0}),{windowWidth:G,windowHeight:Y}=(0,i.useMemo)((()=>(0,d.getWindowSize)(j,r.defaultEnvironmentProperties)),[j]),X=(0,i.useMemo)((()=>({height:Math.max(Y,B),width:Math.max(G,V),minWidth:V,minHeight:B})),[Y,G,V,B]),$=(0,o.useLayoutBinding)((0,i.useCallback)((()=>(0,d.getCanvasSizeFromIframe)(C)),[C]),n.default,!!C.current&&!!C.current.contentDocument),J=(0,i.useMemo)((()=>({...(0,d.getResolvedCanvasSize)(j,$||{}),minHeight:T,minWidth:x})),[T,x,j,$]),q=(0,i.useCallback)((e=>()=>{if(C.current&&t){D("resized window");const s=Math.max(V,C.current.offsetWidth),a=Math.max(B,C.current.offsetHeight);switch(e){case u.ResizerType.Width:t.patchEnvProps({windowWidth:s});break;case u.ResizerType.Height:t.patchEnvProps({windowHeight:a});break;default:t.patchEnvProps({windowWidth:s,windowHeight:a})}}}),[C,t,D,V,B]),Q=(0,i.useCallback)(((e,t)=>(s,{deltaX:a,deltaY:i})=>{if(C.current){const s="left"===t?-2:2,n=Math.max(V,C.current.offsetWidth-a*s),o=Math.max(B,C.current.offsetHeight-i);switch(e){case u.ResizerType.Width:U({...j,windowWidth:n});break;case u.ResizerType.Height:U({...j,windowHeight:o});break;default:U({...j,windowWidth:n,windowHeight:o})}}}),[V,B,j,C]),ee=(0,i.useCallback)((({target:e})=>{L.current&&K({width:-e.scrollLeft,height:-e.scrollTop})}),[L]),te=null===(z=null===(R=C.current)||void 0===R?void 0:R.contentDocument)||void 0===z?void 0:z.body;(0,i.useEffect)((()=>{C.current&&C.current.contentDocument&&(A.current=C.current.contentDocument.documentElement)}),[A,te,C]);const se=(0,o.useLayoutBinding)((0,i.useCallback)((()=>(0,d.getCanvasMarginFromIframe)(C)),[C]),n.default,!!C.current&&!!C.current.contentDocument),ae=(0,i.useMemo)((()=>(0,d.formatCanvasMargins)(se||{},j)),[se,j]),ie=(0,i.useMemo)((()=>({[v.vars.windowHeight]:X.height+"px",[h.vars.canvasHeight]:J.height.value>=X.height?X.height+"px":J.height.value+"px",[h.vars.canvasMarginTop]:ae&&"number"==typeof ae.top?ae.top*I+"px":"1fr",[h.vars.canvasMarginBottom]:ae&&"number"==typeof ae.bottom?ae.bottom*I+"px":"1fr"})),[X.height,J.height.value,ae,I]),ne=(0,i.useMemo)((()=>({[v.vars.windowWidth]:X.width+"px",[h.vars.canvasWidth]:J.width.value>=X.width?X.width+"px":J.width.value+"px",[h.vars.canvasMarginLeft]:"number"==typeof ae.left?ae.left*I+"px":"1fr",[h.vars.canvasMarginRight]:"number"==typeof ae.right?ae.right*I+"px":"1fr"})),[X.width,J.width.value,ae.left,ae.right,I]),oe=!!($&&$.height&&$.width),re=(0,i.useMemo)((()=>(0,l.groupBy)(F,"placement")),[F]);return i.default.createElement("div",{ref:L,style:{[v.vars.zoom]:I,[v.vars.windowWidth]:X.width+"px",[v.vars.windowHeight]:X.height+"px"},className:(0,v.style)(v.classes.root,{showRulers:E.showRulers,showGuidelines:E.showGuidelines},e),onClick:e=>k.onStageEvent("onClick",e),onMouseDown:e=>k.onStageEvent("onMouseDown",e)},i.default.createElement(u.ScrollBar,{className:v.classes.stageScrollBar,orientation:u.Orientation.Vertical,scrollViewRef:O}),i.default.createElement(u.ScrollBar,{className:v.classes.stageScrollBar,orientation:u.Orientation.Horizontal,scrollViewRef:O}),i.default.createElement("div",{className:v.classes.stageHeaderLeft},null===(P=re.get("left"))||void 0===P?void 0:P.map((({Component:e},t)=>i.default.createElement(e,{key:t,componentFilePath:N,componentExportName:b,previewId:S})))),i.default.createElement("div",{className:v.classes.stageHeaderRight},null===(_=re.get("right"))||void 0===_?void 0:_.map((({Component:e},t)=>i.default.createElement(e,{key:t,componentFilePath:N,componentExportName:b,previewId:S})))),i.default.createElement("div",{className:v.classes.windowContainer,onScroll:ee,ref:O},i.default.createElement("div",{className:v.classes.iframeWrapper,ref:H},A.current&&oe&&i.default.createElement(i.Fragment,null,i.default.createElement(u.ScrollBar,{className:v.classes.windowScrollBar,orientation:u.Orientation.Horizontal,scrollViewRef:A}),i.default.createElement(u.ScrollBar,{className:v.classes.windowScrollBar,orientation:u.Orientation.Vertical,scrollViewRef:A})),i.default.createElement(f.WindowResizers,{className:v.classes.resizer,onRightWidthResize:(0,i.useMemo)((()=>Q(u.ResizerType.Width,"right")),[Q]),onLeftWidthResize:(0,i.useMemo)((()=>Q(u.ResizerType.Width,"left")),[Q]),onWidthResizeEnd:(0,i.useMemo)((()=>q(u.ResizerType.Width)),[q]),onHeightResize:(0,i.useMemo)((()=>Q(u.ResizerType.Height)),[Q]),onHeightResizeEnd:(0,i.useMemo)((()=>q(u.ResizerType.Height)),[q]),windowSize:X,onSizeResize:(0,i.useMemo)(Q,[Q]),onSizeResizeEnd:(0,i.useMemo)(q,[q])}),M({className:v.classes.iframe,onScroll:ee,onFrameReady:s}),i.default.createElement("div",{className:v.classes.browserMock},i.default.createElement("div",{className:v.classes.browserButton}),i.default.createElement("div",{className:v.classes.browserButton}),i.default.createElement("div",{className:v.classes.browserButton})),i.default.createElement("div",{className:v.classes.windowOverlay},[...a].map(((e,s)=>i.default.createElement(e.Component,{previewEnvId:S,key:s,simManager:t,componentRef:y})))))),i.default.createElement("div",{className:v.classes.fixedStageOverlays},Array.from(g).map(((e,t)=>i.default.createElement(e,{key:t})))),i.default.createElement(p.CanvasRulers,{windowSize:X,canvasSize:J,margin:ae,rulersOffset:Z,heightVars:ie,widthVars:ne,className:v.classes.canvasRuler,simManager:t}),i.default.createElement("div",{className:v.classes.windowRulerSeparator}))})),t.SimulationWindow.displayName="SimulationWindow"},94467:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowResizers=void 0;const a=s(5163).__importStar(s(87363)),i=s(83135),n=s(70268),o=s(15701),r=s(21682);t.WindowResizers=(0,a.memo)((({windowSize:e,onSizeResize:t,onHeightResize:s,onRightWidthResize:l,onLeftWidthResize:c,className:u,onHeightResizeEnd:d,onHeightResizeStart:m,onSizeResizeEnd:p,onWidthResizeEnd:f,onSizeResizeStart:h,onWidthResizeStart:v})=>{const{open:w,close:g}=(0,i.useResizerCurtain)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(n.Resizer,{width:e.width,minWidth:e.minWidth,resizeFactor:2,onResize:l,className:(0,r.style)(r.classes.root,{type:"width",side:"right"},u),onResizeStart:v,onResizeEnd:f,openCurtain:w,closeCurtain:g},a.default.createElement(n.Tooltip,{content:o.content.tooltips.windowWidthResizer},a.default.createElement("div",{className:(0,r.style)(r.classes.resizerIcon,{type:"width",side:"right"})}))),a.default.createElement(n.Resizer,{width:e.width,minWidth:e.minWidth,resizeFactor:-2,onResize:c,className:(0,r.style)(r.classes.root,{type:"width",side:"left"},u),onResizeStart:v,onResizeEnd:f,openCurtain:w,closeCurtain:g},a.default.createElement(n.Tooltip,{content:o.content.tooltips.windowWidthResizer},a.default.createElement("div",{className:(0,r.style)(r.classes.resizerIcon,{type:"width",side:"left"})}))),a.default.createElement(n.Resizer,{height:e.height,minHeight:e.minHeight,onResize:s,className:(0,r.style)(r.classes.root,{type:"height"},u),onResizeStart:m,onResizeEnd:d,openCurtain:w,closeCurtain:g},a.default.createElement(n.Tooltip,{content:o.content.tooltips.windowHeightResizer},a.default.createElement("div",{className:(0,r.style)(r.classes.resizerIcon,{type:"height"})}))),a.default.createElement(n.Resizer,{width:e.width,height:e.height,minHeight:e.minHeight,minWidth:e.minWidth,onResize:t,resizeFactor:{value:2,type:n.ResizerType.Width},className:(0,r.style)(r.classes.root,{type:"size"},u),onResizeStart:h,onResizeEnd:p,openCurtain:w,closeCurtain:g},a.default.createElement(n.Tooltip,{content:o.content.tooltips.windowResizer},a.default.createElement("div",{className:(0,r.style)(r.classes.resizerIcon,{type:"size"})}))))})),t.WindowResizers.displayName="WindowResizers"},92449:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationOptions=t.ActionMenuType=void 0;const a=s(5163).__importStar(s(87363)),i=s(81177),n=s(69202),o=s(70268),r=s(15701),l=s(84161),c=s(15707),u=s(97225),d=s(16545),m=s(98066),p=s(16042);var f;!function(e){e[e.DROPDOWN=0]="DROPDOWN",e[e.CONTEXTMENU=1]="CONTEXTMENU"}(f=t.ActionMenuType||(t.ActionMenuType={}));const h={sourceAnchor:i.PositioningAnchor.TopCenter,targetAnchor:i.PositioningAnchor.BottomCenter},v={flipOnHorizontalOverflow:!1,flipOnVerticalOverflow:!0,arrowDirection:l.Direction.Right,sourceAnchor:i.PositioningAnchor.BottomCenter,targetAnchor:i.PositioningAnchor.TopCenter};t.SimulationOptions=({type:e,onToggled:t,children:s,disabled:i=!1,menuItems:l})=>{const w=(0,p.useVisibility)(),g=e===f.CONTEXTMENU,S=(0,a.useMemo)((()=>g?(0,c.dropPanelOpenerCreateContextMenuBehaviours)():c.DropPanelOpenerBehaviours.createDropButtonBehaviours()),[g]),{simulation:{simulationData:E},simulationCapabilities:{simulationService:y}}=(0,r.useSimulationTabContext)(),b=(0,m.getComponentRef)(E.compFilePath,E.compExportName),N=(0,d.useComponentSims)(y,b,w),M=(0,d.useSimManager)(y,E.simulationId);return a.default.createElement(o.ActionMenu,{className:u.classes.actionsDropdown,menuItems:l,onToggled:t,behaviours:S,onAction:e=>{var t,s;null===(s=(t=e.data).action)||void 0===s||s.call(t,{...E,simList:N,simManager:M})},positioningOptions:h},g?a.default.createElement(a.default.Fragment,null,s):a.default.createElement(o.Tooltip,{content:r.content.tooltips.boardActions,positioningOptions:v,distance:0},a.default.createElement(o.IconButton,{disabled:i},a.default.createElement(n.MoreIcon,null))))},t.SimulationOptions.displayName="SimulationOptions"},66775:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBoardShortcuts=void 0;const a=s(87363),i=s(15701),n=s(16042),o=s(16545),r=s(98066);t.useBoardShortcuts=e=>{const t=(0,a.useRef)(),{simulation:{simulationData:s},shortcuts:{shortcutService:l},simulationCapabilities:{simulationService:c}}=(0,i.useSimulationTabContext)(),u=(0,n.useVisibility)(),d=(0,r.getComponentRef)(s.compFilePath,s.compExportName),m=(0,o.useComponentSims)(c,d,u),p=(0,o.useSimManager)(c,s.simulationId);t.current={...s,simList:m,simManager:p},(0,a.useEffect)((()=>{const s=e=>s=>{u&&t.current&&(s.preventDefault(),e(t.current))},a=[];for(const t of e)if(t.data.shortcut){const{command:e,options:i}=t.data.shortcut,n=s(t.data.action);a.push({options:i,command:e,action:n}),l.on(e,n,i)}return()=>{for(const{command:e,action:t,options:s}of a)l.off(e,t,s)}}),[e,u,l])}},12659:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDemoList=void 0;const a=s(16042),i=s(9029),n=s(16545),o=s(98066);t.useDemoList=({componentFilePath:e,componentExportName:t})=>{const{simulationCapabilities:{simulationService:s}}=(0,i.useMainContext)(),r=(0,a.useVisibility)(),l=(0,o.getComponentRef)(e,t);return(0,n.useComponentSims)(s,l,r)}},8596:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StageEventService=void 0;const a=s(93849);t.StageEventService=class{constructor(){this.events=new a.EventEmitter,this.onStageEvent=(e,t)=>{this.events.emit(e,t)}}subscribe(e,t){this.events.subscribe(e,t)}unsubscribe(e,t){this.events.unsubscribe(e,t)}}},80673:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.ENVIRONMENT_PROPERTIES_KEYS=t.CodeExecutionMessageType=t.SIMULATION_CANVAS_CLASS_NAME=void 0,t.SIMULATION_CANVAS_CLASS_NAME="simulationCanvas",(s=t.CodeExecutionMessageType||(t.CodeExecutionMessageType={}))[s.consoleError=0]="consoleError",s[s.consoleWarn=1]="consoleWarn",s[s.consoleLog=2]="consoleLog",s[s.consoleInfo=3]="consoleInfo",s[s.previewRenderStart=4]="previewRenderStart",t.ENVIRONMENT_PROPERTIES_KEYS=["windowHeight","windowWidth","windowBackgroundColor","canvasHeight","canvasWidth","canvasBackgroundColor","canvasMargin","canvasPadding"]},91832:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163);a.__exportStar(s(31705),t),a.__exportStar(s(80673),t)},31705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84084:(e,t,s)=>{e.exports=s(91832)},66597:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(5163);a.__exportStar(s(70538),t),a.__exportStar(s(20206),t)},34196:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeStorage=t.createStorageKey=void 0;const a=s(93849);t.createStorageKey=(e,t)=>`WCS_STORAGE_${e}#${t}`,t.NativeStorage=class{constructor(e){this.nativeStorage=e,this.eventEmitter=new a.EventEmitter,this.on=(e,s,a)=>{this.eventEmitter.on((0,t.createStorageKey)(e,s),a)},this.off=(e,s,a)=>{this.eventEmitter.off((0,t.createStorageKey)(e,s),a)}}storeValue(e,s,a){this.nativeStorage.setItem((0,t.createStorageKey)(e,s),a),this.eventEmitter.emit((0,t.createStorageKey)(e,s),void 0)}getStoredValue(e,s){return this.nativeStorage.getItem((0,t.createStorageKey)(e,s))}clearStoredValue(e,s){this.nativeStorage.removeItem((0,t.createStorageKey)(e,s)),this.eventEmitter.emit((0,t.createStorageKey)(e,s),void 0)}}},70538:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageContext=void 0;const a=s(5163).__importDefault(s(87363)),i=s(34196);t.StorageContext=a.default.createContext({localStorageService:new i.NativeStorage(localStorage),sessionStorageService:new i.NativeStorage(sessionStorage)})},20206:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStorageValue=t.useStorage=void 0;const a=s(87363);function i({storageService:e,featureName:t,key:s}){return{readValue:(0,a.useCallback)((()=>{const a=e.getStoredValue(t,s);return a?JSON.parse(a):null}),[t,s,e]),storeValue:(0,a.useCallback)((a=>e.storeValue(t,s,JSON.stringify(a))),[t,s,e])}}t.useStorage=function({storageService:e,featureName:t,key:s,defaultValue:n,enabled:o=!0}){const[r,l]=(0,a.useState)(n),{readValue:c,storeValue:u}=i({storageService:e,featureName:t,key:s}),d=(0,a.useCallback)((()=>{var e;o&&l(null!==(e=c())&&void 0!==e?e:n)}),[n,o,c]);return(0,a.useEffect)(d,[d]),(0,a.useEffect)((()=>(e.on(t,s,d),()=>e.off(t,s,d))),[t,d,s,e]),[r,u]},t.useStorageValue=i},75994:(e,t,s)=>{e.exports=s(66597)}}]);