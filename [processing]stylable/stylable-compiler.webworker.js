(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[4872],{51609:(e,t)=>{"use strict";function n(e,t){if(t.isStylableModule(e)){const n=[],i=t.getModulePathNoExt(e);for(const r of t.getImporters(e))t.isStylableModule(r)||t.getModulePathNoExt(r)!==i||n.push(r);if(n.length>1)throw new Error(`Stylable Component Conflict:\n${e} has multiple components entries [${n}] `);return n[0]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCSSViewModule=t.calcDepth=void 0,t.calcDepth=function e(t,i,r=[],s=new Map){let o=0;if(s.has(t))return s.get(t);if(r.includes(t))return 0;r=r.concat(t);const l=i.getDependencies(t);for(const t of l)o=Math.max(o,e(t,i,r,s));if(i.isStylableModule(t)){const l=n(t,i);l&&(o=Math.max(o,e(l,i,r,s)),s.delete(l)),o++}return s.set(t,o),o},t.getCSSViewModule=n},43450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),r=n(93849),s=i.__importStar(n(32510)),o=i.__importDefault(n(60456)),l=i.__importDefault(n(25447)),a=i.__importStar(n(2206)),u=n(5689),c=i.__importDefault(n(93208)),d=i.__importDefault(n(1529)),p=(0,s.defineComputedResource)().defineEntity(a.processingEnv),f=(0,s.defineComputedResource)().defineEntity(a.processingEnv),y=(0,s.defineComputedResource)().defineEntity(a.processingEnv),m=(0,s.defineQueryResource)().defineEntity(a.processingEnv),g=(0,s.defineComputedResource)().defineEntity(a.processingEnv),_=new r.Feature({id:"codeExecution",dependencies:[a.default.asEntity,l.default.asEntity,r.COM.asEntity,c.default.asEntity,d.default.asEntity,s.default.asEntity,o.default.asEntity],api:{requestsExtractors:r.Slot.withType().defineEntity(a.processingEnv),requestResolvers:r.Slot.withType().defineEntity(a.processingEnv),bundlePlugins:r.Slot.withType().defineEntity(a.processingEnv),resolveNodeRequest:r.Service.withType().defineEntity(a.processingEnv),resolver:r.Service.withType().defineEntity(a.processingEnv).allowRemoteAccess(),deepDependencies:g,deepDependenciesMain:g.defineConsumer(u.mainEnv),dependencyResourceFactory:p,fileDependencyResourceFactory:f,executionResourceFactory:m,fileDependencyGraphResourceFactory:y,resolveConfig:a.default.api.pluggableProjectConfig.entry({},"resolve")}});t.default=_},33142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5163);i.__exportStar(n(43450),t);var r=n(43450);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.__importDefault(r).default}})},93104:(e,t,n)=>{e.exports=n(33142)},80134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCompiledFileExtention=void 0;const i=n(5163),r=n(93849),s=i.__importStar(n(32510)),o=i.__importDefault(n(93208)),l=i.__importStar(n(2206)),a=i.__importDefault(n(19608));t.defaultCompiledFileExtention=".compiled";const u=l.default.api.pluggableProjectConfig.entry({compiledFilesExtention:t.defaultCompiledFileExtention},"compilation");t.default=new r.Feature({id:"compilation",dependencies:[o.default.asEntity,l.default.asEntity,s.default.asEntity,a.default.asEntity],api:{compilationSlot:r.Slot.withType().defineEntity(l.processingEnv),compilationStore:r.Service.withType().defineEntity(l.processingEnv).allowRemoteAccess(),compiledFilesManager:(0,s.defineComputedResource)().defineEntity(l.processingEnv),compilationConfig:u}})},97569:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(80134);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(r).default}})},25447:(e,t,n)=>{e.exports=n(97569)},43934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5163);i.__exportStar(n(31434),t);var r=n(31434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.__importDefault(r).default}})},2206:(e,t,n)=>{e.exports=n(43934)},84081:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),r=n(93849),s=n(2206),o=i.__importDefault(n(25447)),l=i.__importDefault(n(93104)),a=i.__importDefault(n(70286));t.default=new r.Feature({id:"stylableCompiler",dependencies:[a.default.asEntity,o.default.asEntity,l.default.asEntity],api:{onProcessSlot:r.Slot.withType().defineEntity(s.processingEnv)}})},47255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),r=n(47325),s=n(2206),o=i.__importDefault(n(84081)),l=n(37312),a=n(70130),u=n(5926),c="@stylable/runtime";o.default.setup(s.processingEnv,(({onProcessSlot:e},{compilation:{compilationSlot:t},codeExecution:{requestsExtractors:n,bundlePlugins:i,dependencyResourceFactory:s,resolveNodeRequest:o},stylable:{createStylable:d,createCalcDepthContext:p}})=>{const f=t=>(n,i)=>{for(const{editing:r,process:s}of e)(!t||t&&!r)&&(n=s(n,i));return n},y=d({onProcess:f(!1)}),m=d({onProcess:f(!0)}),{resolvedFile:g}=o(y.projectRoot,c);i.register({id:"stylable-bundle",process(e,t){const n=(0,a.buildDependenciesGraph)(t,s),i=(0,a.createDepthMap)(n,p(n));return{before:i.hasStylableFiles?(0,a.depthAwareRuntimeInitializer)(i.depthMapping,g):""}}}),n.register({test:e=>e.endsWith(".st.css"),extractRequests:(e,t)=>[...y.createProcessor().process((0,r.safeParse)(t,{from:e})).getImportStatements().map((({request:e})=>e)),c]}),t.register({isApplicable:e=>e.endsWith(".st.css"),outputLanguage:"javascript",compile:(e,t=!1)=>{const{result:n,dependencies:i}=(0,u.compileStylable)(t?m:y,e);return{content:(0,l.generateModuleSource)(n,!0,c),dependencies:i}},languageName:"Stylable"}),t.register({isApplicable:e=>e.endsWith(".st.css"),outputLanguage:"css",compile:e=>{const{result:t,dependencies:n}=(0,u.compileStylable)(y,e);return{content:t.meta.outputAst.toString(),dependencies:n}},languageName:"Stylable"})}))},70286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163).__importStar(n(2206)),r=n(93849);t.default=new r.Feature({id:"stylable",dependencies:[i.default.asEntity],api:{createStylable:r.Service.withType().defineEntity(i.processingEnv),createCalcDepthContext:r.Service.withType().defineEntity(i.processingEnv)}})},70130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDependenciesGraph=t.createDepthMap=t.depthAwareRuntimeInitializer=t.createCalcDepthContext=void 0;const i=n(51609);t.createCalcDepthContext=function(e,t){return{getDependencies:t=>e[t].imported,getImporters:t=>e[t].importers,isStylableModule:e=>e.endsWith(".st.css"),getModulePathNoExt:e=>{if(e.endsWith(".st.css"))return e.replace(/\.st\.css$/,"");const{dir:n,name:i}=t.parse(e);return t.join(n,i)}}},t.depthAwareRuntimeInitializer=function(e,t){return`\nconst depthMap = ${JSON.stringify(e)};\nconst stylableRuntime = require(${JSON.stringify(t)});   \nif(!stylableRuntime.$.window) {\n    stylableRuntime.$.init(window);\n    const register = stylableRuntime.$.register;\n    stylableRuntime.$.register = function(stylesheet){\n        stylesheet.$depth = stylableRuntime.$.$$depthMap[stylesheet.$id] || -1;\n        return register.call(this, stylesheet);\n    }\n}\nstylableRuntime.$.$$depthMap = {...stylableRuntime.$.$$depthMap, ...depthMap}; \n    `},t.createDepthMap=function(e,t){const n=new Map,r={};let s=!1;for(const o in e)o.endsWith(".st.css")&&(r[o]=(0,i.calcDepth)(o,t,[],n),s=!0);return{depthMapping:r,hasStylableFiles:s}},t.buildDependenciesGraph=function(e,t){var n,i;const r={};for(const s of e){if(!t.isResourceOfType(s))continue;const e=s.getId();null!==(n=r[e])&&void 0!==n||(r[e]={importers:new Set,imported:new Set});for(const t of Object.values(s.getLatest()))"string"==typeof t&&(r[e].imported.add(t),null!==(i=r[t])&&void 0!==i||(r[t]={importers:new Set,imported:new Set}),r[t].importers.add(e))}return r}},37312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateModuleSource=void 0,t.generateModuleSource=function(e,t,n){const{exports:i,meta:r}=e,s=JSON.stringify(i),o=JSON.stringify(r.namespace),l=t?JSON.stringify(r.outputAst.toString()):"null";return`\n    ${r.getImportStatements().filter((({from:e})=>e.endsWith(".st.css"))).map((({request:e},t)=>`const $${t} = require(${JSON.stringify(e)});`)).join("\n")}\n    const stylableRuntime = require(${JSON.stringify(n)});\nmodule.exports = stylableRuntime.create(\n    ${o},\n    ${s},\n    ${l},\n    -1,\n    module.id,\n    stylableRuntime.$\n);\n`}},5926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileStylable=void 0;const i=n(47325);t.compileStylable=function(e,t){const n=e.process(t),r=e.transform(n),s=new Set;return(0,i.visitMetaCSSDependenciesBFS)(n,(({source:e})=>{s.add(e)}),e.resolver,(e=>s.add(e))),{result:r,dependencies:Array.from(s)}}},73837:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(89102);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(r).default}})},89102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(93849),r=n(2206);t.default=new i.Feature({id:"userApplicationServer",dependencies:[],api:{userApplicationServerInterface:i.Service.withType().defineEntity(r.processingEnv).allowRemoteAccess(),serverRootSlot:i.Slot.withType().defineEntity(r.processingEnv),applicationHandlerSlot:i.Slot.withType().defineEntity(r.processingEnv)},context:{serverInitializer:r.processingEnv.withContext()}})},19608:(e,t,n)=>{e.exports=n(73837)},91768:()=>{},70764:()=>{},45158:()=>{},58635:()=>{},30139:()=>{},63653:()=>{}}]);