(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[6726],{60814:(e,t,r)=>{e.exports=r(73858)},36738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonSimpleAstParsers=void 0;const n=r(62764),o=r(84656),d=r(35949),i=r(48411),s=r(7688),a=r(10766),l=r(36161),c=r(8543),u=r(42143),p=r(87085);t.commonSimpleAstParsers=[d.filePlugin,o.variablePlugin,i.stringPlugin,i.numberPlugin,i.booleanPlugin,u.callPlugin,i.nullPlugin,i.undefinedPlugin,p.functionPlugin,n.arrayPlugin,s.objectPlugin,s.namedPropertyPlugin,a.jsxPlugin,a.jsxPropPlugin,a.jsxTextPlugin,a.jsxExpressionPlugin,l.referencePlugin,c.propertyAccessPlugin,c.propertyAccessIndexPlugin]},46726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(85136),t),n.__exportStar(r(87185),t),n.__exportStar(r(2807),t),n.__exportStar(r(85272),t),n.__exportStar(r(97094),t),n.__exportStar(r(87085),t),n.__exportStar(r(36738),t),n.__exportStar(r(15089),t),n.__exportStar(r(84169),t),n.__exportStar(r(36136),t)},5786:(e,t)=>{"use strict";function r(e,t,r){const n=void 0!==t?e.getPlugin(t):void 0;if(!n)throw new Error(`no plugin for kind: ${t||"undefined"}`);return n.modifiers[r]}Object.defineProperty(t,"__esModule",{value:!0}),t.moveNode=void 0,t.moveNode=function(e,t,n){let o=e;const d=n.getASTInfo(e),i=d.idToNode.get(t.node.astNodeId);if(!i)throw new Error(`child with id: ${t.node.astNodeId} not found`);const s=d.nodeToParent.get(i);if(!s)throw new Error(`can't find child with id: ${t.node.astNodeId}`);const a=r(n,s.kind,"removeChild")(s,{childId:t.node.astNodeId,placeholderId:t.placeholderId},n);o=n.replaceNode(o,s.astNodeId,a);const l=n.getASTInfo(o).idToNode.get(t.newParentId);if(!l)throw new Error(`can't find new parent with id: ${t.newParentId}`);const c=r(n,l.kind,"addChild")(l,{newChild:t.node,...t},n);return o=n.replaceNode(o,t.newParentId,c),o}},97094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodePluginRepo=t.ScannedASTInfo=void 0;const n=r(84169);class o{constructor(e){this.idToNode=e.idToNode,this.nodeToParent=e.nodeToParent,this.root=e.root,this.kindToNodes=e.kindToNodes}byId(e){return this.idToNode.get(e)}byChild(e){return this.nodeToParent.get(e)}byKind(e){return this.kindToNodes.get(e)||[]}isChildOf(e,t){const r=this.nodeToParent.get(t);return!!r&&(r.astNodeId===e.astNodeId||this.isChildOf(e,r))}}t.ScannedASTInfo=o;const d=new WeakMap;t.NodePluginRepo=class{constructor(){this.plugins=new Map}registerPlugin(e){if(this.plugins.has(e.nodeKind))throw new Error("Could not register plugin. Plugin with the same node id already exist: "+e.nodeKind);this.plugins.set(e.nodeKind,e)}getPlugin(e){return this.plugins.get(e)}getChildren(e){const t=this.getPlugin(e.kind);return t&&t.getNodeChildren?t.getNodeChildren(e):[]}walkNodes(e,t){(0,n.walkProjectedNodes)(e,this.plugins,t)}transformNodes(e,t){let r=t(e);const n=this.plugins.get(e.kind);if(n&&n.getNodeChildren){const e=n.getNodeChildren(r);for(const o of e){const e=this.transformNodes(o,t);e!==o&&(r=n.replaceChild(r,o.astNodeId,e))}}return r}findNode(e,t){return(0,n.findNodeAndParents)(e,t,this.plugins)}replaceNode(e,t,r){return(0,n.replaceNode)(e,t,r,this.plugins)}getASTInfo(e){if(!d.has(e)){const t={idToNode:new Map,nodeToParent:new Map,kindToNodes:new Map,root:e};(0,n.walkProjectedNodes)(e,this.plugins,((e,r)=>(r&&t.nodeToParent.set(e,r),t.idToNode.set(e.astNodeId,e),t.kindToNodes.has(e.kind)||t.kindToNodes.set(e.kind,[]),t.kindToNodes.get(e.kind).push(e),!0))),d.set(e,new o(t))}return d.get(e)}getPlugins(){return this.plugins}}},26504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(62764),t),n.__exportStar(r(68029),t)},62764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayPlugin=t.arrayModifiers=void 0;const n=r(68029),o=r(87185),d=r(69521);t.arrayModifiers={removeChild:(e,{childId:r})=>t.arrayModifiers.removeElement(e,{elementId:r}),removeElement(e,{elementId:t}){const r=e.elements.filter((e=>e.astNodeId!==t));return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:r})},insertAtBeginning:(e,{value:t})=>(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:[t,...e.elements]}),insertAtEnd:(e,{value:t})=>(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:[...e.elements,t]}),addChild(e,r){if((0,o.isAddInsteadModArgs)(r))return t.arrayModifiers.setElement(e,{elementId:r.insteadOfChildId,value:r.node});if((0,o.isAddBeforeModArgs)(r))return r.beforeChildId?t.arrayModifiers.insertBefore(e,{targetId:r.beforeChildId,value:r.node}):t.arrayModifiers.insertAtEnd(e,{value:r.node});throw new Error("ArrayNode only supports add of kind add-instead or add-before")},insertBefore(e,{targetId:t,value:r}){const o=e.elements.flatMap((e=>e.astNodeId===t?[r,e]:[e]));return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:o})},insertAfter(e,{targetId:t,value:r}){const o=e.elements.flatMap((e=>e.astNodeId===t?[e,r]:[e]));return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:o})},setElement(e,{elementId:t,value:r}){const o=e.elements.map((e=>e.astNodeId===t?r:e));return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:o})},moveBefore(e,{elementId:t,targetId:r}){if(t===r)return e;const o=e.elements.find((e=>e.astNodeId===t));if(!o)throw new Error("element not found");const d=e.elements.filter((e=>e.astNodeId!==t)).flatMap((e=>e.astNodeId===r?[o,e]:[e]));if(d.length!==e.elements.length)throw new Error("target not found "+r);return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:d})},moveAfter(e,{elementId:t,targetId:r}){if(t===r)return e;const o=e.elements.find((e=>e.astNodeId===t));if(!o)throw new Error("element not found");const d=e.elements.filter((e=>e.astNodeId!==t)).flatMap((e=>e.astNodeId===r?[e,o]:[e]));if(d.length!==e.elements.length)throw new Error("target not found "+r);return(0,n.createArrayNode)({astNodeId:e.astNodeId,elements:d})}},t.arrayPlugin=(0,o.packPlugin)()({kind:"array",modifiers:t.arrayModifiers,getNodeChildren:e=>e.elements,replaceChild:(e,t,r)=>{const n=(0,d.replaceInArr)(e.elements,t,r);if("success"!==n.status)throw new Error("replace properties in object, "+n.status);return{...e,elements:n.arr}},createBlank:e=>(0,n.createArrayNode)({astNodeId:e(),elements:[]})})},68029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayNode=t.createArrayNode=void 0;const n=r(87185);t.createArrayNode=function(e){return{kind:"array",elements:[],...e}},t.isArrayNode=e=>!!e&&(0,n.isNodeOfKind)("array",e)},42143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(67695),t),n.__exportStar(r(42048),t)},67695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callPlugin=t.callModifiers=void 0;const n=r(85272),o=r(42048),d=r(87185),i=r(94654);t.callModifiers={removeArg(e,{argId:t}){const r=(0,n.removeFromArr)(e.args,t);if("not found"===r.status)throw new Error("argument not found");return{...e,args:r.arr}},addArg(e,{arg:t,beforeArg:r}){if(r){const o=(0,n.findIdxByID)(e.args,r);if(-1===o)throw new Error("argument not found");const d=[...e.args];return d.splice(o,0,t),{...e,args:d}}const o=[...e.args];return o.push(t),{...e,args:o}},replaceArg(e,{arg:t,oldChildId:r}){const o=(0,n.replaceInArr)(e.args,r,t);if("not found"===o.status)throw new Error("argument not found");return{...e,args:o.arr}},replaceMethod:(e,{method:t})=>({...e,method:t}),moveArgBefore(e,{argId:t,targetId:r}){if(t===r)return e;const n=e.args.find((e=>e.astNodeId===t));if(!n)throw new Error("argument not found");const o=e.args.filter((e=>e.astNodeId!==t)).flatMap((e=>e.astNodeId===r?[n,e]:[e]));if(o.length!==e.args.length)throw new Error("target not found "+r);return{...e,args:o}},moveArgAfter(e,{argId:t,targetId:r}){if(t===r)return e;const n=e.args.find((e=>e.astNodeId===t));if(!n)throw new Error("argument not found");const o=e.args.filter((e=>e.astNodeId!==t)).flatMap((e=>e.astNodeId===r?[e,n]:[e]));if(o.length!==e.args.length)throw new Error("target not found "+r);return{...e,args:o}},removeArgsInRange:(e,{from:t,to:r})=>({...e,args:e.args.slice(0,t).concat(e.args.slice(null!=r?r:e.args.length))})},t.callPlugin=(0,d.packPlugin)()({kind:"call",modifiers:t.callModifiers,getNodeChildren(e){var t;return[e.method,...null!==(t=e.args)&&void 0!==t?t:[]]},replaceChild(e,t,r){if(e.method.astNodeId===t)return{...e,method:r};const o=(0,n.replaceInArr)(e.args,t,r);if("not found"===o.status)throw new Error("child not found");return{...e,args:o.arr}},createBlank:e=>(0,o.createCallNode)({astNodeId:e(),method:(0,i.createReferenceNode)({astNodeId:e(),name:"parseInt"})})})},42048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCallNode=t.createCallNode=void 0;const n=r(87185);t.createCallNode=function(e){return{kind:"call",hasNewKeyword:!1,args:[],...e}},t.isCallNode=e=>!!e&&(0,n.isNodeOfKind)("call",e)},92054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(63452),t),n.__exportStar(r(56533),t)},63452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.functionPlugin=void 0;const n=r(87185),o=r(56533);t.functionPlugin=(0,n.packPlugin)()({kind:"function",modifiers:{},createBlank:e=>(0,o.createFunctionNode)({astNodeId:e(),name:"fn"})})},56533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunctionNode=t.createFunctionNode=void 0;const n=r(87185);t.createFunctionNode=function(e){return{kind:"function",args:[],body:[],...e}},t.isFunctionNode=e=>(0,n.isNodeOfKind)("function",e)},87085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(26504),t),n.__exportStar(r(42143),t),n.__exportStar(r(92054),t),n.__exportStar(r(93145),t),n.__exportStar(r(11442),t),n.__exportStar(r(77949),t),n.__exportStar(r(84156),t),n.__exportStar(r(94654),t),n.__exportStar(r(85921),t),n.__exportStar(r(18377),t),n.__exportStar(r(33734),t),n.__exportStar(r(21218),t),n.__exportStar(r(26511),t),n.__exportStar(r(80421),t),n.__exportStar(r(67552),t)},93145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(10766),t),n.__exportStar(r(85136),t)},10766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsxExpressionPlugin=t.jsxPlugin=t.addChild=t.removeChildWithIndex=t.removeChild=t.getSummarizedStartSpace=t.getSummarizedEndSpace=t.getStartSpaces=t.getStartSpacesLength=t.getSummarizedSpaces=t.getEndSpaces=t.getEndSpacesLength=t.jsxSpreadPropertyPlugin=t.jsxTextPlugin=t.jsxPropPlugin=t.modifiers=void 0;const n=r(87185),o=r(85136),d=r(23987),i=r(4697),s=r(5786),a=r(85272),l=r(26504);function c(e,t){return e.findIndex((e=>e.astNodeId===t))}t.modifiers={},t.jsxPropPlugin=(0,n.packPlugin)()({kind:"jsx-prop",modifiers:{setValue:(e,{value:t})=>({...e,value:t}),addChild(e,r){if(!(0,n.isAddInsteadModArgs)(r))throw new Error("props only support add instead");return t.jsxPropPlugin.modifiers.setValue(e,{value:r.newChild})},removeChild(e,{placeholderId:t}){if(!t)throw new Error("no id for node to replace prop value");return{...e,value:(0,i.createNullNode)({astNodeId:t})}}},getNodeChildren:e=>"string"!=typeof e.value&&!0!==e.value&&e.value?[e.value]:[],replaceChild:(e,t,r)=>{if("string"!=typeof e.value&&!0!==e.value&&e.value.astNodeId===t)return{...e,value:r};throw new Error("child not found")},createBlank:e=>(0,o.createJSXPropNode)({astNodeId:e(),name:"new",value:""})}),t.jsxTextPlugin=(0,n.packPlugin)()({kind:"jsx-text-element",modifiers:{setValue:({astNodeId:e},{value:t})=>({kind:"jsx-text-element",astNodeId:e,value:(0,o.trimJsxText)(t)})},createBlank:e=>(0,o.createJSXTextNode)({astNodeId:e(),value:""})}),t.jsxSpreadPropertyPlugin=(0,n.packPlugin)()({kind:"jsx-spread-prop",modifiers:{},createBlank:e=>(0,o.createJSXSpreadPropertyNode)({astNodeId:e(),value:l.arrayPlugin.createBlank(e)}),getNodeChildren:e=>[e.value],replaceChild:(e,t,r)=>{if(e.value.astNodeId!==t)throw new Error("value not found");return{...e,value:r}}}),t.getEndSpacesLength=e=>e.length-e.trimEnd().length,t.getEndSpaces=e=>e.slice(e.length-(0,t.getEndSpacesLength)(e)),t.getSummarizedSpaces=e=>e.length?e.includes("\n")?"\n":" ":"",t.getStartSpacesLength=e=>e.length-e.trimStart().length,t.getStartSpaces=e=>e.slice(0,(0,t.getStartSpacesLength)(e)),t.getSummarizedEndSpace=e=>(0,t.getSummarizedSpaces)((0,t.getEndSpaces)(e)),t.getSummarizedStartSpace=e=>(0,t.getSummarizedSpaces)((0,t.getStartSpaces)(e)),t.removeChild=(e,{childId:r},n)=>{const o=e.children.findIndex((e=>e.astNodeId===r));return(0,t.removeChildWithIndex)(e,{idx:o},n)},t.removeChildWithIndex=(e,{idx:r})=>{let o=!1,d=!1,i=!1,s=" ";if(r>0){const d=e.children[r-1];(0,n.isNodeOfKind)("jsx-text-element",d)&&(0===d.value.trim().length?o=!0:(s=(0,t.getSummarizedEndSpace)(d.value),i=!0))}if(r<e.children.length-1){const o=e.children[r+1];if((0,n.isNodeOfKind)("jsx-text-element",o))if(r==e.children.length-2&&0===o.value.trim().length)d=!0;else if(i){const n=[...e.children];return s=(0,t.getSummarizedStartSpace)(s+o.value),n.splice(r-1,3,{astNodeId:n[r-1].astNodeId,kind:"jsx-text-element",value:n[r-1].value.trimEnd()+s+o.value.trimStart()}),{...e,children:n}}}const a=[...e.children];let l=1;return o&&l++,d&&l++,a.splice(o?r-1:r,l),{...e,children:a}},t.addChild=(e,t)=>{if(!(0,n.isAddBeforeModArgs)(t)&&!(0,n.isAddAfterModArgs)(t)||void 0===t.spaceBeforeId||void 0===t.spaceAfterId)throw new Error("jsx only supports add-before, add-after with spaceBeforeId & spaceAfterId");const r=[...e.children],d=(0,n.isNodeOfKind)("jsx-text-element",t.newChild),i=function(e,t){return(0,n.isAddBeforeModArgs)(t)?t.beforeChildId?c(e.children,t.beforeChildId):e.children.length:(0,n.isAddAfterModArgs)(t)?t.afterChildId?c(e.children,t.afterChildId)+1:0:-1}(e,t),s=[],a=r[i-1],l=r[i];if((0,n.isNodeOfKind)("jsx-text-element",t.newChild)){if(a&&(0,n.isNodeOfKind)("jsx-text-element",a)){const n={...t.newChild,value:(0,o.trimJsxText)(a.value+t.newChild.value)};return r.splice(i-1,1,n),{...e,children:r}}if(l&&(0,n.isNodeOfKind)("jsx-text-element",l)){const n={...t.newChild,value:(0,o.trimJsxText)(t.newChild.value+l.value)};return r.splice(i,1,n),{...e,children:r}}}const u=!a||!(0,n.isNodeOfKind)("jsx-text-element",a),p=!l||!(0,n.isNodeOfKind)("jsx-text-element",l);if(!d&&u&&s.push((0,o.createJSXTextNode)({astNodeId:t.spaceBeforeId,value:"\n"})),s.push(t.newChild),!d&&p&&s.push((0,o.createJSXTextNode)({astNodeId:t.spaceAfterId,value:"\n"})),r.splice(i,0,...s),-1===i)throw new Error("reference child not found");return{...e,children:r}},t.jsxPlugin=(0,n.packPlugin)()({kind:"jsx-element",modifiers:{removeChild:t.removeChild,removeChildWithIndex:t.removeChildWithIndex,addChild:t.addChild,moveChild:s.moveNode,addProp:(e,{prop:t})=>({...e,props:[...e.props,t]}),replaceChild:(e,{childId:t,target:r})=>({...e,children:e.children.map((e=>e.astNodeId===t?r:e))}),setProperty(e,{propId:t,value:r}){const n=e.props.findIndex((e=>e.astNodeId===t));if(-1===n)throw new Error("child node not found");const o=e.props[n],d=[...e.props.slice(0,n),{...o,value:r},...e.props.slice(n+1)];return{...e,props:d}},setPropertyLike(e,{propLike:t}){const r=e.props.findIndex((e=>e.astNodeId===t.astNodeId));if(-1===r)throw new Error("child node not found");const n=[...e.props.slice(0,r),{...t},...e.props.slice(r+1)];return{...e,props:n}},removeProp(e,{propId:t}){const r=e.props.filter((e=>e.astNodeId!==t));return{...e,props:r}}},getNodeChildren:e=>[...e.children,...e.props,e.type],replaceChild:(e,t,r)=>{if(e.type.astNodeId===t)return{...e,type:r};const n=(0,a.replaceInArr)(e.props,t,r);if("success"==n.status)return{...e,props:n.arr};const o=(0,a.replaceInArr)(e.children,t,r);if("success"==o.status)return{...e,children:o.arr};throw new Error("child not found")},createBlank:e=>(0,o.createJSXElement)({astNodeId:e(),type:(0,d.createUnparsedNode)({astNodeId:e(),code:""})})}),t.jsxExpressionPlugin=(0,n.packPlugin)()({kind:"jsx-expression",modifiers:{setExpression:(e,{expression:t})=>({...e,expression:t}),removeChild(e,{placeholderId:t}){if(!t)throw new Error("can't remove expression without placeholder id");return{...e,expression:(0,i.createNullNode)({astNodeId:t})}},addChild(e,t){if(!(0,n.isAddInsteadModArgs)(t))throw new Error("jsx-expression only supports add-instead");return{...e,expression:t.newChild}}},getNodeChildren:e=>e.expression?[e.expression]:[],replaceChild:(e,t,r)=>{if(!e.expression||e.expression.astNodeId!==t)throw new Error("child not found");return{...e,expression:r}},createBlank:e=>(0,o.createJSXExpressionNode)({code:"",astNodeId:e(),expression:(0,i.createBooleanNode)({astNodeId:e(),value:!0})})})},85136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJSXExpressionNode=t.createJSXSpreadPropertyNode=t.createJSXTextNode=t.createJSXPropNode=t.createJSXElement=t.trimJsxText=t.isJSXStringNode=t.isJSXSpreadNode=t.isJSXTextNode=t.isJSXProp=t.isJSXExpressionNode=t.isJSXElementNode=void 0;const n=r(87185);t.isJSXElementNode=e=>!!e&&(0,n.isNodeOfKind)("jsx-element",e),t.isJSXExpressionNode=e=>!!e&&(0,n.isNodeOfKind)("jsx-expression",e),t.isJSXProp=e=>!!e&&(0,n.isNodeOfKind)("jsx-prop",e),t.isJSXTextNode=e=>!!e&&(0,n.isNodeOfKind)("jsx-text-element",e),t.isJSXSpreadNode=e=>!!e&&(0,n.isNodeOfKind)("jsx-spread-prop",e),t.isJSXStringNode=e=>!!e&&(0,n.isNodeOfKind)("string",e),t.trimJsxText=e=>e.split(/(\s+)/).reduce(((e,t,r)=>r%2==0?e+t:t.includes("\n")?e+"\n":e+" "),""),t.createJSXElement=function(e){return{kind:"jsx-element",children:[],props:[],...e}},t.createJSXPropNode=function(e){return{kind:"jsx-prop",...e}},t.createJSXTextNode=function(e){return{kind:"jsx-text-element",...e,value:(0,t.trimJsxText)(e.value)}},t.createJSXSpreadPropertyNode=function(e){return{kind:"jsx-spread-prop",...e,value:e.value}},t.createJSXExpressionNode=function(e){return{kind:"jsx-expression",...e}}},11442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(7688),t),n.__exportStar(r(61285),t),n.__exportStar(r(94520),t)},7688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namedPropertyPlugin=t.objectPlugin=t.objectModifiers=void 0;const n=r(61285),o=r(87185),d=r(4697),i=r(69521),s=r(77949);t.objectModifiers={addProperty(e,{name:t,value:r,propertyId:o}){const d=(0,n.createPropertyNode)({astNodeId:o,name:t,initializer:r});return(0,n.createObjectNode)({astNodeId:e.astNodeId,properties:[...e.properties,d]})},removeProperty(e,{childId:t}){const r=e.properties.findIndex((e=>e.astNodeId===t));if(-1===r)throw new Error("child node not found");const o=e.properties[r];return(0,n.createObjectNode)({astNodeId:e.astNodeId,properties:[...e.properties.filter((e=>e!==o))]})},setProperty(e,{childId:t,value:r}){const d=e.properties.findIndex((e=>e.astNodeId===t));if(-1===d)throw new Error("child node not found");const i=e.properties[d];if(!(0,o.isNodeOfKind)("property",i))throw new Error("Cannot set property for non property node");const s=[...e.properties.slice(0,d),{...i,initializer:r},...e.properties.slice(d+1)];return(0,n.createObjectNode)({astNodeId:e.astNodeId,properties:s})},renameProperty(e,{childId:t,newName:r}){const n=e.properties.findIndex((e=>e.astNodeId===t));if(-1===n)throw new Error("child node not found");const i=e.properties[n];if(!(0,o.isNodeOfKind)("property",i))throw new Error("could not rename spread");const s=new Array(e.properties.length);for(let t=0;t<e.properties.length;t++){const n=e.properties[t];s[t]=n===i?{...i,name:(0,d.createStringNode)({astNodeId:i.name.astNodeId,value:r})}:n}return{...e,properties:s}}},t.objectPlugin=(0,o.packPlugin)()({kind:"object",modifiers:t.objectModifiers,createBlank:e=>(0,n.createObjectNode)({astNodeId:e()}),getNodeChildren:e=>e.properties,replaceChild:(e,t,r)=>{const n=(0,i.replaceInArr)(e.properties,t,r);if("success"!==n.status)throw new Error("replace properties in object, "+n.status);return{...e,properties:n.arr}}}),t.namedPropertyPlugin=(0,o.packPlugin)()({kind:"property",modifiers:{removeChild(e,{childId:t,placeholderId:r}){const n=(0,s.isStringNode)(e.name)?e.name.value:"";if(t!==e.initializer.astNodeId)throw new Error("property ${name} can only remove initializer");if(!r)throw new Error(`property ${n} needs a placeholderId to remove value, and replace it with null`);return{...e,initializer:(0,d.createNullNode)({astNodeId:r})}}},createBlank:e=>(0,n.createPropertyNode)({astNodeId:e(),name:(0,d.createStringNode)({astNodeId:e(),value:""}),initializer:{astNodeId:e(),kind:"undefined"}}),getNodeChildren:e=>[e.name,e.initializer],replaceChild:(e,t,r)=>{if(e.initializer.astNodeId===t)return{...e,initializer:r};if(e.name.astNodeId===t)return{...e,name:r};throw new Error("child not found")}})},61285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObjectNode=t.createObjectNode=t.isPropertyNode=t.createPropertyNode=void 0;const n=r(87185);t.createPropertyNode=function(e){return{kind:"property",...e}},t.isPropertyNode=e=>!!e&&(0,n.isNodeOfKind)("property",e),t.createObjectNode=function(e){return{kind:"object",properties:[],...e}},t.isObjectNode=e=>!!e&&(0,n.isNodeOfKind)("object",e)},94520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleObjectProp=void 0;const n=r(87185);t.getSimpleObjectProp=(e,t)=>e.find((e=>(0,n.isNodeOfKind)("property",e)&&(0,n.isNodeOfKind)("string",e.name)&&e.name.value===t))},4697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUndefinedNode=t.createNullNode=t.createBooleanNode=t.createNumberNode=t.createStringNode=void 0,t.createStringNode=function(e){return{kind:"string",...e}},t.createNumberNode=function(e){return{kind:"number",...e}},t.createBooleanNode=function(e){return{kind:"boolean",...e}},t.createNullNode=function(e){return{kind:"null",...e}},t.createUndefinedNode=function(e){return{kind:"undefined",...e}}},77949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(48411),t),n.__exportStar(r(82938),t),n.__exportStar(r(4697),t)},48411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedPlugin=t.nullPlugin=t.booleanPlugin=t.numberPlugin=t.stringPlugin=t.booleanModifiers=t.numberModifiers=t.stringModifiers=void 0;const n=r(4697),o=r(87185);t.stringModifiers={setValue:(e,t)=>(0,n.createStringNode)({astNodeId:e.astNodeId,value:t.value})},t.numberModifiers={setValue:(e,t)=>(0,n.createNumberNode)({astNodeId:e.astNodeId,value:t.value})},t.booleanModifiers={setValue:(e,t)=>(0,n.createBooleanNode)({astNodeId:e.astNodeId,value:t.value})},t.stringPlugin=(0,o.packPlugin)()({kind:"string",modifiers:t.stringModifiers,createBlank:e=>(0,n.createStringNode)({astNodeId:e(),value:""}),squash:e=>{const t=[],r=new Set;for(let n=e.length-1;n>=0;n--){const o=e[n];"setValue"===o.modification?r.has(o.targetId)||(r.add(o.targetId),t.unshift(o)):t.unshift(o)}return t}}),t.numberPlugin=(0,o.packPlugin)()({kind:"number",modifiers:t.numberModifiers,createBlank:e=>(0,n.createNumberNode)({astNodeId:e(),value:0})}),t.booleanPlugin=(0,o.packPlugin)()({kind:"boolean",modifiers:t.booleanModifiers,createBlank:e=>(0,n.createBooleanNode)({astNodeId:e(),value:!0})}),t.nullPlugin=(0,o.packPlugin)()({kind:"null",modifiers:{},createBlank:e=>({kind:"null",astNodeId:e()})}),t.undefinedPlugin=(0,o.packPlugin)()({kind:"undefined",modifiers:{},createBlank:e=>({kind:"undefined",astNodeId:e()})})},82938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefinedNode=t.isNullNode=t.isBooleanNode=t.isNumberNode=t.isStringNode=void 0;const n=r(87185);t.isStringNode=e=>!!e&&(0,n.isNodeOfKind)("string",e),t.isNumberNode=e=>(0,n.isNodeOfKind)("number",e),t.isBooleanNode=e=>(0,n.isNodeOfKind)("boolean",e),t.isNullNode=e=>!!e&&(0,n.isNodeOfKind)("null",e),t.isUndefinedNode=e=>(0,n.isNodeOfKind)("undefined",e)},84156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(8543),t),n.__exportStar(r(51201),t)},8543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertyAccessIndexPlugin=t.propertyAccessIndexModifiers=t.propertyAccessPlugin=t.propertyAccessModifiers=void 0;const n=r(51201),o=r(87185),d=r(89038),i=r(48411);t.propertyAccessModifiers={setValue:(e,{reference:t,accessPath:r})=>(0,n.createPropertyAccessNode)({astNodeId:e.astNodeId,reference:t,accessPath:r})},t.propertyAccessPlugin=(0,o.packPlugin)()({kind:"property-access",modifiers:t.propertyAccessModifiers,createBlank:e=>(0,n.createPropertyAccessNode)({astNodeId:e(),reference:i.undefinedPlugin.createBlank(e),accessPath:[]}),getNodeChildren:e=>[e.reference,...e.accessPath],replaceChild:(e,t,r)=>{if(e.reference.astNodeId===t){if((0,d.isAnyReferenceNode)(r)||(0,o.isNodeOfKind)("UnparsedNode",r))return{...e,reference:r};throw new Error("Cannot replace reference with non reference or unparsed")}throw new Error("Child not found")}}),t.propertyAccessIndexModifiers={},t.propertyAccessIndexPlugin=(0,o.packPlugin)()({kind:"property-access-index",modifiers:{},createBlank:e=>(0,n.createPropertyAccessIndexNode)({astNodeId:e(),accessKey:"new"})})},51201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSimplePropertyAccessNode=t.createPropertyAccessNode=t.isSimplePropertyAccessIndexNode=t.createPropertyAccessIndexNode=void 0,t.createPropertyAccessIndexNode=function(e){return{kind:"property-access-index",...e}},t.isSimplePropertyAccessIndexNode=function(e){return"property-access-index"===e.kind},t.createPropertyAccessNode=function(e){return{kind:"property-access",...e}},t.isSimplePropertyAccessNode=function(e){return!!e&&"property-access"===e.kind}},94654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(36161),t),n.__exportStar(r(89038),t)},36161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.referencePlugin=t.referenceModifiers=void 0;const n=r(87185),o=r(89038);t.referenceModifiers={changeModuleSpecifier:(e,{moduleSpecifier:t})=>(0,o.isSimpleFileReferenceNode)(e)?{...e,targetFile:t}:{...e}},t.referencePlugin=(0,n.packPlugin)()({kind:"ref",modifiers:t.referenceModifiers,createBlank:e=>(0,o.createReferenceNode)({astNodeId:e(),name:"new"})})},89038:(e,t)=>{"use strict";function r(e){return"ref"===(null==e?void 0:e.kind)&&"in-file"===e.refType}function n(e){return"ref"===(null==e?void 0:e.kind)&&"between-file"===e.refType}Object.defineProperty(t,"__esModule",{value:!0}),t.createFileReferenceNode=t.createReferenceNode=t.isAnyReferenceNode=t.isSimpleFileReferenceNode=t.isSimpleReferenceNode=t.isReferenceNode=void 0,t.isReferenceNode=function(e){return!!e&&"ref"===e.kind},t.isSimpleReferenceNode=r,t.isSimpleFileReferenceNode=n,t.isAnyReferenceNode=function(e){return r(e)||n(e)},t.createReferenceNode=function(e){return{kind:"ref",refType:"in-file",...e}},t.createFileReferenceNode=function(e){return{refType:"between-file",kind:"ref",...e}}},85921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(35949),t),n.__exportStar(r(65491),t)},35949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filePlugin=void 0;const n=r(87185),o=r(65491),d=r(69521);t.filePlugin=(0,n.packPlugin)()({kind:"root",modifiers:{addStatement(e,{newStatement:t,beforeStatementId:r}){const n=[...e.statements];if(r){const e=(0,d.findIdxByID)(n,r);if(-1===e)throw new Error("reference node not found");n.splice(e,0,t)}else n.push(t);return{...e,statements:n}},removeStatement(e,{statementId:t}){const r=e.statements.filter((e=>e.astNodeId!==t));return{...e,statements:r}}},createBlank:e=>(0,o.createRootNode)({astNodeId:e(),statements:[]}),getNodeChildren:e=>e.statements,replaceChild:(e,t,r)=>{const n=e.statements.findIndex((e=>e.astNodeId===t));if(-1===n)throw new Error("statement not found in file");const o=[...e.statements];return o.splice(n,1,r),{...e,statements:o}}})},65491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSourceFileNode=t.createRootNode=void 0;const n=r(87185);t.createRootNode=function(e){return{kind:"root",...e}},t.isSourceFileNode=e=>!!e&&(0,n.isNodeOfKind)("root",e)},18377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(60932),t),n.__exportStar(r(3097),t)},60932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.templateStringTextPlugin=t.templateStringPlugin=t.templateStringModifiers=void 0;const n=r(3097),o=r(87185),d=r(69521);function i(e,t,r){const o=e.elements[r-1],d=e.elements[r],i=[...e.elements];if((0,n.isTemplateText)(t)){const s=i.length>1?t.astNodeId:e.astNodeId+"_text";if(o&&(0,n.isTemplateText)(o)){const e=(0,n.createTemplateText)({astNodeId:s,text:o.text+t.text});i.splice(r-1,1,e)}else if(d&&(0,n.isTemplateText)(d)){const e=(0,n.createTemplateText)({astNodeId:s,text:t.text+d.text});i.splice(r,1,e)}else i.length?i.splice(r,0,t):i.push((0,n.createTemplateText)({astNodeId:s,text:t.text}))}else i.splice(r,0,t);return(0,n.createTemplateNode)({astNodeId:e.astNodeId,elements:i})}t.templateStringModifiers={removeElement(e,{elementId:t}){const r=(0,d.findIdxByID)(e.elements,t);if(-1===r)throw Error("node to remove not found");const o=e.elements[r];if(!(0,n.isTemplateText)(o)){if(1===e.elements.filter((e=>!(0,n.isTemplateText)(e))).length){const t=[(0,n.createTemplateText)({astNodeId:e.astNodeId+"_text",text:e.elements.reduce(((e,t)=>(0,n.isTemplateText)(t)?e+t.text:e),"")})];return(0,n.createTemplateNode)({astNodeId:e.astNodeId,elements:t})}{const t=e.elements[r-1],o=e.elements[r+1];if(o&&t&&(0,n.isTemplateText)(t)&&(0,n.isTemplateText)(o)){const d=[...e.elements.slice(0,r-1),(0,n.createTemplateText)({astNodeId:t.astNodeId,text:t.text+o.text}),...e.elements.slice(r+2)];return(0,n.createTemplateNode)({astNodeId:e.astNodeId,elements:d})}}}const i=e.elements.filter((e=>e.astNodeId!==t));return(0,n.createTemplateNode)({astNodeId:e.astNodeId,elements:i})},insertAtBeginning:(e,{value:t})=>i(e,t,0),insertAtEnd:(e,{value:t})=>i(e,t,e.elements.length),insertBefore(e,{targetId:t,value:r}){const n=e.elements.findIndex((e=>e.astNodeId===t));return i(e,r,n)},insertAfter(e,{targetId:t,value:r}){const n=e.elements.findIndex((e=>e.astNodeId===t));return i(e,r,n+1)}},t.templateStringPlugin=(0,o.packPlugin)()({kind:"template-string",modifiers:t.templateStringModifiers,createBlank:e=>(0,n.createTemplateNode)({astNodeId:e()}),getNodeChildren:e=>e.elements,replaceChild:(e,t,r)=>{const n=(0,d.replaceInArr)(e.elements,t,r);if("success"!==n.status)throw new Error("replace properties in object, "+n.status);return{...e,elements:n.arr}}}),t.templateStringTextPlugin=(0,o.packPlugin)()({kind:"template-string-text",modifiers:{},createBlank:e=>(0,n.createTemplateText)({astNodeId:e()})})},3097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTemplateText=t.createTemplateText=t.isTemplateStringNode=t.createTemplateNode=void 0;const n=r(87185);t.createTemplateNode=function(e){return{kind:"template-string",elements:[],...e}},t.isTemplateStringNode=function(e){return(0,n.isNodeOfKind)("template-string",e)},t.createTemplateText=function(e){return{kind:"template-string-text",text:"",...e}},t.isTemplateText=function(e){return(0,n.isNodeOfKind)("template-string-text",e)}},80421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trinaryPlugin=void 0;const n=r(87185),o=r(4697),d=r(67552),i={};function s(e,t,r){var n;const o={...e};return e.condition.astNodeId===t&&(o.condition=r),(null===(n=e.whenFalse)||void 0===n?void 0:n.astNodeId)===t&&(o.whenFalse=r),e.whenTrue.astNodeId===t&&(o.whenTrue=r),o}t.trinaryPlugin=(0,n.packPlugin)()({kind:"trinary",modifiers:i,createBlank:e=>(0,d.createTrinaryNode)({astNodeId:e(),condition:(0,o.createBooleanNode)({astNodeId:e(),value:!0}),whenTrue:(0,o.createNullNode)({astNodeId:e()}),whenFalse:(0,o.createNullNode)({astNodeId:e()})}),getNodeChildren:e=>e.whenFalse?[e.condition,e.whenTrue,e.whenFalse]:[e.condition,e.whenTrue],replaceChild:s}),i.addChild=(e,t)=>{if(!(0,n.isAddInsteadModArgs)(t))throw new Error("ternary only supports add-instead");return s(e,t.insteadOfChildId,t.newChild)},i.removeChild=(e,{childId:t,placeholderId:r})=>r?s(e,t,(0,o.createNullNode)({astNodeId:r})):e},67552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrinaryNode=t.createTrinaryNode=void 0;const n=r(87185);t.createTrinaryNode=function(e){return{kind:"trinary",...e}},t.isTrinaryNode=function(e){return!!e&&(0,n.isNodeOfKind)("trinary",e)}},26511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(66180),t),n.__exportStar(r(10700),t)},66180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unparsedWithRootsPlugin=void 0;const n=r(85272),o=r(87185),d=r(10700);t.unparsedWithRootsPlugin=(0,o.packPlugin)()({kind:"unparsed-with-roots",modifiers:{},createBlank:e=>(0,d.createUnparsedWithRoots)({astNodeId:e(),code:"",roots:[]}),getNodeChildren:e=>e.roots,replaceChild:(e,t,r)=>{const o=(0,n.replaceInArr)(e.roots,t,r);if("not found"===o.status)throw new Error("node not found in expression");return{...e,roots:o.arr}}})},10700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnparsedWithRoots=t.isUnparsedWithParsedRoots=void 0;const n=r(87185);t.isUnparsedWithParsedRoots=function(e){return!!e&&(0,n.isNodeOfKind)("unparsed-with-roots",e)},t.createUnparsedWithRoots=function(e){return{kind:"unparsed-with-roots",roots:[],...e}}},33734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(5163).__exportStar(r(23987),t)},23987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnparsedNode=t.createUnparsedNode=void 0;const n=r(87185);t.createUnparsedNode=function(e){return{kind:"UnparsedNode",...e}},t.isUnparsedNode=function(e){return(0,n.isNodeOfKind)("UnparsedNode",e)}},21218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(84656),t),n.__exportStar(r(32456),t)},84656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variablePlugin=t.variableModifiers=void 0;const n=r(87185),o=r(32456);t.variableModifiers={inlineRename:(e,{name:t})=>({...e,name:t}),changeVarKind:(e,{varKind:t})=>({...e,varKind:t})},t.variablePlugin=(0,n.packPlugin)()({kind:"variable",modifiers:t.variableModifiers,createBlank:e=>(0,o.createVariableNode)({astNodeId:e(),name:"new",varKind:"const"}),getNodeChildren:e=>{const t=[];return"string"!=typeof e.name&&t.push(e.name),e.initializer&&t.push(e.initializer),t},replaceChild:(e,t,r)=>{if(e.initializer&&e.initializer.astNodeId===t)return{...e,initializer:r};if("string"!=typeof e.name&&e.name.astNodeId===t)return{...e,name:r};throw new Error("unknown child")}})},32456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVariableNode=t.createVariableNode=void 0;const n=r(87185);t.createVariableNode=function(e){return{kind:"variable",varKind:"const",...e}},t.isVariableNode=function(e){return(0,n.isNodeOfKind)("variable",e)}},36136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endNode=t.isEndNode=t.isStartNode=t.startNode=t.ASTChange=void 0,t.ASTChange=function(e,t,r,n){const o={from:e,to:t,newContent:r};return n&&(o.removedIds=n),o},t.startNode=function(e,t){return{id:e,kind:"start",nodeKind:t}},t.isStartNode=function(e){return"string"!=typeof e&&"start"===e.kind},t.isEndNode=function(e){return"string"!=typeof e&&"end"===e.kind},t.endNode=function(e){return{id:e,kind:"end"}}},15089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPrefixCounter=void 0,t.createPrefixCounter=function(e,t=0){let r=t;return{nextId:()=>e+r++,currentCount:()=>r}}},84169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findNodeAndParents=t.findNode=t.replaceNode=t.cloneNode=t.visitAllNodes=t.walkProjectedNodes=void 0;const n=r(36738),o=r(87085);function d(e,t,r,n){if(e&&r(e,n)){const n=t.get(e.kind);if(n&&n.getNodeChildren){const o=n.getNodeChildren(e);for(const n of o)d(n,t,r,e)}}}function i(e,t,r){if(e.astNodeId===t)return{node:e,parents:[]};const n=r.get(e.kind);if(n&&n.getNodeChildren){const o=n.getNodeChildren(e);for(const n of o){const o=i(n,t,r);if(o)return{node:o.node,parents:o.parents.concat(e)}}}return null}t.walkProjectedNodes=d,t.visitAllNodes=function(e,t,r,n){const i=(e,r)=>d(e,t,s,r);function s(e){return r(e,n),(0,o.isCallNode)(e)&&e.args.forEach((t=>i(t,e))),(0,o.isFunctionNode)(e)&&e.body.forEach((t=>i(t,e))),(0,o.isArrayNode)(e)&&e.elements.forEach((t=>i(t,e))),!0}i(e,n)},t.cloneNode=function(e,t,r=new Map(n.commonSimpleAstParsers.map((e=>[e.nodeKind,e])))){const o=JSON.parse(JSON.stringify(e));return d(o,r,(e=>(e.astNodeId=t(),!0))),o},t.replaceNode=function(e,t,r,n){const o=i(e,t,n);if(!o)throw new Error(`Could not find node or parents of nodeId: ${t}`);let d=r,s=t;for(let e=0;e<o.parents.length;e++){const t=o.parents[e],r=n.get(t.kind);if(!r||!r.replaceChild)throw new Error(`node with kind ${t.kind} doesn't support replaceNode action`);d=r.replaceChild(t,s,d),s=d.astNodeId}return d},t.findNode=function(e,t,r){let n;return d(e,t,(e=>!r(e)||(n=e,!1))),n},t.findNodeAndParents=i},2807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(78490),t),n.__exportStar(r(62973),t)},62973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluggableNodeManipulator=void 0;const n=r(60814);t.PluggableNodeManipulator=class{constructor(){this.merger=(e,t,r)=>({changesToApply:[...t,...r],changesRevoked:[]}),this.squasher=e=>{var t,r;const n=[...e].reverse().findIndex((e=>"full"===e.kind));let o;if(-1!==n){const t=e.length-n-1;o=e[t],e=e.slice(t+1)}return o||e.find((e=>"replace"===e.kind))?o?[o,...e]:e:[...null!==(r=null===(t=this.repo)||void 0===t?void 0:t.getPlugins().values())&&void 0!==r?r:[]].filter((e=>e.squash)).reduce(((e,t)=>t.squash(e)),e)}}setNodeRepo(e){this.repo=e}reducer(e,t){if("full"===t.kind)return{value:t.value,invertingChanges:[(0,n.fullChange)(e)]};if("replace"===t.kind){const r=this.repo.findNode(e,t.oldNode.astNodeId);return{value:this.repo.replaceNode(e,t.oldNode.astNodeId,t.oldNode),invertingChanges:[{kind:"replace",oldNode:r}]}}const r=this.repo.findNode(e,t.targetId);if(!r)throw new Error("target node not found");const o=this.repo.getPlugin(r.node.kind);try{const n=o.modifiers[t.modification](r.node,t.modificationArgs,this.repo);return{value:this.repo.replaceNode(e,t.targetId,n),invertingChanges:[{kind:"replace",oldNode:r}]}}catch(t){return{value:e,invertingChanges:[]}}}}},78490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleAstResource=void 0;const n=r(60814);class o extends n.Resource{getModification(e,t,r){return{kind:"mod",nodeKind:e.kind,targetId:e.astNodeId,modification:t,modificationArgs:r}}applyModification(e,t,r){this.applyChange(this.getModification(e,t,r))}}t.SimpleAstResource=o},69521:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIdxByID=t.removeFromArr=t.replaceInArr=void 0,t.replaceInArr=(e,t,...r)=>{const n=e.findIndex((e=>e.astNodeId===t));if(-1===n)return{status:"not found",arr:e};const o=[...e];return o.splice(n,1,...r),{status:"success",arr:o}},t.removeFromArr=(e,t)=>{const r=e.findIndex((e=>e.astNodeId===t));if(-1===r)return{status:"not found",arr:e};const n=[...e];return n.splice(r,1),{status:"success",arr:n}},t.findIdxByID=function(e,t){return e.findIndex((e=>e.astNodeId===t))}},85272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5163);n.__exportStar(r(69521),t),n.__exportStar(r(50058),t)},50058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentName=t.deriveComponentNameFromPath=t.basenameWithoutExtension=void 0;const n=r(73654),o=r(91570);t.basenameWithoutExtension=e=>n.win32.basename(e,(0,o.getFullExtname)(e)),t.deriveComponentNameFromPath=e=>{let r=(0,t.basenameWithoutExtension)(e);return"index"===r&&(r=n.win32.basename(n.win32.dirname(e))),(null!==(d=r.replace(/^[^a-z]+/i,"").match(/[a-z0-9]+/gi))&&void 0!==d?d:[]).map(o.capitalizeFirstLetter).join("")||"UnnamedComponent";var d},t.getComponentName=function(e,r,n){return r&&"default"!==r?r:n&&"default"!==n?n:(0,t.deriveComponentNameFromPath)(e)}},87185:(e,t)=>{"use strict";function r(e){const t=Object.keys(e);return!!t.includes("deeplyParsed")&&!!t.includes("deeplyLiteral")}function n(e,t){return t&&t.kind===e}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticCategory=t.sASTChange=t.isNodeOfKind=t.packPlugin=t.isAddInsteadModArgs=t.isAddAfterModArgs=t.isAddBeforeModArgs=t.NodeApi=t.isDeeplyParsed=t.isComplexNode=void 0,t.isComplexNode=r,t.isDeeplyParsed=function(e){return r(e)?e.deeplyParsed:!n("unparsed",e)},t.NodeApi=class{constructor(e,t){this.node=e,this.applyModifiction=t}},t.isAddBeforeModArgs=function(e){return void 0!==e&&(!e.kind||"add-before"===e.kind)},t.isAddAfterModArgs=function(e){return void 0!==e&&(!e.kind||"add-after"===e.kind)},t.isAddInsteadModArgs=function(e){return"add-instead"===(null==e?void 0:e.kind)},t.packPlugin=function(){return({kind:e,modifiers:t,getNodeChildren:r,replaceChild:n,squash:o,createBlank:d})=>({nodeKind:e,modifiers:t,getNodeChildren:r,replaceChild:n,squash:o,createBlank:d})},t.isNodeOfKind=n,t.sASTChange=(e,t,r,n)=>({kind:"mod",nodeKind:e.nodeKind,modification:t,targetId:r,modificationArgs:n}),(o=t.DiagnosticCategory||(t.DiagnosticCategory={}))[o.Warning=0]="Warning",o[o.Error=1]="Error",o[o.Suggestion=2]="Suggestion",o[o.Message=3]="Message"}}]);