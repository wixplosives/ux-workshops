(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[3547],{60125:(e,t,s)=>{"use strict";s.r(t),s.d(t,{classes:()=>r,cssStates:()=>i,keyframes:()=>o,namespace:()=>n,st:()=>l,stVars:()=>a,style:()=>c,vars:()=>u});const n="o147",r={root:"s917",description:"s919",spinner:"s920",progressBarContainer:"s921",percentage:"s922"},o={},a={},u={},i=s.stc.bind(null,n),c=s.sts.bind(null,n),l=c},95944:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DEMO_EXTENSIONS=void 0;const n=s(5163),r=s(93849),o=n.__importDefault(s(34302)),a=n.__importDefault(s(2206)),u=n.__importDefault(s(58729));t.DEFAULT_DEMO_EXTENSIONS=[".board.tsx"];const i=a.default.api.pluggableProjectConfig.entry(t.DEFAULT_DEMO_EXTENSIONS,"demoExtensions");t.default=new r.Feature({id:"demoDiscovery",dependencies:[o.default.asEntity,a.default.asEntity,u.default.asEntity],api:{demoExtensionsConfig:i}})},7822:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(95944);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},45272:(e,t,s)=>{e.exports=s(7822)},56830:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(5163),r=s(93849),o=n.__importStar(s(2206)),a=n.__importDefault(s(58729));t.default=new r.Feature({id:"discovery",dependencies:[o.default.asEntity,a.default.asEntity],api:{extensionsConfig:r.Slot.withType().defineEntity(o.processingEnv)}})},8221:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=s(5163);var r=s(56830);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}}),n.__exportStar(s(56830),t)},34302:(e,t,s)=>{e.exports=s(8221)},22856:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENTS_TASK_ID=t.FILE_COMPONENTS_TYPE=void 0;const n=s(5163),r=s(93849),o=s(32510),a=s(5689),u=n.__importStar(s(2206)),i=n.__importDefault(s(64229)),c=n.__importDefault(s(45272)),l=n.__importDefault(s(58729)),d=n.__importDefault(s(94400)),f=n.__importDefault(s(27628)),p=n.__importDefault(s(93208)),_=n.__importDefault(s(71815)),m=n.__importDefault(s(89111));t.FILE_COMPONENTS_TYPE="fileComponents",t.COMPONENTS_TASK_ID="components-discovery";const y=(0,o.defineComputedResource)().defineEntity(u.processingEnv),g=(0,o.defineComputedResource)().defineEntity(u.processingEnv);t.default=new r.Feature({id:t.FILE_COMPONENTS_TYPE,api:{demoComponentLocationsManager:y,demoComponentLocationsManagerMain:y.defineConsumer(a.mainEnv),componentsManager:g,componentsManagerMain:g.defineConsumer(a.mainEnv),componentsMapping:new r.Config({})},dependencies:[u.default.asEntity,d.default.asEntity,c.default.asEntity,i.default.asEntity,f.default.asEntity,p.default.asEntity,_.default.asEntity,m.default.asEntity,l.default.asEntity]})},40982:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(5163),r=n.__importDefault(s(87363)),o=n.__importDefault(s(22856)),a=s(5689),u=s(2603),i=s(1206),c=s(83135),l=s(18573);o.default.setup(a.mainEnv,(({demoComponentLocationsManager:e,componentsManager:t},{gui:{overlayPanelFactory:s,panelStore:n},typescriptAssets:{assetsMain:o},project:{getProjectPath:a}})=>{const d=e.consume({}),f=t.consume({});function p(e){e&&0!==Object.keys(e).length||(0,c.openToastNotification)({panelStore:n,props:{text:l.content.toast.noComponents,type:"alert"}}),n.closePanel(u.SCAN_COMPONENTS_DIALOG_TYPE)}return s.register({id:u.SCAN_COMPONENTS_DIALOG_TYPE,factory:()=>r.default.createElement(i.ComponentDiscoveryDialogContainer,{assets:o,onProgressFinished:p,projectPath:a()})}),{demoComponentLocationsManagerMain:d,componentsManagerMain:f}}))},1206:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentDiscoveryDialogContainer=void 0;const n=s(5163).__importStar(s(87363)),r=s(72457),o=s(27941);t.ComponentDiscoveryDialogContainer=({assets:e,projectPath:t,onProgressFinished:s})=>{const a=e.get(t,e),{progress:u,results:i}=(0,o.useResource)(a,{progress:0,results:{}});return(0,n.useEffect)((()=>{1===u&&s(i)}),[u,s,i]),n.default.createElement(r.ComponentDiscoveryDialog,{progress:Math.floor(100*u)})},t.ComponentDiscoveryDialogContainer.displayName="ComponentDiscoveryDialogContainer"},72457:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentDiscoveryDialog=void 0;const n=s(5163).__importDefault(s(87363)),r=s(70268),o=s(18573),a=s(60125);t.ComponentDiscoveryDialog=({progress:e})=>n.default.createElement(r.Dialog,{className:a.classes.root,dismissButton:!1},n.default.createElement(r.DialogTitle,null,o.content.scanComponentsProgress),n.default.createElement(r.DialogContent,null,n.default.createElement("p",{className:a.classes.description},o.content.scanComponentsDescription),n.default.createElement("div",{className:a.classes.progressBarContainer},n.default.createElement(r.ProgressBar,{progress:e}),n.default.createElement("p",{className:a.classes.percentage},e,"%")))),t.ComponentDiscoveryDialog.displayName="ComponentDiscoveryDialog"},2603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCAN_COMPONENTS_DIALOG_TYPE=void 0,t.SCAN_COMPONENTS_DIALOG_TYPE="scanning-components"},18573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.content=void 0,t.content={scanComponentsDescription:"We are scanning for components in your project. Please wait...",scanComponentsProgress:"Scanning for components",toast:{noComponents:"No components were found during this scan. Add a component to your project and try again."},scanComponents:"Scan for components",rescanComponents:"Rescan components"}},83135:(e,t,s)=>{e.exports=s(77467)},71797:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=s(5163);n.__exportStar(s(12803),t);var r=s(12803);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}})},12803:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(93849),r=s(2206);t.default=new n.Feature({id:"jobManager",dependencies:[n.COM.asEntity],api:{jobRunnersSlot:n.Slot.withType().defineEntity(r.processingEnv),jobs:n.Service.withType().defineEntity(r.processingEnv).allowRemoteAccess()}})},27628:(e,t,s)=>{e.exports=s(71797)},78432:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResources=t.useResource=t.useResourceApplyChange=t.useResourceValidity=t.useResourceValue=t.useResourceState=t.useApplyChange=t.useValidity=t.useValue=t.useResourceSubscriber=t.useHoldResource=t.useResourceInstance=void 0;const n=s(87363),r=s(93849),o=s(60814),a=s(69202);function u({resource:e,defaultValue:t,enabled:s=!0}){const o=(0,a.useForceUpdate)(),u=(0,n.useRef)(!1),i=(0,a.useLatest)(s),c=(0,n.useCallback)((()=>{i.current&&!u.current&&o()}),[i,o]);return(0,n.useEffect)((()=>(e&&e.subscribe(c),(null==e?void 0:e.ready)&&e.ready.then(c).catch(r.reportError),()=>{null==e||e.unsubscribe(c)})),[c,e]),(0,n.useEffect)((()=>()=>{u.current=!0}),[]),function(e,t){return e&&e.isReady()&&e.isValid()?e.getLatest():t}(e,t)}function i({resource:e,enabled:t=!0}){const[s,r]=(0,n.useState)(),o=(0,n.useCallback)((()=>{if(t){const t=e&&e.isReady()?e.isValid():void 0;r(t)}}),[e,t]);return(0,n.useEffect)((()=>{var s;if(!e)return void(t&&r(void 0));let n=!1;const a=()=>{n||o()};return e.subscribe(a),a(),null===(s=e.ready)||void 0===s||s.then(a).catch(a),()=>{n=!0,e.unsubscribe(a)}}),[e,o,t]),s}function c(e){return(0,n.useCallback)((t=>{null==e||e.applyChange(t)}),[e])}function l(e){return!!e.ids}t.useResourceInstance=({resourceManager:e,resourceId:t,enabled:s=!0})=>{const r=(0,n.useMemo)((()=>({})),[]),o=(0,n.useRef)({resourceManager:e,resourceId:t}),a=(0,n.useMemo)((()=>{if(void 0===t)return;const{current:n}=o;return function(e,t,s){return e||t.resourceId!==s.resourceId||t.resourceManager!==s.resourceManager}(s,n,{resourceManager:e,resourceId:t})?e.get(t,r):n.resourceInstance}),[t,s,e,r]);return o.current={resourceManager:e,resourceId:t,resourceInstance:a},(0,n.useEffect)((()=>()=>null==a?void 0:a.release(r)),[a,r]),a},t.useHoldResource=e=>{(0,n.useEffect)((()=>{const t={};return e.use(t),()=>{e.release(t)}}),[e])},t.useResourceSubscriber=(e,t)=>{(0,n.useEffect)((()=>{const s=()=>t(e.getLatest());return e.subscribe(s),()=>e.unsubscribe(s)}),[t,e])},t.useValue=u,t.useValidity=i,t.useApplyChange=c,t.useResourceState=function({resource:e,enabled:t,defaultValue:s}){const r=u({resource:e,enabled:t,defaultValue:(null==e?void 0:e.getLatest())||s}),a=c(e),i=(0,n.useCallback)((e=>a((0,o.fullChange)(e))),[a]);return[r,i,e]},t.useResourceValue=function({resourceManager:e,resourceId:s,defaultValue:n,enabled:r=!0}){return u({resource:(0,t.useResourceInstance)({resourceManager:e,resourceId:s,enabled:r}),defaultValue:n,enabled:r})},t.useResourceValidity=function({resourceManager:e,resourceId:s,enabled:n=!0}){return i({resource:(0,t.useResourceInstance)({resourceManager:e,resourceId:s,enabled:n}),enabled:n})},t.useResourceApplyChange=function({resourceManager:e,resourceId:s}){return c((0,t.useResourceInstance)({resourceManager:e,resourceId:s}))},t.useResource=function(e,t){const[s,r]=(0,n.useState)(t);return(0,n.useEffect)((()=>{var s;let n=!1;if(!e)return;const o=()=>{n||(e.isReady()&&e.isValid()?r(e.getLatest()):r(t))};return e.subscribe(o),o(),null===(s=e.ready)||void 0===s||s.then(o).catch(o),()=>{n=!0,e.unsubscribe(o)}}),[e,t]),e&&e.isReady()?e.getLatest():s};const d=new WeakMap,f=e=>{const t=d.get(e);if(t)for(const s of Object.keys(t))for(const n of Object.keys(t[s]))t[s][n].resource.isReady()&&t[s][n].resource.release(e)},p=(e,t,s,n,r)=>{const o=t.getType();t.isReady()||r.push(t.ready),e[o]||(e[o]={}),e[o][t.getSerializedId()]={resource:t,field:s,isInnerRecord:n}},_={valid:!1,message:"Loading"},m=(e,t)=>{for(const s of Object.keys(e))if(t[s])for(const n of t[s])if(e[s][n])return!0;return!1};t.useResources=function(e,t=!0){const s=(e=>JSON.stringify(e,((e,t)=>t instanceof o.ResourceManager?t.getTypeName():t)))(e),[a]=(0,n.useState)({cleanupRequested:!1,enabled:t,hasChanges:!1,used:new Set});a.enabled=t;const[u,i]=(0,n.useState)(0),c=Object.keys(e),y=c.length?e[c[0]].resourceManager.getBatcher():void 0,g=d.get(a)||{},E=(0,n.useCallback)((e=>{if(!a.enabled)return;const t=m(g,e.changed),s=m(g,e.changedStatus);(t||s)&&i(Math.random())}),[g,a]);return d.has(a)||(d.set(a,g),y.subscribe(E)),(0,n.useMemo)((()=>{const t=[];a.enabled&&(y.batchAll((()=>{const s=new Set;for(const[n,r]of Object.entries(e))if(l(r))for(const e of r.ids){const o=r.resourceManager.get(e,a);s.add(o),p(g,o,n,!0,t)}else if(r.id){const e=r.resourceManager.get(r.id,a);s.add(e),p(g,e,n,!0,t)}for(const e of Object.values(g))for(const[t,n]of Object.entries(e))s.has(n.resource)||(n.resource.isReady()?(n.resource.release(a),delete e[t]):n.resource.ready.then((()=>{a.used.has(n.resource)||(n.resource.release(a),delete e[t])})).catch(r.reportError));a.used=s})),t.length&&a.enabled&&Promise.all(t).then((e=>{a.cleanupRequested?f(a):i(Math.random())})).catch((e=>{throw e})))}),[s,a,y,g]),(0,n.useEffect)((()=>()=>{f(a),y.unsubscribe(E),a.cleanupRequested=!0}),[a]),(0,n.useMemo)((()=>{return Object.keys(e).reduce(((s,n)=>{const r=e[n];if(l(r))s[n]={getResource:e=>t(n,e),getValue(e){const s=t(n,e);return s&&s.isValid()?s.getLatest():r.defaultValue},getStatus(e){const s=t(n,e);return s&&s.isReady()?s.getStatus():_}};else{const e=t(n,r.id);s[n]={value:e&&e.isValid()?e.getLatest():r.defaultValue,status:e?e.getStatus():_,resource:e}}return s}),{});function t(t,s){const n=e[t],r=l(n)?s:n.id;if(!r||!g[n.resourceManager.getTypeName()])return;const a=g[n.resourceManager.getTypeName()][(0,o.serializeId)(r)];return a&&a.resource&&a.resource.isReady()?a.resource:void 0}}),[u,t,s])}},40386:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(5163);n.__exportStar(s(78432),t),n.__exportStar(s(23496),t)},23496:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJSONResource=void 0;const n=s(60814);t.createJSONResource=function(e){return new n.JSONResource("data",{provider:{provide:()=>({value:e})},resourceType:"state-resource",batcher:new n.Batcher})}},27941:(e,t,s)=>{e.exports=s(40386)},48541:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=s(5163);n.__exportStar(s(17831),t);var r=s(17831);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}})},94400:(e,t,s)=>{e.exports=s(48541)},75811:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=s(5163);var r=s(63824);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}}),n.__exportStar(s(63824),t)},63824:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SIM_EXTENSIONS=void 0;const n=s(5163),r=s(93849),o=n.__importDefault(s(34302)),a=n.__importDefault(s(2206)),u=n.__importDefault(s(58729));t.DEFAULT_SIM_EXTENSIONS=[".sim.ts",".sim.tsx"];const i=a.default.api.pluggableProjectConfig.entry(t.DEFAULT_SIM_EXTENSIONS,"simulationExtensions");t.default=new r.Feature({id:"simulationDiscovery",dependencies:[o.default.asEntity,a.default.asEntity,u.default.asEntity],api:{simulationExtensionsConfig:i}})},64229:(e,t,s)=>{e.exports=s(75811)},94998:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=s(5163);var r=s(30600);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}}),n.__exportStar(s(30600),t)},30600:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ANALYZE_FILES_MARK=void 0;const n=s(5163),r=s(93849),o=n.__importDefault(s(89111)),a=n.__importStar(s(2206)),u=n.__importDefault(s(58729)),i=n.__importStar(s(32510)),c=n.__importDefault(s(93104)),l=n.__importDefault(s(32562)),d=s(5689),f=a.default.api.pluggableProjectConfig.entry({},"componentsDiscovery"),p=r.Config.withType().defineEntity({maxWorkTime:130,minSleepTime:50,changeBufferTime:2e3,splitPerFiles:100});t.ANALYZE_FILES_MARK="ANALYZE_FILES_MARK";const _=(0,i.defineIncrementalComputedResource)().defineEntity(a.processingEnv),m=(0,i.defineOneWayResource)().defineEntity(a.processingEnv);t.default=new r.Feature({id:"typescriptAssets",dependencies:[o.default.asEntity,a.default.asEntity,i.default.asEntity,u.default.asEntity,c.default.asEntity,l.default.asEntity],api:{assetsReevaluateService:r.Service.withType().defineEntity(a.processingEnv).allowRemoteAccess(),assetTaggerSlots:r.Slot.withType().defineEntity(a.processingEnv),assets:_,assetsMain:_.defineConsumer(d.mainEnv),openAssets:m,openAssetsMain:m.defineConsumer(d.mainEnv),componentsDiscoveryConfig:f,assetDiscoveryConfig:p}})},71815:(e,t,s)=>{e.exports=s(94998)},32562:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(5163),r=s(93849),o=n.__importDefault(s(2206)),a=n.__importDefault(s(25447)),u=n.__importDefault(s(93104)),i=n.__importDefault(s(17166));t.default=new r.Feature({id:"typescriptCompiler",dependencies:[o.default.asEntity,a.default.asEntity,u.default.asEntity,i.default.asEntity],api:{}})}}]);