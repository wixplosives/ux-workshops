(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[9264],{89272:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o151",n={root:"s937",iconsContainer:"s769",tab:"s767",icon:"s768",title:"s938"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},9871:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o314",n={root:"s1455"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},24606:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o411",n={root:"s1454",content:"s1736",illustration:"s1737",title:"s1738",description:"s1739",actionButtons:"s1740",createSimulation:"s1741"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},18299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o92",n={root:"s464",errorMessage:"s467",fieldset:"s465",fieldsetTitle:"s466",radio:"s687",radioLabel:"s688",simulationSelect:"s696",dropPanel:"s689",formField:"s690",formFieldLabel:"s691",formFieldLabelTop:"s692",formFieldValue:"s693",formFieldError:"s469",textField:"s468",input:"s694",simNameInput:"s697",fileNameInput:"s698",fileNameExt:"s470",absolutePath:"s471",projectRoot:"s472",newSimulationPopup:"s695"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},68680:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o152",n={root:"s770",topRow:"s939",title:"s940",header:"s772",scrollView:"s941",closeIcon:"s771"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},29380:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o111",n={root:"s773"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},65145:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o123",n={root:"s764",headerContent:"s838",tabs:"s766",section:"s765"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},22560:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o204",n={root:"s1142"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},68222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o226",n={root:"s1140",thumb:"s1227",footer:"s1141",title:"s1225",menuButtonWrap:"s1228",menuButton:"s1226"},o={},r={borderWidth:"1"},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},33215:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o153",n={root:"s942",simulationSelect:"s943",simSelectHeader:"s944",simSelectHeaderTextContainer:"s945",simSelectHeaderText:"s946",simSelectHeaderIcon:"s947",dropPanel:"s948",simulationText:"s949",modifiedIcon:"s951",componentIcon:"s952",itemView:"s953"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},49389:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o324",n={root:"s1472"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},58487:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o414",n={root:"s1469",iframeContainer:"s1745",iframe:"s1746",loading:"s1470",spinner:"s1747",error:"s1471",errorIcon:"s1748",errorTitle:"s1749",errorTooltip:"s1750"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},68118:(e,t,a)=>{"use strict";a.r(t),a.d(t,{classes:()=>n,cssStates:()=>l,keyframes:()=>o,namespace:()=>s,st:()=>u,stVars:()=>r,style:()=>c,vars:()=>i});const s="o352",n={root:"s1542"},o={},r={},i={},l=a.stc.bind(null,s),c=a.sts.bind(null,s),u=c},4003:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(5163).__exportStar(a(35202),t)},35202:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEngineFrame=void 0;const s=a(5163),n=a(93849),o=s.__importStar(a(87363)),r=a(91570),i=a(9029),l=["config","feature"];t.useEngineFrame=(e,t,a=!0)=>{const{COM:{communication:s}}=(0,i.useMainContext)(),r=(0,o.useMemo)((()=>{const a=new URLSearchParams(window.location.search),n=l.reduce(((e,t)=>{const s=a.get(t);return s&&(e[t]=s),e}),{}),o=new URLSearchParams({...n,...t,publicPath:s.getPublicPath()});return`${s.getPublicPath()}${e.env}.html?${o.toString()}`}),[t,e.env,s]),u=(0,o.useRef)(null),[d,m]=(0,o.useReducer)((e=>e+1),0),{id:p,initialize:f}=(0,o.useMemo)((()=>(0,n.deferredIframeInitializer)({communication:s,env:e})),[s,e,r,d]),S=(0,o.useCallback)((e=>a?o.default.createElement(c,{...e,id:p,iframeRef:u,initialize:f,reloadPreview:m,url:r,communication:s}):null),[p,f,a,m,r,s]);return{id:p,renderFrame:S,iframeRef:u,reloadPreview:m}};const c=({id:e,onFrameReady:t,reloadPreview:a,onScroll:s,className:l,style:c,initialize:u,iframeRef:d,url:m,communication:p})=>{const{gui:{globalWindowEventEmitter:f},shortcuts:{shortcutService:S},Resources:{syncer:v}}=(0,i.useMainContext)(),h=(0,o.useRef)(!1),b=(0,o.useCallback)((async a=>{if(a.contentWindow&&(f.register(e,a.contentWindow),S.subscribe(e,a.contentWindow)),await u({iframeElement:a,managed:!0,src:m}),!h.current)return t&&t(a)}),[f,e,u,t,S,m]);return(0,o.useEffect)((()=>{const{current:t}=d;if(h.current=!1,t){const a=b(t).catch(n.reportError);return()=>{h.current=!0,t&&(f.unregister(e),S.unsubscribe(e),v.disconnectSyncer(e),p.clearEnvironment(e),a.then((e=>{e&&e()})).catch(n.reportError))}}return r.noop}),[f,e,d,b,S,v,p]),(0,o.useEffect)((()=>{const{current:e}=d;if(!e)return;const t=()=>{"about:blank"===e.contentWindow.location.href&&a()};return e.addEventListener("load",t),()=>e.removeEventListener("load",t)}),[d,a]),(0,o.useEffect)((()=>{const{current:e}=d;return e&&e.contentDocument&&s&&e.contentDocument.addEventListener("scroll",s,!1),()=>{e&&e.contentDocument&&s&&e.contentDocument.removeEventListener("scroll",s,!1)}}),[d,s]),o.default.createElement("iframe",{className:l,ref:d,style:c})}},2502:(e,t,a)=>{e.exports=a(4003)},859:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentPanelId=void 0,t.getComponentPanelId=(e,t)=>`${e}#${t}`},99979:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(859),t),s.__exportStar(a(367),t)},83135:(e,t,a)=>{e.exports=a(77467)},78432:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResources=t.useResource=t.useResourceApplyChange=t.useResourceValidity=t.useResourceValue=t.useResourceState=t.useApplyChange=t.useValidity=t.useValue=t.useResourceSubscriber=t.useHoldResource=t.useResourceInstance=void 0;const s=a(87363),n=a(93849),o=a(60814),r=a(69202);function i({resource:e,defaultValue:t,enabled:a=!0}){const o=(0,r.useForceUpdate)(),i=(0,s.useRef)(!1),l=(0,r.useLatest)(a),c=(0,s.useCallback)((()=>{l.current&&!i.current&&o()}),[l,o]);return(0,s.useEffect)((()=>(e&&e.subscribe(c),(null==e?void 0:e.ready)&&e.ready.then(c).catch(n.reportError),()=>{null==e||e.unsubscribe(c)})),[c,e]),(0,s.useEffect)((()=>()=>{i.current=!0}),[]),function(e,t){return e&&e.isReady()&&e.isValid()?e.getLatest():t}(e,t)}function l({resource:e,enabled:t=!0}){const[a,n]=(0,s.useState)(),o=(0,s.useCallback)((()=>{if(t){const t=e&&e.isReady()?e.isValid():void 0;n(t)}}),[e,t]);return(0,s.useEffect)((()=>{var a;if(!e)return void(t&&n(void 0));let s=!1;const r=()=>{s||o()};return e.subscribe(r),r(),null===(a=e.ready)||void 0===a||a.then(r).catch(r),()=>{s=!0,e.unsubscribe(r)}}),[e,o,t]),a}function c(e){return(0,s.useCallback)((t=>{null==e||e.applyChange(t)}),[e])}function u(e){return!!e.ids}t.useResourceInstance=({resourceManager:e,resourceId:t,enabled:a=!0})=>{const n=(0,s.useMemo)((()=>({})),[]),o=(0,s.useRef)({resourceManager:e,resourceId:t}),r=(0,s.useMemo)((()=>{if(void 0===t)return;const{current:s}=o;return function(e,t,a){return e||t.resourceId!==a.resourceId||t.resourceManager!==a.resourceManager}(a,s,{resourceManager:e,resourceId:t})?e.get(t,n):s.resourceInstance}),[t,a,e,n]);return o.current={resourceManager:e,resourceId:t,resourceInstance:r},(0,s.useEffect)((()=>()=>null==r?void 0:r.release(n)),[r,n]),r},t.useHoldResource=e=>{(0,s.useEffect)((()=>{const t={};return e.use(t),()=>{e.release(t)}}),[e])},t.useResourceSubscriber=(e,t)=>{(0,s.useEffect)((()=>{const a=()=>t(e.getLatest());return e.subscribe(a),()=>e.unsubscribe(a)}),[t,e])},t.useValue=i,t.useValidity=l,t.useApplyChange=c,t.useResourceState=function({resource:e,enabled:t,defaultValue:a}){const n=i({resource:e,enabled:t,defaultValue:(null==e?void 0:e.getLatest())||a}),r=c(e),l=(0,s.useCallback)((e=>r((0,o.fullChange)(e))),[r]);return[n,l,e]},t.useResourceValue=function({resourceManager:e,resourceId:a,defaultValue:s,enabled:n=!0}){return i({resource:(0,t.useResourceInstance)({resourceManager:e,resourceId:a,enabled:n}),defaultValue:s,enabled:n})},t.useResourceValidity=function({resourceManager:e,resourceId:a,enabled:s=!0}){return l({resource:(0,t.useResourceInstance)({resourceManager:e,resourceId:a,enabled:s}),enabled:s})},t.useResourceApplyChange=function({resourceManager:e,resourceId:a}){return c((0,t.useResourceInstance)({resourceManager:e,resourceId:a}))},t.useResource=function(e,t){const[a,n]=(0,s.useState)(t);return(0,s.useEffect)((()=>{var a;let s=!1;if(!e)return;const o=()=>{s||(e.isReady()&&e.isValid()?n(e.getLatest()):n(t))};return e.subscribe(o),o(),null===(a=e.ready)||void 0===a||a.then(o).catch(o),()=>{s=!0,e.unsubscribe(o)}}),[e,t]),e&&e.isReady()?e.getLatest():a};const d=new WeakMap,m=e=>{const t=d.get(e);if(t)for(const a of Object.keys(t))for(const s of Object.keys(t[a]))t[a][s].resource.isReady()&&t[a][s].resource.release(e)},p=(e,t,a,s,n)=>{const o=t.getType();t.isReady()||n.push(t.ready),e[o]||(e[o]={}),e[o][t.getSerializedId()]={resource:t,field:a,isInnerRecord:s}},f={valid:!1,message:"Loading"},S=(e,t)=>{for(const a of Object.keys(e))if(t[a])for(const s of t[a])if(e[a][s])return!0;return!1};t.useResources=function(e,t=!0){const a=(e=>JSON.stringify(e,((e,t)=>t instanceof o.ResourceManager?t.getTypeName():t)))(e),[r]=(0,s.useState)({cleanupRequested:!1,enabled:t,hasChanges:!1,used:new Set});r.enabled=t;const[i,l]=(0,s.useState)(0),c=Object.keys(e),v=c.length?e[c[0]].resourceManager.getBatcher():void 0,h=d.get(r)||{},b=(0,s.useCallback)((e=>{if(!r.enabled)return;const t=S(h,e.changed),a=S(h,e.changedStatus);(t||a)&&l(Math.random())}),[h,r]);return d.has(r)||(d.set(r,h),v.subscribe(b)),(0,s.useMemo)((()=>{const t=[];r.enabled&&(v.batchAll((()=>{const a=new Set;for(const[s,n]of Object.entries(e))if(u(n))for(const e of n.ids){const o=n.resourceManager.get(e,r);a.add(o),p(h,o,s,!0,t)}else if(n.id){const e=n.resourceManager.get(n.id,r);a.add(e),p(h,e,s,!0,t)}for(const e of Object.values(h))for(const[t,s]of Object.entries(e))a.has(s.resource)||(s.resource.isReady()?(s.resource.release(r),delete e[t]):s.resource.ready.then((()=>{r.used.has(s.resource)||(s.resource.release(r),delete e[t])})).catch(n.reportError));r.used=a})),t.length&&r.enabled&&Promise.all(t).then((e=>{r.cleanupRequested?m(r):l(Math.random())})).catch((e=>{throw e})))}),[a,r,v,h]),(0,s.useEffect)((()=>()=>{m(r),v.unsubscribe(b),r.cleanupRequested=!0}),[r]),(0,s.useMemo)((()=>{return Object.keys(e).reduce(((a,s)=>{const n=e[s];if(u(n))a[s]={getResource:e=>t(s,e),getValue(e){const a=t(s,e);return a&&a.isValid()?a.getLatest():n.defaultValue},getStatus(e){const a=t(s,e);return a&&a.isReady()?a.getStatus():f}};else{const e=t(s,n.id);a[s]={value:e&&e.isValid()?e.getLatest():n.defaultValue,status:e?e.getStatus():f,resource:e}}return a}),{});function t(t,a){const s=e[t],n=u(s)?a:s.id;if(!n||!h[s.resourceManager.getTypeName()])return;const r=h[s.resourceManager.getTypeName()][(0,o.serializeId)(n)];return r&&r.resource&&r.resource.isReady()?r.resource:void 0}}),[i,t,a])}},40386:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(78432),t),s.__exportStar(a(23496),t)},23496:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJSONResource=void 0;const s=a(60814);t.createJSONResource=function(e){return new s.JSONResource("data",{provider:{provide:()=>({value:e})},resourceType:"state-resource",batcher:new s.Batcher})}},27941:(e,t,a)=>{e.exports=a(40386)},89746:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconTabs=void 0;const s=a(5163).__importStar(a(87363)),n=a(89272),o=a(70268);t.IconTabs=(0,s.memo)((({items:e,selectedIndex:t,onChange:a,className:r,dir:i,expandable:l=!1,showSelected:c=!1,showTooltip:u=!1})=>s.default.createElement("div",{className:(0,n.style)(n.classes.root,{dir:i,expandable:l},r)},s.default.createElement("div",{className:n.classes.iconsContainer},e.map(((e,r)=>{const i=e.icon,d=r===t&&c;return s.default.createElement("div",{className:(0,n.style)(n.classes.tab,{selected:d}),onClick:()=>a(r),"data-id":e.id,key:r},l&&s.default.createElement(o.EllipsisWithTooltip,{className:(0,n.style)(n.classes.title)},s.default.createElement("span",null,e.title)),s.default.createElement(o.Tooltip,{disabled:!u,content:e.title,enterDelay:500},s.default.createElement(i,{className:(0,n.style)(n.classes.icon,{selected:d})})))})))))),t.IconTabs.displayName="IconTabs"},55473:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoSimulationsFallback=void 0;const s=a(5163).__importDefault(a(87363)),n=a(24606),o=a(15701),r=a(69202),i=a(70268),l=a(63372);a(9871),t.NoSimulationsFallback=({className:e,componentName:t,onNewSimulation:a})=>s.default.createElement("div",{className:(0,n.style)(n.classes.root,e)},s.default.createElement("div",{className:n.classes.content},s.default.createElement("div",{className:n.classes.illustration},s.default.createElement(r.EmptyStateIllustration,null)),s.default.createElement("div",{className:n.classes.title},o.content.fallbacks.noBoards.title(t)),s.default.createElement("div",{className:n.classes.description},o.content.fallbacks.noBoards.description),s.default.createElement("div",{className:n.classes.actionButtons},s.default.createElement(i.Button,{className:n.classes.createSimulation+" "+l.classes.primaryButton,onClick:a},o.content.boardActions.createBoard))))},92314:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteSimulationView=t.DELETE_SIMULATION_ID=void 0;const s=a(5163).__importStar(a(87363)),n=a(93849),o=a(70268),r=a(63372),i=a(83814),l=a(15701),c=a(83135),u=a(6492),d=a(98066);t.DELETE_SIMULATION_ID="delete-simulation-dialog",t.DeleteSimulationView=(0,s.memo)((({handleOnClose:e,closeTab:a,simulationService:m,componentRef:p,activeSimulationName:f,redirectToNextAfterDelete:S})=>{const{track:v}=(0,s.useContext)(c.AnalyticsContext),h=(0,s.useCallback)((()=>{e(t.DELETE_SIMULATION_ID)}),[e]),b=(0,s.useCallback)((()=>{v("cancel delete simulation"),h()}),[h,v]),E=(0,s.useCallback)((async()=>{v("submit delete simulation");const e=await m.getSimulationId(p,f);if(e){const t=S?await m.getNextSimulationFilePath(p,f):void 0;if(await m.deleteSimulations([e]),S){const{filePath:e,exportName:s}=(0,d.getComponentRefObject)(p);void 0===t?a(p):(0,u.navigateToSimulationEditor)({componentFilePath:e,componentExportName:s,simulationFilePath:t})}}else(0,n.reportError)(new Error(`Could not find id for simulation: ${f}`));h()}),[m,p,f,h,v,S,a]);return s.default.createElement(o.Dialog,{className:i.classes.confirmationDialog,onClose:h},s.default.createElement(o.DialogTitle,null,l.content.popups.deleteBoard.title),s.default.createElement(o.DialogContent,null,l.content.popups.deleteBoard.content(f)),s.default.createElement(o.DialogActions,null,s.default.createElement(o.Button,{type:"button",onClick:b},"Cancel"),s.default.createElement(o.Button,{className:r.classes.alertButton,type:"submit",onClick:E},"Delete")))})),t.DeleteSimulationView.displayName="DeleteSimulationView"},72303:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSimPath=t.validateSimName=t.generateNewSimName=t.getSimPath=t.getSimName=t.getSuggestedSimDir=t.getSuggestedSimName=void 0;const s=a(73654),n=a(91570),o=a(9240),r=a(98066),i=a(15701);function l(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()}function c(e=[],t){let a=t;for(;e.some((e=>l(e,a)));){const[,e,t]=a.match(/(.*?)(\d*$)/);a=e+(t?Number(t)+1:" 1")}return a}t.getSuggestedSimName=function({componentName:e="New Simulation",simulation:t,existingSimNames:a=[]}){return c(a,(null==t?void 0:t.name)||e)},t.getSuggestedSimDir=function(e,t,a,i){const{relative:l,dirname:c,join:u}=(0,n.isWindowsStyleAbsolutePath)(t)?s.win32:s.posix;return e&&i&&e.id.filePath.includes(i)?c(l(i,e.id.filePath)):u(r.directoryForSimulations,(0,o.getComponentName)(t,a))},t.getSimName=function(e){return e.name},t.getSimPath=function(e){return e.id.filePath},t.generateNewSimName=c,t.validateSimName=function(e,t){return e.trim()?/[^a-zA-Z0-9\s()\-_.,']/.test(e)?i.content.errors.invalidCharacters("Simulation name"):t.some((t=>l(t,e)))?"Simulation with this name already exists":"":"Simulation name cannot be empty"},t.validateSimPath=async function(e,t,a){return t?/[^a-zA-Z0-9\s()\-_.,'\\/]/.test(t)?i.content.errors.invalidCharacters("Simulation path"):t.includes("..")?i.content.errors.boardPathIsRelative:/^[\\/]?node_modules[\\/]/i.test(t)?i.content.errors.boardPathInNodeModules:t.endsWith("/")?i.content.errors.boardPathHasNoName:await e.entityExists(a)?i.content.errors.fileNameAlreadyExists:"":i.content.errors.emptyBoardPath}},84653:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(92314),t),s.__exportStar(a(58991),t),s.__exportStar(a(54005),t),s.__exportStar(a(94740),t),s.__exportStar(a(43886),t)},58991:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewSimulationView=t.DUPLICATE_SIMULATION_ID=t.NEW_SIMULATION_POPUP_ID=void 0;const s=a(5163).__importStar(a(87363)),n=a(73654),o=a(69202),r=a(93849),i=a(70268),l=a(63372),c=a(98066),u=a(69462),d=a(15701),m=a(6492),p=a(72303),f=a(43886),S=a(18299),v=a(83135),h=a(27941),b=a(91570);t.NEW_SIMULATION_POPUP_ID="new-simulation-popup",t.DUPLICATE_SIMULATION_ID="duplicate-simulation-popup",t.NewSimulationView=(0,s.memo)((({handleOnClose:e,simulationService:a,componentRef:E,activeSimulationName:g,simList:N,timeout:_=1/0,duplicate:y=!1,getPackagePath:I,projectService:w,onSuccess:C,componentManager:P})=>{var M;const R=(0,h.useResourceValue)({resourceManager:P,resourceId:(0,s.useMemo)((()=>(0,c.getComponentRefObject)(E)),[E])}),{track:O}=(0,s.useContext)(v.AnalyticsContext),[T,A]=(0,s.useState)(!1),[D,x]=(0,s.useState)(),L=N.find((e=>e.name===g))||null,[B,V]=(0,s.useState)(L),{filePath:k,exportName:F}=(0,s.useMemo)((()=>(0,c.getComponentRefObject)(E)),[E]),W=(0,o.useAsync)((()=>I(k)),""),[j,U]=(0,s.useState)(null),[H,z]=(0,s.useState)(null),Y=N.map(p.getSimName),K=null!=j?j:(0,p.getSuggestedSimName)({componentName:null!==(M=null==R?void 0:R.name)&&void 0!==M?M:F,simulation:B,existingSimNames:Y}),$=(0,s.useMemo)((()=>(0,p.getSuggestedSimDir)(B,k,F,W)),[B,k,F,W]),{join:Z,dirname:G}=(0,b.isWindowsStyleAbsolutePath)(k)?n.win32:n.posix,Q=null!=H?H:Z($,(0,c.deriveSimFileNameFromSimName)(K)),q=Z(W,Q)+c.boardExtension,J=(0,p.validateSimName)(K,Y),X=(0,o.useAsync)((()=>(0,p.validateSimPath)(w,Q,q)),"",[w,Q,q]),ee=Boolean(J||X),te=!y&&N.length>0,ae=(0,s.useCallback)((()=>e(t.NEW_SIMULATION_POPUP_ID)),[e]),se=(0,s.useCallback)((()=>{O("canceled create new simulation popup"),ae()}),[ae,O]),ne=(0,s.useCallback)((e=>{if(O("changed name in create new simulation popup"),U(e),H){const t=G(H);z(Z(t,(0,c.deriveSimFileNameFromSimName)(e)))}}),[H,U,z,O,Z,G]),oe=(0,s.useCallback)((async e=>{if(O("submit new simulation"),e.preventDefault(),W&&!ee){A(!0),x(void 0);try{await Promise.race([(0,u.sleep)(_),B?a.copySimulation(B.id,q,K):a.createSimulation(E,q,K)]),ae(),C?C(q):(0,m.navigateToSimulationEditor)({componentFilePath:k,componentExportName:F,simulationFilePath:q})}catch(e){(0,r.reportError)(e),A(!1),x((null==e?void 0:e.message)||d.content.popups.unexpectedError)}}}),[O,W,ee,_,B,a,q,K,E,ae,C,k,F]);return s.default.createElement(i.Dialog,{containerClassName:(0,S.style)(S.classes.root,S.classes.newSimulationPopup),onClose:ae,dataId:y?t.DUPLICATE_SIMULATION_ID:t.NEW_SIMULATION_POPUP_ID},s.default.createElement("form",{onSubmit:oe},s.default.createElement(i.DialogTitle,null,y?d.content.popups.duplicate:d.content.popups.createBoard),s.default.createElement(i.DialogContent,null,te&&s.default.createElement("div",{className:S.classes.fieldset},s.default.createElement("div",{className:S.classes.fieldsetTitle},"Start from"),s.default.createElement(f.SelectSimOrBlank,{simList:N,defaultValue:B,onChange:V})),s.default.createElement("div",{className:S.classes.fieldset},te&&s.default.createElement("div",{className:S.classes.fieldsetTitle},"Details"),s.default.createElement(f.SimNameInput,{value:K,error:J,onChange:ne}),s.default.createElement(f.SimRelativePathInput,{value:Q,error:X,onChange:z}),s.default.createElement(f.SimAbsolutePath,{value:Q,packagePath:W,join:Z})),D&&s.default.createElement("div",{className:S.classes.errorMessage},D)),s.default.createElement(i.DialogActions,null,s.default.createElement(i.Button,{type:"button",onClick:se},"Cancel"),s.default.createElement(i.Button,{type:"submit",className:l.classes.primaryButton,disabled:!W||ee,pending:T},s.default.createElement(i.SpinnerOverlay,{showSpinner:T},y?"Save":"Create")))))})),t.NewSimulationView.displayName="NewSimulationView"},54005:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameSimulationView=t.RENAME_SIMULATION_ID=void 0;const s=a(5163).__importStar(a(87363)),n=a(93849),o=a(70268),r=a(63372),i=a(83135),l=a(43886),c=a(72303),u=a(18299),d=a(15701);t.RENAME_SIMULATION_ID="rename-simulation-popup",t.RenameSimulationView=s.default.memo((({handleOnClose:e,simulationService:a,componentRef:m,activeSimulationName:p,simList:f})=>{const{track:S}=(0,s.useContext)(i.AnalyticsContext),[v,h]=(0,s.useState)(!1),[b,E]=(0,s.useState)(),[g,N]=(0,s.useState)(p),_=g.trim(),y=f.map((e=>e.name)).filter((e=>e!==p)),I=(0,c.validateSimName)(_,y),w=(0,s.useCallback)((()=>e(t.RENAME_SIMULATION_ID)),[e]),C=(0,s.useCallback)((()=>{w(),S("cancel rename simulation")}),[w,S]),P=(0,s.useCallback)((async e=>{if(e.preventDefault(),!I)if(_!==p){h(!0),E(void 0);try{await a.renameSimulation(m,p,_),w()}catch(e){(0,n.reportError)(e),h(!1),E(d.content.popups.unexpectedError)}S("submit rename simulation")}else w()}),[I,_,p,S,w,a,m]);return s.default.createElement(o.Dialog,{containerClassName:u.classes.root,onClose:w},s.default.createElement("form",{onSubmit:P},s.default.createElement(o.DialogTitle,null,d.content.popups.renameBoard.title),s.default.createElement(o.DialogContent,null,s.default.createElement("div",{className:u.classes.fieldset},s.default.createElement(l.SimNameInput,{value:g,error:I,onChange:N})),b&&s.default.createElement("div",{className:u.classes.errorMessage},b)),s.default.createElement(o.DialogActions,null,s.default.createElement(o.Button,{type:"button",onClick:C},"Cancel"),s.default.createElement(o.Button,{type:"submit",className:r.classes.primaryButton,disabled:!!I,pending:v,onClick:P},s.default.createElement(o.SpinnerOverlay,{showSpinner:v},"Rename")))))})),t.RenameSimulationView.displayName="RenameSimulationView"},94740:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RevertPropsView=t.REVERT_PROPS_ID=void 0;const s=a(5163).__importStar(a(87363)),n=a(70268),o=a(63372),r=a(83814),i=a(15701);t.REVERT_PROPS_ID="revert-simulation-props-dialog",t.RevertPropsView=s.default.memo((({handleOnClose:e,onRevert:a})=>{const l=(0,s.useCallback)((()=>{e(t.REVERT_PROPS_ID)}),[e]),c=s.default.useCallback((async()=>{await a().then(l)}),[l,a]);return s.default.createElement(n.Dialog,{className:r.classes.confirmationDialog,onClose:l},s.default.createElement(n.DialogTitle,null,i.content.popups.revertProps.title),s.default.createElement(n.DialogContent,null,i.content.popups.revertProps.content),s.default.createElement(n.DialogActions,null,s.default.createElement(n.Button,{type:"button",onClick:l},"Cancel"),s.default.createElement(n.Button,{className:o.classes.alertButton,type:"submit",onClick:c},"Revert")))})),t.RevertPropsView.displayName="RevertPropsView"},43886:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimAbsolutePath=t.SimRelativePathInput=t.SimNameInput=t.SelectSimOrBlank=void 0;const s=a(5163),n=a(98066),o=s.__importStar(a(87363)),r=a(94831),i=a(72303),l=a(18299),c=a(83135),u=a(15701),d=e=>{const t=(0,o.useRef)();return(0,o.useEffect)((()=>{t.current&&(t.current.focus(),t.current.select())}),[]),o.default.cloneElement(e.children,{ref:t})};t.SelectSimOrBlank=({defaultValue:e,simList:t,onChange:a,disabled:s=!1})=>{const{track:n}=(0,o.useContext)(c.AnalyticsContext),[d,m]=(0,o.useState)(!e),[p,f]=(0,o.useState)(e||t[0]);return(0,o.useEffect)((()=>{m(!e),f(e||t[0])}),[e,t]),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:l.classes.formField},o.default.createElement("div",{className:l.classes.formFieldLabel},o.default.createElement("input",{type:"radio",id:"blank","data-id":"new-simulation-blank",name:"sim-or-blank",checked:d,disabled:s,onChange:()=>{n("clicked blank in create new simulation popup"),m(!0),a(null)},className:l.classes.radio}),o.default.createElement("label",{htmlFor:"blank",className:(0,l.style)(l.classes.radioLabel,{disabled:s})},"Blank"))),o.default.createElement("div",{className:l.classes.formField},o.default.createElement("div",{className:l.classes.formFieldLabel},o.default.createElement("input",{type:"radio",id:"copy","data-id":"new-simulation-copy",name:"sim-or-blank",checked:!d,disabled:s,onChange:()=>{n("clicked copy in create new simulation popup"),m(!1),a(p)},className:l.classes.radio}),o.default.createElement("label",{htmlFor:"copy",className:(0,l.style)(l.classes.radioLabel,{disabled:s})},u.content.popups.title)),o.default.createElement("div",{className:l.classes.formFieldValue},o.default.createElement(r.SimulationSelect,{className:l.classes.simulationSelect,dropPanelClassName:l.classes.dropPanel,items:t,onSelect:e=>{m(!1),f(e),a(e)},currentSimulationName:(0,i.getSimName)(p),isCurrentSimModified:!1,hideComponentIcon:!0,hideModifiedIcon:!0,disabled:s}))))},t.SimNameInput=(0,o.memo)((e=>{const[t,a]=(0,o.useState)(!1);return o.default.createElement("div",{className:l.classes.formField},o.default.createElement("label",{htmlFor:"name",className:l.classes.formFieldLabel},"Name"),o.default.createElement("div",{className:l.classes.formFieldValue},o.default.createElement("div",{className:(0,l.style)(l.classes.textField,{focus:t,invalid:""!==e.error})},o.default.createElement(d,null,o.default.createElement("input",{id:"name",className:(0,l.style)(l.classes.input,l.classes.simNameInput),type:"text",value:e.value,disabled:e.disabled,onChange:t=>{e.onChange(t.target.value)},autoComplete:"off",onFocus:e=>{a(!0),e.target.select()},onBlur:()=>a(!1)})))),o.default.createElement("div",{className:l.classes.formFieldError},e.error))})),t.SimNameInput.displayName="SimNameInput",t.SimRelativePathInput=(0,o.memo)((e=>{const{track:t}=(0,o.useContext)(c.AnalyticsContext),[a,s]=(0,o.useState)(!1);return o.default.createElement("div",{className:l.classes.formField},o.default.createElement("label",{htmlFor:"filename",className:l.classes.formFieldLabel},"Relative path"),o.default.createElement("div",{className:l.classes.formFieldValue},o.default.createElement("div",{className:(0,l.style)(l.classes.textField,{focus:a,invalid:""!==e.error})},o.default.createElement("input",{disabled:e.disabled,id:"path",className:(0,l.style)(l.classes.input,l.classes.fileNameInput),type:"text",value:e.value,onChange:a=>{t("changed relative path in create new simulation popup"),e.onChange(a.target.value)},autoComplete:"off",onFocus:e=>{s(!0),e.target.select()},onBlur:()=>s(!1)}),o.default.createElement("span",{className:l.classes.fileNameExt},n.boardExtension))),o.default.createElement("div",{className:l.classes.formFieldError},e.error))})),t.SimRelativePathInput.displayName="SimRelativePathInput",t.SimAbsolutePath=(0,o.memo)((e=>o.default.createElement("div",{className:l.classes.formField},o.default.createElement("label",{className:l.classes.formFieldLabel+" "+l.classes.formFieldLabelTop},"Full path"),o.default.createElement("div",{className:l.classes.formFieldValue},o.default.createElement("div",{className:l.classes.absolutePath},e.join(e.packagePath,e.value),n.boardExtension))))),t.SimAbsolutePath.displayName="SimAbsolutePath"},88446:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SideBarSectionContent=t.SideBarSectionHeader=t.HEADER_MIN_HEIGHT=t.SideBarSection=void 0;const s=a(5163),n=a(68680),o=s.__importDefault(a(87363)),r=a(70268),i=a(69202);t.SideBarSection=({children:e})=>o.default.createElement("div",{className:n.classes.root},e),t.HEADER_MIN_HEIGHT=72,t.SideBarSectionHeader=({children:e,onClose:a,showCloseButton:s=!1,title:r})=>o.default.createElement("div",{className:n.classes.header,style:{minHeight:e?`${t.HEADER_MIN_HEIGHT}px`:void 0}},o.default.createElement("div",{className:n.classes.topRow},r&&o.default.createElement("span",{className:n.classes.title},r),s&&o.default.createElement(i.DismissSmallIcon,{onClick:a,className:n.classes.closeIcon})),e),t.SideBarSectionContent=({children:e,onScroll:t})=>o.default.createElement(r.VerticalScrollView,{className:n.classes.scrollView,onScroll:t,topShadow:!0},e)},2560:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SideBarViews=t.SideBarTabId=void 0;const s=a(5163).__importStar(a(87363)),n=a(89746),o=a(88446),r=a(83135),i=a(6492),l=a(367),c=a(65145);a(29380);const u=a(69202),d=a(16042);t.SideBarTabId="simulation-side-bar-section-tab-",t.SideBarViews=(0,s.memo)((({isLoading:e,sectionViewSlot:a,simManager:m,className:p,disabled:f=!1,componentRef:S,boardFilePath:v,simList:h,previewEnvId:b,dir:E,collapsed:g,onCollapse:N})=>{const _=(0,d.useVisibility)(),{track:y}=(0,s.useContext)(r.AnalyticsContext),I=(0,s.useMemo)((()=>e?[]:[...a]),[e,a]),[w,C]=(0,s.useMemo)((()=>S.split("#")),[S]),P=(0,s.useCallback)((e=>e.type===l.COMPONENT_TAB_PANEL_TYPE&&e.filePath===w&&e.exportName===C),[w,C]),M=(0,r.useQueryParams)(["simulation","sidebarSection_"+E],P),R=M.simulation,O=M["sidebarSection_"+E],T=Math.max(0,I.findIndex((e=>e.sectionId===O))),A=I[T],D=g||"right"===E,x="right"===E,L=(0,u.useAddToSet)(A),B=(0,s.useCallback)((e=>{y(`click on section tab - ${I[e].sectionId}`),T!==e?((0,i.navigateToSimulationEditor)({componentFilePath:w,componentExportName:C,simulationFilePath:"string"==typeof R?R:void 0,rightSidebarSection:"right"===E?I[e].sectionId:void 0,leftSidebarSection:"left"===E?I[e].sectionId:void 0,keepExistingParams:!0}),g&&N()):N()}),[y,I,T,g,w,C,R,E,N]),V=(0,s.useMemo)((()=>I.map((e=>({id:t.SideBarTabId+e.sectionId,title:e.tooltip,icon:e.icon})))),[I]);return s.default.createElement("div",{className:(0,c.style)(c.classes.root,{collapsed:g,dir:E,verticalTabs:D},p)},(I.length>1||D)&&s.default.createElement(n.IconTabs,{className:c.classes.tabs,items:V,selectedIndex:T,onChange:B,expandable:"right"===E&&g,showTooltip:!g||"left"===E,showSelected:!g,dir:E}),Array.from(L).map((e=>{const t=!g&&e===A;return(x||t)&&s.default.createElement(d.VisibilityContext.Provider,{key:e.sectionId,value:_&&t},s.default.createElement("div",{className:(0,c.style)(c.classes.section,{closed:!t}),"data-id":"simulation-side-bar-section-"+e.sectionId},e&&s.default.createElement(o.SideBarSection,null,(e.headerComponent||e.title)&&s.default.createElement(o.SideBarSectionHeader,{title:e.title,showCloseButton:"right"===E,onClose:N},e.headerComponent&&s.default.createElement(e.headerComponent,{boardFilePath:v,previewEnvId:b,simList:h,componentRef:S,simManager:m})),s.default.createElement(o.SideBarSectionContent,null,s.default.createElement(e.Component,{previewEnvId:b,simManager:m,componentRef:S,boardFilePath:v,simList:h,disabled:f})))))})))})),t.SideBarViews.displayName="SideBarViews"},47879:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationCardMenu=void 0;const s=a(5163),n=a(91570),o=a(69202),r=a(98066),i=a(81177),l=a(70268),c=s.__importDefault(a(87363)),u=a(15701),d=a(84653);t.SimulationCardMenu=({children:e,componentExportName:t,componentFilePath:a,simulation:s,simulationList:m,simulationPopupController:p})=>{const f=(0,r.getComponentRef)(a,t),S=[{data:{item:u.content.boardActions.duplicate,action:()=>p.open(d.NEW_SIMULATION_POPUP_ID,"NewSimulation",{componentRef:f,activeSimulationName:s.name,simList:m,duplicate:!0,onSuccess:n.noop}),icon:c.default.createElement(o.DuplicateSmallIcon,null)}},{data:{item:u.content.boardActions.rename,action:()=>p.open(d.RENAME_SIMULATION_ID,"RenameSimulation",{componentRef:f,activeSimulationName:s.name,simList:m}),icon:c.default.createElement(o.RenameSmallIcon,null)}},{data:{item:u.content.boardActions.removeBoard,action:()=>p.open(d.DELETE_SIMULATION_ID,"DeleteSimulation",{componentRef:f,activeSimulationName:s.name}),icon:c.default.createElement(o.DeleteSmallIcon,null)}}];return c.default.createElement(l.ActionMenu,{menuItems:S,onAction:({data:e})=>{var t;return null===(t=e.action)||void 0===t?void 0:t.call(e)},positioningOptions:{targetAnchor:i.PositioningAnchor.BottomLeft,sourceAnchor:i.PositioningAnchor.TopLeft,boundary:(0,i.positioningAreaShrink)("window",{left:10,top:10,right:10,bottom:10}),flipOnVerticalOverflow:!0,flipOnHorizontalOverflow:!0}},e)}},23544:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationCard=void 0;const s=a(5163).__importStar(a(87363)),n=a(69202),o=a(86695),r=a(70268),i=a(47879),l=a(68222);a(22560),t.SimulationCard=(0,s.memo)((({className:e,componentExportName:t,componentFilePath:a,onSelect:c,simulation:u,demoErrorManager:d,simulationList:m,simulationPopupController:p,environmentPropsResourceManager:f,thumbHeight:S,thumbWidth:v})=>{var h;const b=v+2*Number(l.stVars.borderWidth);return s.default.createElement("div",{className:(0,l.style)(l.classes.root,e),style:{width:b},onClick:()=>null==c?void 0:c(u.id)},s.default.createElement(o.SimulationThumb,{className:l.classes.thumb,simulationId:u.id,width:v,height:S,environmentPropsResourceManager:f,demoErrorManager:d}),s.default.createElement("div",{className:l.classes.footer},s.default.createElement(r.LabelWithStatus,{className:l.classes.title,label:u.name,hasError:!!(null===(h=u.errors)||void 0===h?void 0:h.length),modified:u.isModified}),s.default.createElement("div",{className:l.classes.menuButtonWrap,onClick:e=>e.stopPropagation()},s.default.createElement(i.SimulationCardMenu,{componentFilePath:a,componentExportName:t,simulation:u,simulationList:m,simulationPopupController:p},s.default.createElement(r.IconButton,{className:l.classes.menuButton},s.default.createElement(n.MoreIcon,null))))))})),t.SimulationCard.displayName="SimulationCard"},54469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationDisplayProvider=t.useScaleToFitZoom=t.SimulationDisplayContext=void 0;const s=a(5163),n=s.__importStar(a(87363)),o=a(91570),r=a(10192),i=s.__importDefault(a(78435)),l=a(91374);t.SimulationDisplayContext=n.default.createContext({windowZoom:1,setWindowZoom:o.noop,windowContainerRef:n.default.createRef(),setWindowViewOptions:o.noop,windowViewOptions:{showGuidelines:!0,showPropertiesPanel:!0,showRulers:!0,showSimulationList:!0}}),t.useScaleToFitZoom=(e,t,a)=>{const s=(0,r.useLayoutBinding)((0,n.useCallback)((()=>(0,l.getWindowContainerSize)(e)),[e]),i.default,!!e.current);return s&&e.current?(0,l.getFittedWindowSize)(e.current,s,{height:a,width:t}):1},t.SimulationDisplayProvider=({children:e,windowViewOptions:a,setWindowViewOptions:s})=>{const o=(0,n.useRef)(null),[r,i]=(0,n.useState)(1),l=(0,n.useMemo)((()=>({windowZoom:r,setWindowZoom:i,windowContainerRef:o,windowViewOptions:a,setWindowViewOptions:s})),[s,i,a,r]);return n.default.createElement(t.SimulationDisplayContext.Provider,{value:l},e)},t.SimulationDisplayProvider.displayName="SimulationDisplayProvider"},94831:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationSelect=void 0;const s=a(5163).__importStar(a(87363)),n=a(70268),o=a(39906),r=a(69202),i=a(33215),l=({hideComponentIcon:e,hideModifiedIcon:t})=>a=>{const{isModified:r,name:l}=a.dataItem.data;return s.default.createElement("span",{className:i.classes.itemView},!e&&s.default.createElement(o.ThemedComponentIcon,{className:i.classes.componentIcon}),s.default.createElement(n.LabelWithStatus,{label:l.startsWith("default#")?l.split("default#")[1]:l,modified:!t&&r,className:i.classes.simulationText}))};t.SimulationSelect=(0,s.memo)((({items:e,onSelect:t,currentSimulationName:a,isCurrentSimModified:c,className:u,headerClassName:d,dropPanelClassName:m,hideComponentIcon:p,hideModifiedIcon:f,disabled:S=!1})=>{const v=e.map((e=>({data:{item:e.name,...e}}))),h=(0,s.useCallback)((e=>{t(e.data)}),[t]);return s.default.createElement(s.default.Fragment,null,s.default.createElement(n.SimpleDropdown,{menuItems:v,itemRenderer:l({hideModifiedIcon:f,hideComponentIcon:p}),onItemSelect:h,className:(0,i.style)(i.classes.root,{disabled:S},u),dropPanelClassName:(0,i.style)(i.classes.dropPanel,m)},s.default.createElement("div",{className:(0,i.style)(i.classes.simulationSelect,{})},s.default.createElement("div",{className:(0,i.style)(i.classes.simSelectHeader,{disabled:S},d)},!p&&s.default.createElement(o.ThemedComponentIcon,{className:i.classes.componentIcon}),s.default.createElement("div",{className:(0,i.style)(i.classes.simSelectHeaderTextContainer,{})},s.default.createElement("div",{className:(0,i.style)(i.classes.simSelectHeaderText,{})},a,!f&&c&&s.default.createElement(r.CircleIcon,{className:i.classes.modifiedIcon}))),s.default.createElement(r.ChevronDownWixUiIcon,{className:i.classes.simSelectHeaderIcon})))))})),t.SimulationSelect.displayName="SimulationSelect"},67850:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationSideBarContext=t.defaultSimulationSideBarContext=void 0;const s=a(5163).__importDefault(a(87363));t.defaultSimulationSideBarContext={sideBarSize:{leftSideBarWidth:0,rightSideBarWidth:0}},t.SimulationSideBarContext=s.default.createContext(t.defaultSimulationSideBarContext)},17078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zoom=t.SIMULATION_SIDE_BARS_SIZE_STORAGE_KEY=t.SIMULATION_WINDOW_VIEW_STORAGE_KEY=t.SIMULATIONS_SECTIONS_ID=t.SIMULATION_FEATURE_ID=void 0,t.SIMULATION_FEATURE_ID="simulation",t.SIMULATIONS_SECTIONS_ID="simulations",t.SIMULATION_WINDOW_VIEW_STORAGE_KEY="window-view-options",t.SIMULATION_SIDE_BARS_SIZE_STORAGE_KEY="sizebars-size",t.zoom={minZoom:.1,maxZoom:5,zoomStep:.25}},59264:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(72303),t),s.__exportStar(a(2560),t),s.__exportStar(a(54469),t),s.__exportStar(a(67850),t),s.__exportStar(a(55473),t),s.__exportStar(a(17078),t),s.__exportStar(a(6492),t),s.__exportStar(a(54231),t),s.__exportStar(a(83737),t),s.__exportStar(a(23544),t),s.__exportStar(a(58991),t)},6492:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToSimulationEditor=t.useSimulationsPanelQueryParams=void 0;const s=a(99979),n=a(83135),o=a(87363),r=a(1259);t.useSimulationsPanelQueryParams=({componentFilePath:e,componentExportName:t})=>{const a=(0,o.useMemo)((()=>a=>a.type===s.COMPONENT_TAB_PANEL_TYPE&&a.section===r.COMPONENT_SECTION_SIMULATIONS&&a.filePath===e&&a.exportName===t),[e,t]);return{simulation:(0,n.useQueryParams)(["simulation"],a).simulation}},t.navigateToSimulationEditor=({componentExportName:e,componentFilePath:t,keepExistingParams:a=!1,leftSidebarSection:s,rightSidebarSection:o,simulationFilePath:i})=>{const{type:l,...c}=(0,r.createSimulationEditorQueryParams)(t,e,i,o,s);(0,n.navigateToPanel)({type:l,props:c,keepExistingParams:a})}},54231:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(80060),t),s.__exportStar(a(90890),t),s.__exportStar(a(91374),t)},80060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationDrawerController=void 0,t.SimulationDrawerController=class{constructor(e,t){this.guiStore=e,this.drawers=new Map,this.open=(e,t)=>this.setState(e,{activeTab:t}),this.close=e=>this.setState(e,{activeTab:void 0}),this.getState=e=>{const t=this.drawers.get(e);return t?t.state:this.defaultState},this.getActiveTabId=()=>this.guiStore.getState().focusedTab.id,this.subscribe=(e,t)=>{const a=this.getState(e);this.drawers.set(e,{cb:t,state:a})},this.unsubscribe=e=>{this.drawers.delete(e)},this.setState=(e,t)=>{const a=this.drawers.get(e);a&&(a.state=Object.assign({},a.state,t),a.cb())},this.defaultState={activeTab:t.activeTab}}}},90890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationPopupController=void 0,t.SimulationPopupController=class{constructor(e){this.guiStore=e,this.open=(e,t,a)=>{this.guiStore.openOverlay({id:e,panelType:t,options:{placement:"bottom-start"},panelProps:a})},this.close=e=>{this.guiStore.closePanel(e)}}}},91374:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowContainerSize=t.getFittedWindowSize=t.getCanvasSizeFromIframe=t.getWindowSize=t.getCanvasMarginFromIframe=t.getResolvedCanvasSize=t.formatCanvasMargins=void 0;const s=a(50210),n=a(84084);t.formatCanvasMargins=function(e,t){const a=t.canvasMargin&&"number"==typeof t.canvasMargin.top,s=t.canvasMargin&&"number"==typeof t.canvasMargin.left,n=t.canvasMargin&&"number"==typeof t.canvasMargin.right,o=t.canvasMargin&&"number"==typeof t.canvasMargin.bottom;return{top:a?e.top:void 0,bottom:o?e.bottom:void 0,left:s?e.left:void 0,right:n?e.right:void 0}},t.getResolvedCanvasSize=function(e,t){if(e.canvasMargin){const{top:a,left:s,right:n,bottom:o}=e.canvasMargin,r="number"==typeof s&&"number"==typeof n,i="number"==typeof a&&"number"==typeof o;return{width:{value:t.width?Math.ceil(t.width):0,auto:r||"number"!=typeof e.canvasWidth},height:{value:t.height?Math.ceil(t.height):0,auto:i||"number"!=typeof e.canvasHeight}}}return{width:{value:t.width?Math.ceil(t.width):0,auto:"number"!=typeof e.canvasWidth},height:{value:t.height?Math.ceil(t.height):0,auto:"number"!=typeof e.canvasHeight}}},t.getCanvasMarginFromIframe=e=>{var t;if(!e.current||!e.current.contentDocument)return;const a=e.current.contentDocument.querySelector(`.${n.SIMULATION_CANVAS_CLASS_NAME}`);if(!a)return;const s=null===(t=e.current.contentWindow)||void 0===t?void 0:t.getComputedStyle(a);if(!s)return;const{marginTop:o,marginRight:r,marginBottom:i,marginLeft:l}=s;return{top:Math.ceil(parseInt(o,10)),bottom:Math.ceil(parseInt(i,10)),left:Math.ceil(parseInt(l,10)),right:Math.ceil(parseInt(r,10))}},t.getWindowSize=function(e,t){return{windowWidth:"number"==typeof e.windowWidth?e.windowWidth:void 0!==t.windowWidth?t.windowWidth:s.defaultEnvironmentProperties.windowWidth,windowHeight:e.windowHeight&&"number"==typeof e.windowHeight?e.windowHeight:void 0!==t.windowHeight?t.windowHeight:s.defaultEnvironmentProperties.windowHeight}},t.getCanvasSizeFromIframe=e=>{if(e.current&&e.current.contentDocument){const t=e.current.contentDocument.querySelector(`.${n.SIMULATION_CANVAS_CLASS_NAME}`);if(t){const e=t.getBoundingClientRect();return{height:e.height,width:e.width}}return{height:0,width:0}}return{height:0,width:0}},t.getFittedWindowSize=function(e,t,a){const{paddingTop:s,paddingLeft:n,paddingRight:o,paddingBottom:r}=window.getComputedStyle(e),i=parseInt(n)+parseInt(o),l=parseInt(s)+parseInt(r),c=(t.width-i)/a.width,u=(t.height-l)/a.height;return Math.min(c,u)},t.getWindowContainerSize=function(e){if(e.current){const{width:t,height:a}=e.current.getBoundingClientRect();return{width:t,height:a}}return{width:0,height:0}}},83737:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortcuts=void 0;const s=a(62202);t.shortcuts={reload:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.ALT,s.KEYBOARD.R],newSimulation:[s.KEYBOARD.ALT,s.KEYBOARD.N],toggleCodeDrawer:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.SHIFT,s.KEYBOARD.D],duplicateSimulation:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.D],zoomIn:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.EQUALS],zoomOut:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.SHIFT,s.KEYBOARD.MINUS],shiftZoomIn:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.SHIFT,s.KEYBOARD.EQUALS],shiftZoomOut:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD.MINUS],zoomDefault:[s.KEYBOARD.UNIVERSAL_CONTROL,s.KEYBOARD[0]]}},24394:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePreviewCanvasIsEmpty=t.usePreviewFrame=void 0;const s=a(87363),n=a(93849),o=a(69202),r=a(2502),i=a(26904),l=a(9029);t.usePreviewFrame=e=>{const{simulationPreview:{previewController:t,simulationWindowController:a}}=(0,l.useMainContext)(),[c,u]=(0,s.useState)(!0),[d,m]=(0,s.useState)(!1),p=(0,s.useRef)({version:0,simulationId:e}),f=(0,s.useCallback)((e=>{"beforeRender"===e.type?m(!1):"afterRender"===e.type&&m(!0)}),[]),{simulationId:S}=p.current;e&&S&&(S.componentTypeRef!==e.componentTypeRef||(null==S?void 0:S.filePath)!==(null==e?void 0:e.filePath))&&p.current.version++,p.current.simulationId=e;const{renderFrame:v,id:h,iframeRef:b,reloadPreview:E}=(0,r.useEngineFrame)(i.previewEnv,e?{filePath:e.filePath,exportName:e.componentTypeRef}:void 0,!!e),g=(0,s.useMemo)((()=>({envInstanceId:h,previewController:t.get({id:h}),windowController:a.get({id:h})})),[h,t,a]);(0,s.useEffect)((()=>{let e=!0;return g.previewController.subscribe(f).catch((()=>{e&&E()})),()=>{e=!1,g.previewController.unsubscribe(f).catch(n.reportError)}}),[g,f,E]);const N=(0,o.useIsMountedRef)(),_=(0,s.useCallback)((({className:e,onFrameReady:t,onScroll:a,style:n})=>{const o=(0,s.useCallback)((e=>{N.current&&u(!1);const a=t&&t(e);return()=>{N.current&&(u(!0),a&&a())}}),[t]);return v({className:e,onScroll:a,style:n,onFrameReady:o})}),[v,N]);return{previewFrameManager:g,previewLoading:c,reloadPreview:E,PreviewFrame:_,iframeRef:b,renderComplete:d}},t.usePreviewCanvasIsEmpty=e=>{const[t,a]=(0,s.useState)(),r=(0,o.useIsMountedRef)();return(0,s.useEffect)((()=>{a(void 0);const t=e=>r.current&&a(e),s=e=>r.current&&(0,n.reportError)(e);return null==e||e.isCanvasEmpty().then(t).catch(s),null==e||e.addCanvasIsEmptyListener(t).catch(s),()=>{null==e||e.removeCanvasIsEmptyListener(t).catch(s)}}),[e,r]),t}},21734:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimulationThumb=void 0;const s=a(5163),n=a(69202),o=a(27941),r=a(98066),i=a(70268),l=s.__importStar(a(87363)),c=a(80673),u=a(24394),d=a(50210),m=a(58487);a(49389);const p=a(16042),f=e=>{var t;return null===(t=e.contentDocument)||void 0===t?void 0:t.querySelector(`.${c.SIMULATION_CANVAS_CLASS_NAME}`)};t.SimulationThumb=({className:e,simulationId:t,width:a,height:s,environmentPropsResourceManager:c,demoErrorManager:S})=>{var v,h,b;t=(0,l.useMemo)((()=>t),[(0,r.demoIdToString)(t)]);const E=(0,p.useVisibility)(),g=null===(v=(0,o.useResourceValue)({resourceManager:S,resourceId:t,enabled:E}))||void 0===v?void 0:v.errors,N=g?(0,r.getTypeOfMostSevereDemoError)(g):void 0,_=g&&void 0!==N?g[N]:void 0,[y,I]=(0,l.useState)(0),[w,C]=(0,l.useState)(0),[P,M]=(0,l.useState)(0),[R,O]=(0,l.useState)(0),T=(0,o.useResourceValue)({resourceManager:c,resourceId:t.filePath,enabled:E}),A=null!==(h=null==T?void 0:T.windowWidth)&&void 0!==h?h:d.defaultEnvironmentProperties.windowWidth,D=null!==(b=null==T?void 0:T.windowHeight)&&void 0!==b?b:d.defaultEnvironmentProperties.windowHeight,x=e=>{if(e&&null!==e.offsetParent){const t=e.getBoundingClientRect();I(t.width),C(t.height),M(t.left),O(t.top)}},{renderComplete:L,PreviewFrame:B,iframeRef:V}=(0,u.usePreviewFrame)(t),k=(0,n.useIsMountedRef)();(0,l.useEffect)((()=>{if(!L||!V.current||!k.current)return;const e=f(V.current);if(e){const t=new ResizeObserver((()=>{k.current&&x(e)}));return t.observe(e,{box:"border-box"}),()=>{t.unobserve(e),t.disconnect()}}}),[L,V,k]),(0,l.useEffect)((()=>{V.current&&L&&x(f(V.current))}),[L,A,D,V]);const F=Math.max(0,P),W=Math.max(0,R),j=Math.min(A,P+y),U=Math.min(D,R+w),H=Math.min(1,(a-24)/(j-F)||1/0,(s-24)/(U-W)||1/0),z={width:A,height:D,transform:`translate(${.5*(a-H*(F+j))}px, ${.5*(s-H*(W+U))}px) scale(${H})`};return l.default.createElement("div",{className:(0,m.style)(m.classes.root,e),style:{width:a,height:s}},l.default.createElement("div",{className:m.classes.iframeContainer},B({style:z,className:m.classes.iframe})),L?void 0!==_?l.default.createElement(i.Tooltip,{className:m.classes.errorTooltip,content:_},l.default.createElement("div",{className:m.classes.error},l.default.createElement(n.BlockIcon,{className:m.classes.errorIcon}),l.default.createElement("div",{className:m.classes.errorTitle},"Error"))):null:l.default.createElement("div",{className:m.classes.loading},l.default.createElement(i.Spinner,{className:m.classes.spinner})))}},72776:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(5163);s.__exportStar(a(21734),t),s.__exportStar(a(24394),t),s.__exportStar(a(27487),t)},27487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86695:(e,t,a)=>{e.exports=a(72776)},39906:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemedComponentIcon=void 0,a(68118);var s=a(69202);Object.defineProperty(t,"ThemedComponentIcon",{enumerable:!0,get:function(){return s.ComponentIcon}})}}]);