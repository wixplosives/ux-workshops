(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[3709],{20329:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.universalCtrl=t.MOUSE=t.KEYBOARD=void 0;const n=i(91570);t.KEYBOARD={UNIDENTIFIED:"Unidentified",ESCAPE:"Escape",MINUS:"Minus",DASH:"Minus",EQUALS:"Equal",BACK_SPACE:"Backspace",TAB:"Tab",ENTER:"Enter",RETURN:"Enter",SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",PAUSE:"Pause",CAPS_LOCK:"CapsLock",SPACE:"Space",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",PRINTSCREEN:"PrintScreen",INSERT:"Insert",DELETE:"Delete",0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",A:"KeyA",B:"KeyB",C:"KeyC",D:"KeyD",E:"KeyE",F:"KeyF",G:"KeyG",H:"KeyH",I:"KeyI",J:"KeyJ",K:"KeyK",L:"KeyL",M:"KeyM",N:"KeyN",O:"KeyO",P:"KeyP",Q:"KeyQ",R:"KeyR",S:"KeyS",T:"KeyT",U:"KeyU",V:"KeyV",W:"KeyW",X:"KeyX",Y:"KeyY",Z:"KeyZ",META:"Meta",OS_LEFT:"OSLeft",CONTEXT_MENU:"ContextMenu",NUMPAD0:"Numpad0",NUMPAD1:"Numpad1",NUMPAD2:"Numpad2",NUMPAD3:"Numpad3",NUMPAD4:"Numpad4",NUMPAD5:"Numpad5",NUMPAD6:"Numpad6",NUMPAD7:"Numpad7",NUMPAD8:"Numpad8",NUMPAD9:"Numpad9",NUMPAD_MULTIPLY:"NumpadMultiply",NUMPAD_ADD:"NumpadAdd",NUMPAD_SUBTRACT:"NumpadSubtract",NUMPAD_DECIMAL:"NumpadDecimal",NUMPAD_DIVIDE:"NumpadDivide",NUMPAD_ENTER:"NumpadEnter",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",NUM_LOCK:"NumLock",SCROLL_LOCK:"ScrollLock",SEMICOLON:"Semicolon",COMMA:"Comma",PERIOD:"Period",SLASH:"Slash",BACK_QUOTE:"Backquote",OPEN_BRACKET:"BracketLeft",BACK_SLASH:"Backslash",CLOSE_BRACKET:"BracketRight",QUOTE:"Quote",UNIVERSAL_CONTROL:n.isMac?"Meta":"Control"},t.MOUSE={WHEEL_VERTICAL:"wheelVertical",WHEEL_HORIZONTAL:"wheelHorizontal"},t.universalCtrl=n.isMac?t.KEYBOARD.META:t.KEYBOARD.CONTROL},47263:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(5163),r=i(93849),s=n.__importDefault(i(93208)),a=i(5689),o=n.__importDefault(i(2206)),l=n.__importDefault(i(82026));t.default=new r.Feature({id:"filePreview",api:{previewStore:r.Service.withType().defineEntity(a.mainEnv),filePreviewerSlot:r.Slot.withType().defineEntity(a.mainEnv)},dependencies:[s.default.asEntity,o.default.asEntity,l.default.asEntity]})},46563:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(5163),r=n.__importDefault(i(87363)),s=i(5689),a=i(69202),o=n.__importDefault(i(47263)),l=i(17951),d=i(64120);o.default.setup(s.mainEnv,(({filePreviewerSlot:e},{gui:{panelStore:t},project:{fileManagerMain:i},projectUI:{openFileSlot:n}})=>(n.register(l.FILE_PREVIEW_ENTRY_ID,{label:l.content.filePreviewActionLabel,actionIcon:r.default.createElement(a.PreviewIcon,null),test:t=>!!(0,d.findMatchingPreviewer)(t,[...e]),panelFactoryType:l.FILE_PREVIEW_PANEL_TYPE,factory:({filePath:n},s)=>{const a=(0,d.findMatchingPreviewer)(n,[...e]),o=i.get(n);return r.default.createElement(d.Previewer,{previewer:a,fileResource:o,filePath:n,guiStore:t,panelConfig:s})}}),{previewStore:new d.PreviewStore(t)})))},47374:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Previewer=void 0;const n=i(5163).__importStar(i(87363));class r extends n.PureComponent{constructor(){super(...arguments),this.updatePreview=()=>this.forceUpdate(),this.handlePreviewClick=()=>{this.props.guiStore.setActiveTab(this.props.panelConfig.id)}}async componentDidMount(){const{fileResource:e}=this.props;await e.ready,this.updatePreview(),e.subscribe(this.updatePreview)}componentWillUnmount(){this.props.fileResource.unsubscribe(this.updatePreview)}render(){const{filePath:e,previewer:t,fileResource:i}=this.props;return n.default.createElement("div",{"data-file-preview":e,onClick:this.handlePreviewClick},i.isReady()?t.render(e):"loading...")}}t.Previewer=r},87401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMatchingPreviewer=void 0,t.findMatchingPreviewer=function(e,t){const i=t.filter((t=>t.predicate(e)));return i[i.length-1]}},64120:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(5163);n.__exportStar(i(47374),t),n.__exportStar(i(94828),t),n.__exportStar(i(87401),t),n.__exportStar(i(28286),t)},94828:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewStore=void 0;const n=i(91570),r=i(83135),s=i(17951);function a(e){return e.panelType===s.FILE_PREVIEW_PANEL_TYPE}t.PreviewStore=class{constructor(e){this.activePreview=null,this.openPreviews=[],this.subscribersToActivePreview=(0,n.setupSubscribers)(),this.subscribersToOpenPreviews=(0,n.setupSubscribers)(),e.getOpenPanels().filter(a).forEach((e=>{const{id:t,panelProps:{filePath:i}}=e;this.handleOpenedPreview({panelId:t,filePath:i})})),this.activePreview=this.getLastOpenedPreview(),e.subscribe((({oldState:e,newState:t,changeLog:i})=>{i.forEach((i=>{this.handlePanelClosing(i,e),this.handlePanelOpening(i,t),this.handleTabChange(i,t)}))}))}getOpenPreviews(){return this.openPreviews}getActivePreview(){return this.activePreview}setActivePreview(e){(null===e||-1!==this.findPreviewIndex(e)&&this.activePreview&&this.activePreview.panelId!==e.panelId)&&(this.activePreview=e,this.subscribersToActivePreview.internals.notify(e))}subscribeToActive(e){this.subscribersToActivePreview.subscribe(e)}unsubscribeFromActive(e){this.subscribersToActivePreview.unsubscribe(e)}subscribeToOpen(e){this.subscribersToOpenPreviews.subscribe(e)}unsubscribeFromOpen(e){this.subscribersToOpenPreviews.unsubscribe(e)}handleOpenedPreview(e){-1===this.findPreviewIndex(e)&&(this.openPreviews.push(e),this.subscribersToOpenPreviews.internals.notify(this.getOpenPreviews()),this.setActivePreview(e))}handleClosedPreview(e){const t=this.findPreviewIndex(e);t>=0&&(this.openPreviews.splice(t,1),this.subscribersToOpenPreviews.internals.notify(this.getOpenPreviews()),this.activePreview&&this.activePreview.panelId===e.panelId&&this.setActivePreview(this.getLastOpenedPreview()))}findPreviewIndex(e){return this.openPreviews.findIndex((t=>e.panelId===t.panelId))}getPreviewByPanelId(e){return this.getOpenPreviews().find((t=>t.panelId===e))}handlePanelClosing(e,t){if("closePanel"===e.type){const i=(0,r.findPanelById)(t,e.panelId);i&&i.panelType===s.FILE_PREVIEW_PANEL_TYPE&&this.handleClosedPreview(this.getPreviewByPanelId(i.id))}}handlePanelOpening(e,t){if("openPanel"===e.type){const i=(0,r.findPanelById)(t,e.panelId);if(i&&a(i)){const{id:e,panelProps:{filePath:t}}=i;this.handleOpenedPreview({panelId:e,filePath:t})}}}handleTabChange(e,t){if("setActiveTab"===e.type){const i=(0,r.findPanelById)(t,e.panelId);if(i&&a(i)){const{id:e,panelProps:{filePath:t}}=i;this.setActivePreview({panelId:e,filePath:t})}}}getLastOpenedPreview(){return this.getOpenPreviews().slice(-1).pop()||null}}},28286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},23332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_PREVIEW_PANEL_TYPE=t.FILE_PREVIEW_ENTRY_ID=void 0,t.FILE_PREVIEW_ENTRY_ID="preview_panel",t.FILE_PREVIEW_PANEL_TYPE="FilePreviewPanel"},29031:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.content=void 0,t.content={filePreviewActionLabel:"Preview Panel"}},17951:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(5163);n.__exportStar(i(23332),t),n.__exportStar(i(29031),t)},83135:(e,t,i)=>{e.exports=i(77467)},2618:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(43345);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},43345:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFileTreeConfig=void 0;const n=i(5163),r=i(93849),s=n.__importDefault(i(2206)),a=n.__importDefault(i(93208)),o=i(5689),l=n.__importDefault(i(83654)),d=n.__importDefault(i(1529));t.defaultFileTreeConfig={openedItems:[]},t.default=new r.Feature({id:"projectUI",dependencies:[s.default.asEntity,a.default.asEntity,l.default.asEntity,d.default.asEntity],api:{slotsProcessor:r.Service.withType().defineEntity(o.mainEnv),fileTreeStore:r.Service.withType().defineEntity(o.mainEnv),fileTreeConfig:new r.Config(t.defaultFileTreeConfig),openFilesService:r.Service.withType().defineEntity(o.mainEnv),openFilesConfig:new r.Config({targetAreaGroup:"content",openFiles:[]}),openFileSlot:r.MapSlot.withType().defineEntity(o.mainEnv),contextMenuSlot:r.Slot.withType().defineEntity(o.mainEnv),fileChildrenSlot:r.Slot.withType().defineEntity(o.mainEnv),decorationIconsSlot:r.Slot.withType().defineEntity(o.mainEnv),copyPasteManager:r.Service.withType().defineEntity(o.mainEnv),fileStylingSlot:r.OrderedSlot.withType().defineEntity(o.mainEnv),fileStylingConfig:new r.Config([]),fileIconSlot:r.OrderedSlot.withType().defineEntity(o.mainEnv),fileIconService:r.Service.withType().defineEntity(o.mainEnv),renderFileIconConfig:new r.Config([["extension",["default"]]])}})},82026:(e,t,i)=>{e.exports=i(2618)},43934:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=i(5163);n.__exportStar(i(31434),t);var r=i(31434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(r).default}})},2206:(e,t,i)=>{e.exports=i(43934)}}]);