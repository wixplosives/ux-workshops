/*! For license information please see [main]actions.web.js.LICENSE.txt */
(self.webpackChunk_wixc3_component_playground=self.webpackChunk_wixc3_component_playground||[]).push([[1570],{64049:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(93849),n=o(5689);e.default=new r.Feature({id:"shortcuts",dependencies:[],api:{shortcutService:r.Service.withType().defineEntity(n.mainEnv),actionService:r.Service.withType().defineEntity(n.mainEnv)}})},66490:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(5163),n=o(5689),i=o(10045);r.__importDefault(o(64049)).default.setup(n.mainEnv,(({onDispose:t},{})=>{const e=new i.ShortcutService;e.subscribe(n.mainEnv.env);const o=new i.ActionsService(e);return t((()=>{e.unsubscribe(n.mainEnv.env)})),{actionService:o,shortcutService:e}}))},66725:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionsService=void 0,e.ActionsService=class{constructor(t){this.shortcutService=t,this.actions=new Map}addAction(t){if(this.actions.has(t.name))throw new Error(`Action '${t.name}' already exists`);this.actions.set(t.name,{...t,handler:function(e){t.handler(e)}}),t.shortcut&&this.setShortcut(t.name,t.shortcut,t.shortcutOptions)}removeAction(t){const e=this.actions.get(t);if(!e)throw new Error(`Action '${t}' does not exist`);e.shortcut&&this.shortcutService.off(e.shortcut,e.handler,e.shortcutOptions),this.actions.delete(t)}deleteShortcut(t){const e=this.actions.get(t);if(!(null==e?void 0:e.shortcut))throw new Error("Action not found");this.shortcutService.off(e.shortcut,e.handler,e.shortcutOptions),e.shortcut=void 0,e.shortcutOptions=void 0}setShortcut(t,e,o){const r=this.actions.get(t);if(!r)throw new Error(`Action '${t}' does not exist`);r.shortcut&&this.deleteShortcut(r.name),Object.assign(r,{shortcut:e,shortcutOptions:o}),this.shortcutService.on(e,r.handler,r.shortcutOptions)}}},59401:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWheelEvent=e.isKeyboardEvent=void 0,e.isKeyboardEvent=function(t){return"keydown"===t.type},e.isWheelEvent=function(t){return"wheel"===t.type}},10045:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(5163);r.__exportStar(o(59401),e),r.__exportStar(o(76353),e),r.__exportStar(o(66725),e),r.__exportStar(o(66131),e),r.__exportStar(o(27113),e)},76353:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShortcutService=void 0;const r=o(20329),n=o(59401);e.ShortcutService=class{constructor(){this.disabledShortcuts=new Set([]),this.globalShortcuts={},this.scopedShortcuts={},this.isolatedScope=!1,this.forcedGlobal={},this.windows=new Map,this.execute=t=>{const e=this.getEventCode(t),o=t.ctrlKey&&r.KEYBOARD.CONTROL,n=t.metaKey&&r.KEYBOARD.META,i=t.altKey&&r.KEYBOARD.ALT,c=t.shiftKey&&r.KEYBOARD.SHIFT;if(e===r.KEYBOARD.CONTROL||e===r.KEYBOARD.META||e===r.KEYBOARD.SHIFT||e===r.KEYBOARD.ALT)return;const s=[o,n,i,c,e].filter((t=>!!t)).sort().join("+"),a=this.getActiveScope(s);if(a)for(const e of a)e(t)}}setScope(t,e={isIsolated:!1}){const{isIsolated:o}=e;this.scope=t,this.isolatedScope=null!=o&&o}getScope(){return this.scope}getIsolatedScope(){return this.isolatedScope}removeScope(t){this.scope===t&&(this.scope=void 0),this.isolatedScope=!1}subscribe(t,e=window){this.windows.set(t,e),e.addEventListener("keydown",this.execute,{capture:!0}),e.addEventListener("wheel",this.execute,{capture:!0})}unsubscribe(t){const e=this.windows.get(t);null==e||e.removeEventListener("keydown",this.execute,{capture:!0}),null==e||e.removeEventListener("wheel",this.execute,{capture:!0}),this.windows.delete(t)}on(t,e,o){const r=null==o?void 0:o.scope,n=null==o?void 0:o.forcedGlobal,i=this.normalizeEventCode(t);r?(this.scopedShortcuts[r]||(this.scopedShortcuts[r]={}),this.scopedShortcuts[r][i]?this.scopedShortcuts[r][i].push(e):this.scopedShortcuts[r][i]=[e]):n?this.forcedGlobal[i]?this.forcedGlobal[i].push(e):this.forcedGlobal[i]=[e]:this.globalShortcuts[i]?this.globalShortcuts[i].push(e):this.globalShortcuts[i]=[e]}off(t,e,o){const r=this.normalizeEventCode(t),{index:n,relevantShortcuts:i}=this.getIndexOfShortcut(r,e,o);-1!==n&&i[r].splice(n,1)}enableShortcut(t){this.disabledShortcuts.delete(this.normalizeEventCode(t))}disableShortcut(t){this.disabledShortcuts.add(this.normalizeEventCode(t))}getEventCode(t){return(0,n.isKeyboardEvent)(t)?t.code:0!==t.deltaY?r.MOUSE.WHEEL_VERTICAL:0!==t.deltaX?r.MOUSE.WHEEL_HORIZONTAL:void 0}normalizeEventCode(t){return t.sort().join("+")}getActiveScope(t){var e;if(!this.disabledShortcuts.has(t))return this.scope&&(null===(e=this.scopedShortcuts[this.scope])||void 0===e?void 0:e[t])?this.scopedShortcuts[this.scope][t]:!this.isolatedScope&&this.globalShortcuts[t]?this.globalShortcuts[t]:this.forcedGlobal[t]?this.forcedGlobal[t]:void 0}getIndexOfShortcut(t,e,o){const r=null==o?void 0:o.scope,n=null==o?void 0:o.forcedGlobal;let i;return i=r&&this.scopedShortcuts[r]?this.scopedShortcuts[r]:n?this.forcedGlobal:this.globalShortcuts,{index:i[t]?i[t].indexOf(e):-1,relevantShortcuts:i}}}},27113:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useShortcutScope=void 0;const r=o(10067),n=o(87363);e.useShortcutScope=t=>{const{shortcuts:{shortcutService:e}}=(0,r.useMainContext)(),o=(0,n.useMemo)((()=>({activate:()=>e.setScope(t),deactivate:()=>e.removeScope(t)})),[e,t]);return(0,n.useEffect)((()=>(o.activate(),o.deactivate)),[o]),o}},66131:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useShortcut=void 0;const r=o(87363),n=o(9029);e.useShortcut=function(t,e,{forcedGlobal:o,scope:i}={}){const{shortcuts:{shortcutService:c}}=(0,n.useMainContext)(),s=(0,r.useCallback)(e,[e]);(0,r.useEffect)((()=>{const e={forcedGlobal:o,scope:i};return c.on(t,s,e),()=>c.off(t,s,e)}),[s,c,t,o,i])}},20329:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.universalCtrl=e.MOUSE=e.KEYBOARD=void 0;const r=o(91570);e.KEYBOARD={UNIDENTIFIED:"Unidentified",ESCAPE:"Escape",MINUS:"Minus",DASH:"Minus",EQUALS:"Equal",BACK_SPACE:"Backspace",TAB:"Tab",ENTER:"Enter",RETURN:"Enter",SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",PAUSE:"Pause",CAPS_LOCK:"CapsLock",SPACE:"Space",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",PRINTSCREEN:"PrintScreen",INSERT:"Insert",DELETE:"Delete",0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",A:"KeyA",B:"KeyB",C:"KeyC",D:"KeyD",E:"KeyE",F:"KeyF",G:"KeyG",H:"KeyH",I:"KeyI",J:"KeyJ",K:"KeyK",L:"KeyL",M:"KeyM",N:"KeyN",O:"KeyO",P:"KeyP",Q:"KeyQ",R:"KeyR",S:"KeyS",T:"KeyT",U:"KeyU",V:"KeyV",W:"KeyW",X:"KeyX",Y:"KeyY",Z:"KeyZ",META:"Meta",OS_LEFT:"OSLeft",CONTEXT_MENU:"ContextMenu",NUMPAD0:"Numpad0",NUMPAD1:"Numpad1",NUMPAD2:"Numpad2",NUMPAD3:"Numpad3",NUMPAD4:"Numpad4",NUMPAD5:"Numpad5",NUMPAD6:"Numpad6",NUMPAD7:"Numpad7",NUMPAD8:"Numpad8",NUMPAD9:"Numpad9",NUMPAD_MULTIPLY:"NumpadMultiply",NUMPAD_ADD:"NumpadAdd",NUMPAD_SUBTRACT:"NumpadSubtract",NUMPAD_DECIMAL:"NumpadDecimal",NUMPAD_DIVIDE:"NumpadDivide",NUMPAD_ENTER:"NumpadEnter",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",NUM_LOCK:"NumLock",SCROLL_LOCK:"ScrollLock",SEMICOLON:"Semicolon",COMMA:"Comma",PERIOD:"Period",SLASH:"Slash",BACK_QUOTE:"Backquote",OPEN_BRACKET:"BracketLeft",BACK_SLASH:"Backslash",CLOSE_BRACKET:"BracketRight",QUOTE:"Quote",UNIVERSAL_CONTROL:r.isMac?"Meta":"Control"},e.MOUSE={WHEEL_VERTICAL:"wheelVertical",WHEEL_HORIZONTAL:"wheelHorizontal"},e.universalCtrl=r.isMac?e.KEYBOARD.META:e.KEYBOARD.CONTROL},9029:(t,e,o)=>{t.exports=o(10067)},5163:(t,e,o)=>{"use strict";o.r(e),o.d(e,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>O,__await:()=>E,__awaiter:()=>l,__classPrivateFieldGet:()=>D,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>d,__extends:()=>n,__generator:()=>h,__importDefault:()=>g,__importStar:()=>P,__makeTemplateObject:()=>m,__metadata:()=>u,__param:()=>a,__read:()=>y,__rest:()=>c,__spread:()=>v,__spreadArray:()=>_,__spreadArrays:()=>S,__values:()=>p});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},r(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var i=function(){return i=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},i.apply(this,arguments)};function c(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]])}return o}function s(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c}function a(t,e){return function(o,r){e(o,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,o,r){return new(o||(o=Promise))((function(n,i){function c(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(c,s)}a((r=r.apply(t,e||[])).next())}))}function h(t,e){var o,r,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((n=(n=c.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f=Object.create?function(t,e,o,r){void 0===r&&(r=o),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,r){void 0===r&&(r=o),t[r]=e[o]};function d(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||f(e,t,o)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],r=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var r,n,i=o.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return c}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function S(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<o;e++)for(var i=arguments[e],c=0,s=i.length;c<s;c++,n++)r[n]=i[c];return r}function _(t,e,o){if(o||2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function b(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=o.apply(t,e||[]),i=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(t){n[t]&&(r[t]=function(e){return new Promise((function(o,r){i.push([t,e,o,r])>1||s(t,e)}))})}function s(t,e){try{(o=n[t](e)).value instanceof E?Promise.resolve(o.value.v).then(a,u):l(i[0][2],o)}catch(t){l(i[0][3],t)}var o}function a(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(t){var e,o;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,n){e[r]=t[r]?function(e){return(o=!o)?{value:E(t[r](e)),done:"return"===r}:n?n(e):e}:n}}function O(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,o=t[Symbol.asyncIterator];return o?o.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(e){return new Promise((function(r,n){!function(t,e,o,r){Promise.resolve(r).then((function(e){t({value:e,done:o})}),e)}(r,n,(e=t[o](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var A=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&f(e,t,o);return A(e,t),e}function g(t){return t&&t.__esModule?t:{default:t}}function D(t,e,o,r){if("a"===o&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?r:"a"===o?r.call(t):r?r.value:e.get(t)}function N(t,e,o,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(t,o):n?n.value=o:e.set(t,o),o}}}]);